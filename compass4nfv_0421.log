onos@jumpserver:~/compass4nfv_git/compass4nfv_bm$ export INSTALL_NIC=eth1
onos@jumpserver:~/compass4nfv_git/compass4nfv_bm$ export OS_VERSION=trusty
onos@jumpserver:~/compass4nfv_git/compass4nfv_bm$ export OPENSTACK_VERSION=liberty
onos@jumpserver:~/compass4nfv_git/compass4nfv_bm$ export ISO_URL=file:///home/onos/compass.iso
onos@jumpserver:~/compass4nfv_git/compass4nfv_bm$ ./deploy.sh --dha os-onos-nofeature-ha.yml --network network.yml
[sudo] password for onos: 
Reading package lists... Done
Building dependency tree       
Reading state information... Done
python-pip is already the newest version.
The following packages were automatically installed and are no longer required:
  python-chardet-whl python-colorama-whl python-distlib-whl
  python-html5lib-whl python-pip-whl python-requests-whl python-setuptools-whl
  python-six-whl python-urllib3-whl python3-pkg-resources
Use 'apt-get autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 457 not upgraded.
Requirement already up-to-date: virtualenv in /usr/local/lib/python2.7/dist-packages
Cleaning up...
New python executable in /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/bin/python
Installing setuptools, pip, wheel...done.
Requirement already up-to-date: pip in ./work/deploy/venv/lib/python2.7/site-packages
Collecting cheetah
Collecting Markdown>=2.0.1 (from cheetah)
Installing collected packages: Markdown, cheetah
Successfully installed Markdown-2.6.6 cheetah-2.4.4
Collecting pyyaml
Installing collected packages: pyyaml
Successfully installed pyyaml-3.11
Collecting requests
  Using cached requests-2.9.1-py2.py3-none-any.whl
Installing collected packages: requests
Successfully installed requests-2.9.1
Collecting netaddr
  Downloading netaddr-0.7.18-py2.py3-none-any.whl (1.5MB)
    100% |████████████████████████████████| 1.5MB 209kB/s 
Installing collected packages: netaddr
Successfully installed netaddr-0.7.18
Collecting oslo.config
  Downloading oslo.config-3.9.0-py2.py3-none-any.whl (90kB)
    100% |████████████████████████████████| 92kB 885kB/s 
Collecting stevedore>=1.5.0 (from oslo.config)
  Using cached stevedore-1.12.0-py2.py3-none-any.whl
Requirement already up-to-date: netaddr!=0.7.16,>=0.7.12 in ./work/deploy/venv/lib/python2.7/site-packages (from oslo.config)
Collecting debtcollector>=1.2.0 (from oslo.config)
  Using cached debtcollector-1.3.0-py2.py3-none-any.whl
Collecting six>=1.9.0 (from oslo.config)
  Using cached six-1.10.0-py2.py3-none-any.whl
Collecting pbr>=1.6 (from stevedore>=1.5.0->oslo.config)
  Using cached pbr-1.9.1-py2.py3-none-any.whl
Collecting Babel>=1.3 (from debtcollector>=1.2.0->oslo.config)
  Using cached Babel-2.3.3-py2.py3-none-any.whl
Collecting funcsigs>=0.4 (from debtcollector>=1.2.0->oslo.config)
  Using cached funcsigs-1.0.0-py2.py3-none-any.whl
Collecting wrapt>=1.7.0 (from debtcollector>=1.2.0->oslo.config)
Collecting pytz>=0a (from Babel>=1.3->debtcollector>=1.2.0->oslo.config)
  Using cached pytz-2016.3-py2.py3-none-any.whl
Collecting ordereddict (from funcsigs>=0.4->debtcollector>=1.2.0->oslo.config)
Installing collected packages: pbr, six, stevedore, pytz, Babel, ordereddict, funcsigs, wrapt, debtcollector, oslo.config
Successfully installed Babel-2.3.3 debtcollector-1.3.0 funcsigs-1.0.0 ordereddict-1.1 oslo.config-3.9.0 pbr-1.9.1 pytz-2016.3 six-1.10.0 stevedore-1.12.0 wrapt-1.10.8
Collecting ansible==1.9.4
Collecting paramiko (from ansible==1.9.4)
  Using cached paramiko-1.16.0-py2.py3-none-any.whl
Requirement already up-to-date: setuptools in ./work/deploy/venv/lib/python2.7/site-packages (from ansible==1.9.4)
Requirement already up-to-date: PyYAML in ./work/deploy/venv/lib/python2.7/site-packages (from ansible==1.9.4)
Collecting pycrypto>=2.6 (from ansible==1.9.4)
Collecting jinja2 (from ansible==1.9.4)
  Using cached Jinja2-2.8-py2.py3-none-any.whl
Collecting ecdsa>=0.11 (from paramiko->ansible==1.9.4)
  Using cached ecdsa-0.13-py2.py3-none-any.whl
Collecting MarkupSafe (from jinja2->ansible==1.9.4)
Installing collected packages: ecdsa, pycrypto, paramiko, MarkupSafe, jinja2, ansible
Successfully installed MarkupSafe-0.23 ansible-1.9.4 ecdsa-0.13 jinja2-2.8 paramiko-1.16.0 pycrypto-2.6.1
++ process_input_para --dha os-onos-nofeature-ha.yml --network network.yml
+++ generate_input_env_file --dha os-onos-nofeature-ha.yml --network network.yml
+++ ofile=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/deploy_input.sh
+++ echo '#input deployment  parameter'
++++ ls /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/base.conf /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/_.conf /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/.conf /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/.conf /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/compass.conf
+++ cfg_file='/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/base.conf
/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/compass.conf'
++++ get_option_name_list '/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/base.conf
/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/compass.conf'
+++++ echo '/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/base.conf
/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/compass.conf'
+++++ xargs -n 1 grep -oP 'export .*?='
+++++ awk '{print $2}'
+++++ sort
+++++ uniq
+++++ sed -e 's/=$//g'
++++ echo CLUSTER_NAME COMPASS_DNS1 COMPASS_DNS2 COMPASS_EXTERNAL_GW COMPASS_EXTERNAL_IP COMPASS_EXTERNAL_MASK COMPASS_SERVER COMPASS_SERVER_CIR COMPASS_SERVER_GATEWAY COMPASS_SERVER_IP_END COMPASS_SERVER_IP_START COMPASS_SERVER_MASK COMPASS_SERVER_SUBNET COMPASS_SERVER_URL COMPASS_USER_EMAIL COMPASS_USER_PASSWORD COMPASS_VIRT_CPUS COMPASS_VIRT_MEM CONSOLE_CREDENTIALS DASHBOARD_URL DOMAIN ENABLE_FWAAS ENABLE_SECGROUP ENABLE_VPNAAS EXTERNAL_NIC GATEWAY HTTP_SERVER_URL IGNORE_PROXY INSTALL_GW INSTALL_IP INSTALL_IP_CIR INSTALL_IP_END INSTALL_IP_START INSTALL_MASK INSTALL_SUBNET ISO_URL LANGUAGE LOCAL_REPO_URL MANAGEMENT_INTERFACE MANAGEMENT_IP_START MGMT_GW MGMT_IP MGMT_IP_END MGMT_IP_START MGMT_MASK NAMESERVERS NETWORK_MAPPING NTP_SERVER OS_CONFIG_FILENAME PACKAGE_CONFIG_FILENAME PARTITIONS PROXY SEARCH_PATH SERVER_CREDENTIAL SERVICE_CREDENTIALS SUBNETS TIMEZONE
+++ option_name='CLUSTER_NAME COMPASS_DNS1 COMPASS_DNS2 COMPASS_EXTERNAL_GW COMPASS_EXTERNAL_IP COMPASS_EXTERNAL_MASK COMPASS_SERVER COMPASS_SERVER_CIR COMPASS_SERVER_GATEWAY COMPASS_SERVER_IP_END COMPASS_SERVER_IP_START COMPASS_SERVER_MASK COMPASS_SERVER_SUBNET COMPASS_SERVER_URL COMPASS_USER_EMAIL COMPASS_USER_PASSWORD COMPASS_VIRT_CPUS COMPASS_VIRT_MEM CONSOLE_CREDENTIALS DASHBOARD_URL DOMAIN ENABLE_FWAAS ENABLE_SECGROUP ENABLE_VPNAAS EXTERNAL_NIC GATEWAY HTTP_SERVER_URL IGNORE_PROXY INSTALL_GW INSTALL_IP INSTALL_IP_CIR INSTALL_IP_END INSTALL_IP_START INSTALL_MASK INSTALL_SUBNET ISO_URL LANGUAGE LOCAL_REPO_URL MANAGEMENT_INTERFACE MANAGEMENT_IP_START MGMT_GW MGMT_IP MGMT_IP_END MGMT_IP_START MGMT_MASK NAMESERVERS NETWORK_MAPPING NTP_SERVER OS_CONFIG_FILENAME PACKAGE_CONFIG_FILENAME PARTITIONS PROXY SEARCH_PATH SERVER_CREDENTIAL SERVICE_CREDENTIALS SUBNETS TIMEZONE'
++++ get_option_flag_list 'CLUSTER_NAME COMPASS_DNS1 COMPASS_DNS2 COMPASS_EXTERNAL_GW COMPASS_EXTERNAL_IP COMPASS_EXTERNAL_MASK COMPASS_SERVER COMPASS_SERVER_CIR COMPASS_SERVER_GATEWAY COMPASS_SERVER_IP_END COMPASS_SERVER_IP_START COMPASS_SERVER_MASK COMPASS_SERVER_SUBNET COMPASS_SERVER_URL COMPASS_USER_EMAIL COMPASS_USER_PASSWORD COMPASS_VIRT_CPUS COMPASS_VIRT_MEM CONSOLE_CREDENTIALS DASHBOARD_URL DOMAIN ENABLE_FWAAS ENABLE_SECGROUP ENABLE_VPNAAS EXTERNAL_NIC GATEWAY HTTP_SERVER_URL IGNORE_PROXY INSTALL_GW INSTALL_IP INSTALL_IP_CIR INSTALL_IP_END INSTALL_IP_START INSTALL_MASK INSTALL_SUBNET ISO_URL LANGUAGE LOCAL_REPO_URL MANAGEMENT_INTERFACE MANAGEMENT_IP_START MGMT_GW MGMT_IP MGMT_IP_END MGMT_IP_START MGMT_MASK NAMESERVERS NETWORK_MAPPING NTP_SERVER OS_CONFIG_FILENAME PACKAGE_CONFIG_FILENAME PARTITIONS PROXY SEARCH_PATH SERVER_CREDENTIAL SERVICE_CREDENTIALS SUBNETS TIMEZONE'
+++++ echo 'CLUSTER_NAME COMPASS_DNS1 COMPASS_DNS2 COMPASS_EXTERNAL_GW COMPASS_EXTERNAL_IP COMPASS_EXTERNAL_MASK COMPASS_SERVER COMPASS_SERVER_CIR COMPASS_SERVER_GATEWAY COMPASS_SERVER_IP_END COMPASS_SERVER_IP_START COMPASS_SERVER_MASK COMPASS_SERVER_SUBNET COMPASS_SERVER_URL COMPASS_USER_EMAIL COMPASS_USER_PASSWORD COMPASS_VIRT_CPUS COMPASS_VIRT_MEM CONSOLE_CREDENTIALS DASHBOARD_URL DOMAIN ENABLE_FWAAS ENABLE_SECGROUP ENABLE_VPNAAS EXTERNAL_NIC GATEWAY HTTP_SERVER_URL IGNORE_PROXY INSTALL_GW INSTALL_IP INSTALL_IP_CIR INSTALL_IP_END INSTALL_IP_START INSTALL_MASK INSTALL_SUBNET ISO_URL LANGUAGE LOCAL_REPO_URL MANAGEMENT_INTERFACE MANAGEMENT_IP_START MGMT_GW MGMT_IP MGMT_IP_END MGMT_IP_START MGMT_MASK NAMESERVERS NETWORK_MAPPING NTP_SERVER OS_CONFIG_FILENAME PACKAGE_CONFIG_FILENAME PARTITIONS PROXY SEARCH_PATH SERVER_CREDENTIAL SERVICE_CREDENTIALS SUBNETS TIMEZONE'
+++++ xargs
+++++ tr '[:upper:]' '[:lower:]'
+++++ sed -e 's/ /:,/g' -e s/_/-/g
++++ echo cluster-name:,compass-dns1:,compass-dns2:,compass-external-gw:,compass-external-ip:,compass-external-mask:,compass-server:,compass-server-cir:,compass-server-gateway:,compass-server-ip-end:,compass-server-ip-start:,compass-server-mask:,compass-server-subnet:,compass-server-url:,compass-user-email:,compass-user-password:,compass-virt-cpus:,compass-virt-mem:,console-credentials:,dashboard-url:,domain:,enable-fwaas:,enable-secgroup:,enable-vpnaas:,external-nic:,gateway:,http-server-url:,ignore-proxy:,install-gw:,install-ip:,install-ip-cir:,install-ip-end:,install-ip-start:,install-mask:,install-subnet:,iso-url:,language:,local-repo-url:,management-interface:,management-ip-start:,mgmt-gw:,mgmt-ip:,mgmt-ip-end:,mgmt-ip-start:,mgmt-mask:,nameservers:,network-mapping:,ntp-server:,os-config-filename:,package-config-filename:,partitions:,proxy:,search-path:,server-credential:,service-credentials:,subnets:,timezone
+++ option_flag=cluster-name:,compass-dns1:,compass-dns2:,compass-external-gw:,compass-external-ip:,compass-external-mask:,compass-server:,compass-server-cir:,compass-server-gateway:,compass-server-ip-end:,compass-server-ip-start:,compass-server-mask:,compass-server-subnet:,compass-server-url:,compass-user-email:,compass-user-password:,compass-virt-cpus:,compass-virt-mem:,console-credentials:,dashboard-url:,domain:,enable-fwaas:,enable-secgroup:,enable-vpnaas:,external-nic:,gateway:,http-server-url:,ignore-proxy:,install-gw:,install-ip:,install-ip-cir:,install-ip-end:,install-ip-start:,install-mask:,install-subnet:,iso-url:,language:,local-repo-url:,management-interface:,management-ip-start:,mgmt-gw:,mgmt-ip:,mgmt-ip-end:,mgmt-ip-start:,mgmt-mask:,nameservers:,network-mapping:,ntp-server:,os-config-filename:,package-config-filename:,partitions:,proxy:,search-path:,server-credential:,service-credentials:,subnets:,timezone
++++ getopt -o h -l dha:,network:,neutron:,conf-dir:,cluster-name:,compass-dns1:,compass-dns2:,compass-external-gw:,compass-external-ip:,compass-external-mask:,compass-server:,compass-server-cir:,compass-server-gateway:,compass-server-ip-end:,compass-server-ip-start:,compass-server-mask:,compass-server-subnet:,compass-server-url:,compass-user-email:,compass-user-password:,compass-virt-cpus:,compass-virt-mem:,console-credentials:,dashboard-url:,domain:,enable-fwaas:,enable-secgroup:,enable-vpnaas:,external-nic:,gateway:,http-server-url:,ignore-proxy:,install-gw:,install-ip:,install-ip-cir:,install-ip-end:,install-ip-start:,install-mask:,install-subnet:,iso-url:,language:,local-repo-url:,management-interface:,management-ip-start:,mgmt-gw:,mgmt-ip:,mgmt-ip-end:,mgmt-ip-start:,mgmt-mask:,nameservers:,network-mapping:,ntp-server:,os-config-filename:,package-config-filename:,partitions:,proxy:,search-path:,server-credential:,service-credentials:,subnets:,timezone -n deploy_parameter.sh -- --dha os-onos-nofeature-ha.yml --network network.yml
+++ TEMP=' --dha '\''os-onos-nofeature-ha.yml'\'' --network '\''network.yml'\'' --'
+++ '[' 0 '!=' 0 ']'
+++ eval set -- ' --dha '\''os-onos-nofeature-ha.yml'\'' --network '\''network.yml'\'' --'
++++ set -- --dha os-onos-nofeature-ha.yml --network network.yml --
+++ :
+++ [[ --dha == \-\- ]]
++++ echo dha
++++ sed s/-/_/g
++++ tr '[:lower:]' '[:upper:]'
+++ option=DHA
+++ echo 'export DHA=os-onos-nofeature-ha.yml'
+++ shift 2
+++ continue
+++ :
+++ [[ --network == \-\- ]]
++++ echo network
++++ sed s/-/_/g
++++ tr '[:lower:]' '[:upper:]'
+++ option=NETWORK
+++ echo 'export NETWORK=network.yml'
+++ shift 2
+++ continue
+++ :
+++ [[ -- == \-\- ]]
+++ shift
+++ break
+++ echo /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/deploy_input.sh
++ input_file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/deploy_input.sh
++ echo /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/deploy_input.sh
+ source /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/deploy_input.sh
++ export DHA=os-onos-nofeature-ha.yml
++ DHA=os-onos-nofeature-ha.yml
++ export NETWORK=network.yml
++ NETWORK=network.yml
++ process_default_para --dha os-onos-nofeature-ha.yml --network network.yml
++ [[ -z '' ]]
++ local set conf_dir=/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf
++ get_conf_name --dha os-onos-nofeature-ha.yml --network network.yml
++ [[ -n os-onos-nofeature-ha.yml ]]
++ return
++ python /home/onos/compass4nfv_git/compass4nfv_bm/deploy/config_parse.py os-onos-nofeature-ha.yml /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf /home/onos/compass4nfv_git/compass4nfv_bm/deploy/template /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script deploy_config.sh
Traceback (most recent call last):
  File "/home/onos/compass4nfv_git/compass4nfv_bm/deploy/config_parse.py", line 84, in <module>
    data = init(config_file)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/deploy/config_parse.py", line 8, in init
    return yaml.load(fd)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/__init__.py", line 71, in load
    return loader.get_single_data()
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/constructor.py", line 37, in get_single_data
    node = self.get_single_node()
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 36, in get_single_node
    document = self.compose_document()
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 55, in compose_document
    node = self.compose_node(None, None)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 82, in compose_node
    node = self.compose_sequence_node(anchor)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 111, in compose_sequence_node
    node.value.append(self.compose_node(node, index))
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/composer.py", line 64, in compose_node
    if self.check_event(AliasEvent):
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/parser.py", line 98, in check_event
    self.current_event = self.state()
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/parser.py", line 449, in parse_block_mapping_value
    if not self.check_token(KeyToken, ValueToken, BlockEndToken):
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/scanner.py", line 116, in check_token
    self.fetch_more_tokens()
  File "/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/venv/local/lib/python2.7/site-packages/yaml/scanner.py", line 257, in fetch_more_tokens
    % ch.encode('utf-8'), self.get_mark())
yaml.scanner.ScannerError: while scanning for the next token
found character '\t' that cannot start any token
  in "os-onos-nofeature-ha.yml", line 39, column 1
++ echo /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/deploy_config.sh
+ source /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/deploy_config.sh
++ export ipmiUser=root
++ ipmiUser=root
++ export NETWORK=network.yml
++ NETWORK=network.yml
++ export DHA=os-onos-nofeature-ha.yml
++ DHA=os-onos-nofeature-ha.yml
++ export HOST_MACS=7C:A2:3E:86:65:4E,7C:A2:3E:86:65:58,7C:A2:3E:86:65:38
++ HOST_MACS=7C:A2:3E:86:65:4E,7C:A2:3E:86:65:58,7C:A2:3E:86:65:38
++ export HOSTNAMES=host1,host2,host3
++ HOSTNAMES=host1,host2,host3
++ export POWER_TOOL=ipmitool
++ POWER_TOOL=ipmitool
++ export ipmiVer=2.0
++ ipmiVer=2.0
++ export FLAVOR=cluster
++ FLAVOR=cluster
++ export TYPE=baremetal
++ TYPE=baremetal
++ export 'HOST_ROLES=host1=controller,ha;host2=controller,ha;host3=compute'
++ HOST_ROLES='host1=controller,ha;host2=controller,ha;host3=compute'
++ export NEUTRON=/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/neutron_cfg.yaml
++ NEUTRON=/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/neutron_cfg.yaml
++ export POWER_MANAGE=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/ipmitool.sh
++ POWER_MANAGE=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/ipmitool.sh
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/cluster.conf
++ export 'ADAPTER_OS_PATTERN=(?i)ubuntu-14\.04\.3.*'
++ ADAPTER_OS_PATTERN='(?i)ubuntu-14\.04\.3.*'
++ export OS_VERSION=trusty
++ OS_VERSION=trusty
++ export OPENSTACK_VERSION=liberty
++ OPENSTACK_VERSION=liberty
++ export 'ADAPTER_TARGET_SYSTEM_PATTERN=^openstack$'
++ ADAPTER_TARGET_SYSTEM_PATTERN='^openstack$'
++ export REPO_NAME=trusty-liberty-ppa
++ REPO_NAME=trusty-liberty-ppa
++ export ADAPTER_NAME=openstack_liberty
++ ADAPTER_NAME=openstack_liberty
++ export ADAPTER_FLAVOR_PATTERN=HA-ansible-multinodes-liberty
++ ADAPTER_FLAVOR_PATTERN=HA-ansible-multinodes-liberty
++ export DEFAULT_ROLES=
++ DEFAULT_ROLES=
++ export VIP=10.1.0.222
++ VIP=10.1.0.222
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/baremetal.conf
++ export SWITCH_IPS=192.168.124.2
++ SWITCH_IPS=192.168.124.2
++ export SWITCH_CREDENTIAL=version=2c,community=public
++ SWITCH_CREDENTIAL=version=2c,community=public
++ export DEPLOYMENT_TIMEOUT=150
++ DEPLOYMENT_TIMEOUT=150
++ export POLL_SWITCHES_FLAG=nopoll_switches
++ POLL_SWITCHES_FLAG=nopoll_switches
++ export INSTALL_NIC=eth1
++ INSTALL_NIC=eth1
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/base.conf
++ export ISO_URL=file:///home/onos/compass.iso
++ ISO_URL=file:///home/onos/compass.iso
++ export INSTALL_IP=192.168.204.30
++ INSTALL_IP=192.168.204.30
++ export INSTALL_MASK=255.255.255.0
++ INSTALL_MASK=255.255.255.0
++ export INSTALL_GW=192.168.204.1
++ INSTALL_GW=192.168.204.1
++ export INSTALL_IP_START=192.168.204.1
++ INSTALL_IP_START=192.168.204.1
++ export INSTALL_IP_END=192.168.204.254
++ INSTALL_IP_END=192.168.204.254
++ export INSTALL_IP_CIR=192.168.204.0/24
++ INSTALL_IP_CIR=192.168.204.0/24
++ export INSTALL_SUBNET=192.168.204.0
++ INSTALL_SUBNET=192.168.204.0
++ export MGMT_IP=192.168.200.2
++ MGMT_IP=192.168.200.2
++ export MGMT_MASK=255.255.252.0
++ MGMT_MASK=255.255.252.0
++ export MGMT_GW=192.168.200.1
++ MGMT_GW=192.168.200.1
++ export MGMT_IP_START=192.168.200.11
++ MGMT_IP_START=192.168.200.11
++ export MGMT_IP_END=192.168.200.254
++ MGMT_IP_END=192.168.200.254
++ export EXTERNAL_NIC=eth1
++ EXTERNAL_NIC=eth1
++ export CLUSTER_NAME=opnfv2
++ CLUSTER_NAME=opnfv2
++ export DOMAIN=ods.com
++ DOMAIN=ods.com
++ export PARTITIONS=/=30%,/home=5%,/tmp=5%,/var=60%
++ PARTITIONS=/=30%,/home=5%,/tmp=5%,/var=60%
++ export SUBNETS=192.168.204.0/24,10.145.88.0/23
++ SUBNETS=192.168.204.0/24,10.145.88.0/23
++ export MANAGEMENT_IP_START=192.168.204.11
++ MANAGEMENT_IP_START=192.168.204.11
++ export MANAGEMENT_INTERFACE=eth1
++ MANAGEMENT_INTERFACE=eth1
++ export DASHBOARD_URL=
++ DASHBOARD_URL=
++ export ENABLE_SECGROUP=true
++ ENABLE_SECGROUP=true
++ export ENABLE_VPNAAS=false
++ ENABLE_VPNAAS=false
++ export ENABLE_FWAAS=false
++ ENABLE_FWAAS=false
++ '[' -z '' ']'
++ IFS=,
++ read -a HOSTNAME_LIST
++ MANAGE_IP=192.168.204.11
++ TENANT_IP=
++ PUBLIC_IP=
++ STORAGE_IP=
++ for HOSTNAME in '${HOSTNAME_LIST[@]}'
++ '[' -z '' ']'
++ HOST_NETWORKS='host1:eth1=192.168.204.11|is_mgmt'
+++ next_ip 192.168.204.11
+++ ip_addr=192.168.204.11
++++ echo 192.168.204.11
++++ cut -d. '-f1 2 3'
+++ ip_base=192.168.204
++++ echo 192.168.204.11
++++ cut -d. -f4
+++ ip_last=11
+++ let ip_last_next=11+1
+++ echo 192.168.204.12
++ MANAGE_IP=192.168.204.12
+++ next_ip
+++ ip_addr=
++++ echo
++++ cut -d. '-f1 2 3'
+++ ip_base=
++++ echo
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1
++ TENANT_IP=.1
+++ next_ip
+++ ip_addr=
++++ echo
++++ cut -d. '-f1 2 3'
+++ ip_base=
++++ echo
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1
++ PUBLIC_IP=.1
+++ next_ip
+++ ip_addr=
++++ echo
++++ cut -d. '-f1 2 3'
+++ ip_base=
++++ echo
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1
++ STORAGE_IP=.1
++ for HOSTNAME in '${HOSTNAME_LIST[@]}'
++ '[' -z 'host1:eth1=192.168.204.11|is_mgmt' ']'
++ HOST_NETWORKS='host1:eth1=192.168.204.11|is_mgmt;host2:eth1=192.168.204.12|is_mgmt'
+++ next_ip 192.168.204.12
+++ ip_addr=192.168.204.12
++++ echo 192.168.204.12
++++ cut -d. '-f1 2 3'
+++ ip_base=192.168.204
++++ echo 192.168.204.12
++++ cut -d. -f4
+++ ip_last=12
+++ let ip_last_next=12+1
+++ echo 192.168.204.13
++ MANAGE_IP=192.168.204.13
+++ next_ip .1
+++ ip_addr=.1
++++ echo .1
++++ cut -d. '-f1 2 3'
+++ ip_base=.1
++++ echo .1
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1.1
++ TENANT_IP=.1.1
+++ next_ip .1
+++ ip_addr=.1
++++ echo .1
++++ cut -d. '-f1 2 3'
+++ ip_base=.1
++++ echo .1
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1.1
++ PUBLIC_IP=.1.1
+++ next_ip .1
+++ ip_addr=.1
++++ echo .1
++++ cut -d. '-f1 2 3'
+++ ip_base=.1
++++ echo .1
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1.1
++ STORAGE_IP=.1.1
++ for HOSTNAME in '${HOSTNAME_LIST[@]}'
++ '[' -z 'host1:eth1=192.168.204.11|is_mgmt;host2:eth1=192.168.204.12|is_mgmt' ']'
++ HOST_NETWORKS='host1:eth1=192.168.204.11|is_mgmt;host2:eth1=192.168.204.12|is_mgmt;host3:eth1=192.168.204.13|is_mgmt'
+++ next_ip 192.168.204.13
+++ ip_addr=192.168.204.13
++++ echo 192.168.204.13
++++ cut -d. '-f1 2 3'
+++ ip_base=192.168.204
++++ echo 192.168.204.13
++++ cut -d. -f4
+++ ip_last=13
+++ let ip_last_next=13+1
+++ echo 192.168.204.14
++ MANAGE_IP=192.168.204.14
+++ next_ip .1.1
+++ ip_addr=.1.1
++++ echo .1.1
++++ cut -d. '-f1 2 3'
+++ ip_base=.1.1
++++ echo .1.1
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1.1.1
++ TENANT_IP=.1.1.1
+++ next_ip .1.1
+++ ip_addr=.1.1
++++ echo .1.1
++++ cut -d. '-f1 2 3'
+++ ip_base=.1.1
++++ echo .1.1
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1.1.1
++ PUBLIC_IP=.1.1.1
+++ next_ip .1.1
+++ ip_addr=.1.1
++++ echo .1.1
++++ cut -d. '-f1 2 3'
+++ ip_base=.1.1
++++ echo .1.1
++++ cut -d. -f4
+++ ip_last=
+++ let ip_last_next=+1
+++ echo .1.1.1
++ STORAGE_IP=.1.1.1
++ export HOST_NETWORKS
++ export NETWORK_MAPPING=install=eth1
++ NETWORK_MAPPING=install=eth1
++ export PROXY=
++ PROXY=
++ export IGNORE_PROXY=
++ IGNORE_PROXY=
++ export SEARCH_PATH=ods.com
++ SEARCH_PATH=ods.com
++ export GATEWAY=192.168.204.1
++ GATEWAY=192.168.204.1
++ export SERVER_CREDENTIAL=root=root
++ SERVER_CREDENTIAL=root=root
++ export LOCAL_REPO_URL=
++ LOCAL_REPO_URL=
++ export OS_CONFIG_FILENAME=
++ OS_CONFIG_FILENAME=
++ export SERVICE_CREDENTIALS=image:service=service,compute:service=service,dashboard:service=service,identity:service=service,image:service=service,metering:service=service,network:service=service,rabbitmq:service=service,volume:service=service,mysql:service=service,heat:heat=heat_db_secret
++ SERVICE_CREDENTIALS=image:service=service,compute:service=service,dashboard:service=service,identity:service=service,image:service=service,metering:service=service,network:service=service,rabbitmq:service=service,volume:service=service,mysql:service=service,heat:heat=heat_db_secret
++ export CONSOLE_CREDENTIALS=admin:console=console,demo:console=console,compute:console=console,dashboard:console=console,identity:console=console,image:console=console,metering:console=console,network:console=console,object-store:console=console,volume:console=console,heat:heat=heat_secret
++ CONSOLE_CREDENTIALS=admin:console=console,demo:console=console,compute:console=console,dashboard:console=console,identity:console=console,image:console=console,metering:console=console,network:console=console,object-store:console=console,volume:console=console,heat:heat=heat_secret
++ export PACKAGE_CONFIG_FILENAME=
++ PACKAGE_CONFIG_FILENAME=
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/compass.conf
++ export COMPASS_VIRT_CPUS=4
++ COMPASS_VIRT_CPUS=4
++ export COMPASS_VIRT_MEM=4096
++ COMPASS_VIRT_MEM=4096
++ export COMPASS_SERVER=192.168.204.30
++ COMPASS_SERVER=192.168.204.30
++ export COMPASS_SERVER_MASK=255.255.255.0
++ COMPASS_SERVER_MASK=255.255.255.0
++ export COMPASS_SERVER_GATEWAY=192.168.204.1
++ COMPASS_SERVER_GATEWAY=192.168.204.1
++ export COMPASS_SERVER_IP_START=192.168.204.1
++ COMPASS_SERVER_IP_START=192.168.204.1
++ export COMPASS_SERVER_IP_END=192.168.204.254
++ COMPASS_SERVER_IP_END=192.168.204.254
++ export COMPASS_SERVER_CIR=192.168.204.0/24
++ COMPASS_SERVER_CIR=192.168.204.0/24
++ export COMPASS_SERVER_SUBNET=192.168.204.0
++ COMPASS_SERVER_SUBNET=192.168.204.0
++ export COMPASS_SERVER_URL=http://192.168.200.2/api
++ COMPASS_SERVER_URL=http://192.168.200.2/api
++ export HTTP_SERVER_URL=http://192.168.200.2/api
++ HTTP_SERVER_URL=http://192.168.200.2/api
++ export COMPASS_USER_EMAIL=admin@huawei.com
++ COMPASS_USER_EMAIL=admin@huawei.com
++ export COMPASS_USER_PASSWORD=admin
++ COMPASS_USER_PASSWORD=admin
++ export COMPASS_DNS1=8.8.8.8
++ COMPASS_DNS1=8.8.8.8
++ export COMPASS_DNS2=
++ COMPASS_DNS2=
++ export COMPASS_EXTERNAL_IP=10.145.88.98
++ COMPASS_EXTERNAL_IP=10.145.88.98
++ export COMPASS_EXTERNAL_MASK=255.255.254.0
++ COMPASS_EXTERNAL_MASK=255.255.254.0
++ export COMPASS_EXTERNAL_GW=10.145.88.1
++ COMPASS_EXTERNAL_GW=10.145.88.1
++ export LANGUAGE=EN
++ LANGUAGE=EN
++ export TIMEZONE=America/Los_Angeles
++ TIMEZONE=America/Los_Angeles
++ export NTP_SERVER=192.168.204.30
++ NTP_SERVER=192.168.204.30
++ export NAMESERVERS=192.168.204.30
++ NAMESERVERS=192.168.204.30
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/network.sh
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/host_baremetal.sh
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/compass_vm.sh
++ compass_vm_dir=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass
++ rsa_file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa
++ ssh_args='-o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa'
+ source /home/onos/compass4nfv_git/compass4nfv_bm/deploy/deploy_host.sh
++ rsa_file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa
+ print_logo
+ apt --installed list
+ grep figlet
figlet/vivid,now 2.2.5-2 amd64 [installed]
+ figlet -ctf slant Compass Installer
                                                                 ______                                         ____           __        ____         
                                                                / ____/___  ____ ___  ____  ____ ___________   /  _/___  _____/ /_____ _/ / /__  _____
                                                               / /   / __ \/ __ `__ \/ __ \/ __ `/ ___/ ___/   / // __ \/ ___/ __/ __ `/ / / _ \/ ___/
                                                              / /___/ /_/ / / / / / / /_/ / /_/ (__  |__  )  _/ // / / (__  ) /_/ /_/ / / /  __/ /    
                                                              \____/\____/_/ /_/ /_/ .___/\__,_/____/____/  /___/_/ /_/____/\__/\__,_/_/_/\___/_/     
                                                                                  /_/                                                                 
+ set +x
+ [[ ! -z '' ]]
+ log_info '########## get host mac begin #############'
+ echo -e '########## get host mac begin #############'
########## get host mac begin #############
++ get_host_macs
+++ echo 7C:A2:3E:86:65:4E,7C:A2:3E:86:65:58,7C:A2:3E:86:65:38
+++ sed -e 's/,/'\'','\''/g' -e 's/^/'\''/g' -e 's/$/'\''/g'
++ machines=''\''7C:A2:3E:86:65:4E'\'','\''7C:A2:3E:86:65:58'\'','\''7C:A2:3E:86:65:38'\'''
++ echo ''\''7C:A2:3E:86:65:4E'\'','\''7C:A2:3E:86:65:58'\'','\''7C:A2:3E:86:65:38'\'''
+ machines=''\''7C:A2:3E:86:65:4E'\'','\''7C:A2:3E:86:65:58'\'','\''7C:A2:3E:86:65:38'\'''
+ [[ -z '7C:A2:3E:86:65:4E','7C:A2:3E:86:65:58','7C:A2:3E:86:65:38' ]]
+ export machines
+ [[ true == \t\r\u\e ]]
+ prepare_env
+ export PYTHONPATH=/usr/lib/python2.7/dist-packages:/usr/local/lib/python2.7/dist-packages
+ PYTHONPATH=/usr/lib/python2.7/dist-packages:/usr/local/lib/python2.7/dist-packages
+ sudo apt-get update -y
Hit http://archive.ubuntu.com vivid InRelease
Get:1 https://apt.dockerproject.org ubuntu-trusty InRelease
Ign https://apt.dockerproject.org ubuntu-trusty InRelease
Get:2 https://apt.dockerproject.org ubuntu-trusty Release
Hit http://archive.ubuntu.com vivid-security InRelease
Hit https://apt.dockerproject.org ubuntu-trusty/main amd64 Packages
Hit https://apt.dockerproject.org ubuntu-trusty/main i386 Packages
Get:3 https://apt.dockerproject.org ubuntu-trusty/main Translation-en_US
Hit http://archive.ubuntu.com vivid-updates InRelease
Get:4 http://archive.ubuntu.com vivid-proposed InRelease [65.9 kB]
Hit http://archive.ubuntu.com vivid-backports InRelease
Hit http://archive.ubuntu.com vivid/main Sources   
Hit http://archive.ubuntu.com vivid/restricted Sources
Hit http://archive.ubuntu.com vivid/universe Sources
Hit http://archive.ubuntu.com vivid/multiverse Sources
Hit http://archive.ubuntu.com vivid/main amd64 Packages
Hit http://archive.ubuntu.com vivid/restricted amd64 Packages
Hit http://archive.ubuntu.com vivid/universe amd64 Packages
Ign https://apt.dockerproject.org ubuntu-trusty/main Translation-en_US
Ign https://apt.dockerproject.org ubuntu-trusty/main Translation-en
Hit http://archive.ubuntu.com vivid/multiverse amd64 Packages
Hit http://archive.ubuntu.com vivid/main i386 Packages
Ign https://apt.dockerproject.org ubuntu-trusty/main Translation-EN
Hit http://archive.ubuntu.com vivid/restricted i386 Packages
Hit http://archive.ubuntu.com vivid/universe i386 Packages
Hit http://archive.ubuntu.com vivid/multiverse i386 Packages
Hit http://archive.ubuntu.com vivid/main Translation-en
Hit http://archive.ubuntu.com vivid/multiverse Translation-en
Hit http://archive.ubuntu.com vivid/restricted Translation-en
Hit http://archive.ubuntu.com vivid/universe Translation-en              
Hit http://archive.ubuntu.com vivid-security/main Sources                
Hit http://archive.ubuntu.com vivid-security/restricted Sources
Hit http://archive.ubuntu.com vivid-security/universe Sources
Hit http://archive.ubuntu.com vivid-security/multiverse Sources
Hit http://archive.ubuntu.com vivid-security/main amd64 Packages
Hit http://archive.ubuntu.com vivid-security/restricted amd64 Packages
Hit http://archive.ubuntu.com vivid-security/universe amd64 Packages
Hit http://archive.ubuntu.com vivid-security/multiverse amd64 Packages
Hit http://archive.ubuntu.com vivid-security/main i386 Packages
Hit http://archive.ubuntu.com vivid-security/restricted i386 Packages
Hit http://archive.ubuntu.com vivid-security/universe i386 Packages
Hit http://archive.ubuntu.com vivid-security/multiverse i386 Packages
Hit http://archive.ubuntu.com vivid-security/main Translation-en
Hit http://archive.ubuntu.com vivid-security/multiverse Translation-en
Hit http://archive.ubuntu.com vivid-security/restricted Translation-en
Hit http://archive.ubuntu.com vivid-security/universe Translation-en
Hit http://archive.ubuntu.com vivid-updates/main Sources
Hit http://archive.ubuntu.com vivid-updates/restricted Sources
Hit http://archive.ubuntu.com vivid-updates/universe Sources
Hit http://archive.ubuntu.com vivid-updates/multiverse Sources
Hit http://archive.ubuntu.com vivid-updates/main amd64 Packages
Hit http://archive.ubuntu.com vivid-updates/restricted amd64 Packages
Hit http://archive.ubuntu.com vivid-updates/universe amd64 Packages
Hit http://archive.ubuntu.com vivid-updates/multiverse amd64 Packages
Hit http://archive.ubuntu.com vivid-updates/main i386 Packages
Hit http://archive.ubuntu.com vivid-updates/restricted i386 Packages
Hit http://archive.ubuntu.com vivid-updates/universe i386 Packages
Hit http://archive.ubuntu.com vivid-updates/multiverse i386 Packages
Hit http://archive.ubuntu.com vivid-updates/main Translation-en
Hit http://archive.ubuntu.com vivid-updates/multiverse Translation-en
Hit http://archive.ubuntu.com vivid-updates/restricted Translation-en
Hit http://archive.ubuntu.com vivid-updates/universe Translation-en
Get:5 http://archive.ubuntu.com vivid-proposed/main Sources [66.4 kB]
Get:6 http://archive.ubuntu.com vivid-proposed/restricted Sources [778 B]
Get:7 http://archive.ubuntu.com vivid-proposed/universe Sources [4,139 B]
Get:8 http://archive.ubuntu.com vivid-proposed/multiverse Sources [28 B]
Get:9 http://archive.ubuntu.com vivid-proposed/main amd64 Packages [53.0 kB]
Get:10 http://archive.ubuntu.com vivid-proposed/restricted amd64 Packages [673 B]
Get:11 http://archive.ubuntu.com vivid-proposed/universe amd64 Packages [5,209 B]
Get:12 http://archive.ubuntu.com vivid-proposed/multiverse amd64 Packages [28 B]
Get:13 http://archive.ubuntu.com vivid-proposed/main i386 Packages [52.4 kB]
Get:14 http://archive.ubuntu.com vivid-proposed/restricted i386 Packages [672 B]
Get:15 http://archive.ubuntu.com vivid-proposed/universe i386 Packages [5,225 B]
Get:16 http://archive.ubuntu.com vivid-proposed/multiverse i386 Packages [28 B]
Hit http://archive.ubuntu.com vivid-proposed/main Translation-en               
Hit http://archive.ubuntu.com vivid-proposed/multiverse Translation-en         
Hit http://archive.ubuntu.com vivid-proposed/restricted Translation-en         
Hit http://archive.ubuntu.com vivid-proposed/universe Translation-en           
Hit http://archive.ubuntu.com vivid-backports/main Sources                     
Hit http://archive.ubuntu.com vivid-backports/restricted Sources               
Hit http://archive.ubuntu.com vivid-backports/universe Sources                 
Hit http://archive.ubuntu.com vivid-backports/multiverse Sources               
Hit http://archive.ubuntu.com vivid-backports/main amd64 Packages              
Hit http://archive.ubuntu.com vivid-backports/restricted amd64 Packages        
Hit http://archive.ubuntu.com vivid-backports/universe amd64 Packages          
Hit http://archive.ubuntu.com vivid-backports/multiverse amd64 Packages        
Hit http://archive.ubuntu.com vivid-backports/main i386 Packages               
Hit http://archive.ubuntu.com vivid-backports/restricted i386 Packages         
Hit http://archive.ubuntu.com vivid-backports/universe i386 Packages           
Hit http://archive.ubuntu.com vivid-backports/multiverse i386 Packages         
Hit http://archive.ubuntu.com vivid-backports/main Translation-en              
Hit http://archive.ubuntu.com vivid-backports/multiverse Translation-en        
Hit http://archive.ubuntu.com vivid-backports/restricted Translation-en        
Hit http://archive.ubuntu.com vivid-backports/universe Translation-en          
Fetched 275 kB in 7s (35.3 kB/s)                                               
Reading package lists... Done
W: Unknown Multi-Arch type 'no' for package 'compiz-core'
W: Unknown Multi-Arch type 'no' for package 'compiz-gnome'
W: Unknown Multi-Arch type 'no' for package 'compiz-core'
W: Unknown Multi-Arch type 'no' for package 'compiz-gnome'
W: Unknown Multi-Arch type 'no' for package 'compiz-core'
W: Unknown Multi-Arch type 'no' for package 'compiz-gnome'
W: Unknown Multi-Arch type 'no' for package 'compiz-core'
W: Unknown Multi-Arch type 'no' for package 'compiz-gnome'
W: You may want to run apt-get update to correct these problems
+ sudo apt-get install -y --force-yes mkisofs bc curl ipmitool openvswitch-switch
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Note, selecting 'genisoimage' instead of 'mkisofs'
bc is already the newest version.
genisoimage is already the newest version.
curl is already the newest version.
openvswitch-switch is already the newest version.
ipmitool is already the newest version.
The following packages were automatically installed and are no longer required:
  python-chardet-whl python-colorama-whl python-distlib-whl
  python-html5lib-whl python-pip-whl python-requests-whl python-setuptools-whl
  python-six-whl python-urllib3-whl python3-pkg-resources
Use 'apt-get autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 457 not upgraded.
+ sudo apt-get install -y --force-yes git python-dev
Reading package lists... Done
Building dependency tree       
Reading state information... Done
python-dev is already the newest version.
git is already the newest version.
The following packages were automatically installed and are no longer required:
  python-chardet-whl python-colorama-whl python-distlib-whl
  python-html5lib-whl python-pip-whl python-requests-whl python-setuptools-whl
  python-six-whl python-urllib3-whl python3-pkg-resources
Use 'apt-get autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 457 not upgraded.
+ sudo apt-get install -y --force-yes libxslt-dev libxml2-dev libvirt-dev build-essential qemu-utils qemu-kvm libvirt-bin virtinst libmysqld-dev
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Note, selecting 'libxslt1-dev' instead of 'libxslt-dev'
build-essential is already the newest version.
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 libxml2-dev : Depends: libxml2 (= 2.9.2+dfsg1-3ubuntu0.3) but 2.9.1+dfsg1-3ubuntu4.7 is to be installed
               Depends: libicu-dev but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
+ sudo service libvirt-bin restart
libvirt-bin stop/waiting
libvirt-bin start/running, process 196692
+ sudo service openvswitch-switch status
+ grep stop
+ rm -rf /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso
+ mkdir -p /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer
+ mkdir -p /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm
+ mkdir -p /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network
+ mkdir -p /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso
+ mkdir -p /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache
+ download_iso
++ basename file:///home/onos/compass.iso
+ iso_name=compass.iso
+ rm -f /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso.md5
+ curl --connect-timeout 10 -o /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso.md5 file:///home/onos/compass.iso.md5
curl: (37) Couldn't open file /home/onos/compass.iso.md5
+ [[ -f /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso ]]
++ md5sum /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso
++ cut -d ' ' -f 1
+ local_md5=6fe07a0bca18bb25135eee712881bd23
++ cat /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso.md5
++ cut -d ' ' -f 1
cat: /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso.md5: No such file or directory
+ repo_md5=
+ [[ 6fe07a0bca18bb25135eee712881bd23 == '' ]]
+ curl --connect-timeout 10 -o /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso file:///home/onos/compass.iso
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 3968M  100 3968M    0     0   684M      0  0:00:05  0:00:05 --:--:--  774M
++ basename file:///home/onos/compass.iso
+ cp /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/cache/compass.iso /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso/centos.iso -f
+ mkdir -p /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/mnt
+ sudo mount -o loop /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso/centos.iso /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/mnt
mount: block device /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso/centos.iso is write-protected, mounting read-only
+ cp -rf /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/mnt/compass/compass-core /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/
+ cp -rf /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/mnt/compass/compass-install /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/
+ sudo umount /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/mnt
+ rm -rf /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/mnt
+ chmod 755 /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy -R
+ sudo cp /home/onos/compass4nfv_git/compass4nfv_bm/deploy/qemu_hook.sh /etc/libvirt/hooks/qemu
+ log_info '########## set up network begin #############'
+ echo -e '########## set up network begin #############'
########## set up network begin #############
+ create_nets
+ setup_nat_net mgmt 192.168.200.1 255.255.252.0 192.168.200.11 192.168.200.254
+ net_name=mgmt
+ gw=192.168.200.1
+ mask=255.255.252.0
+ ip_start=192.168.200.11
+ ip_end=192.168.200.254
+ sudo virsh net-destroy mgmt
Network mgmt destroyed

+ sudo virsh net-undefine mgmt
Network mgmt has been undefined

+ sed -e s/REPLACE_BRIDGE/br_mgmt/g -e s/REPLACE_NAME/mgmt/g -e s/REPLACE_GATEWAY/192.168.200.1/g -e s/REPLACE_MASK/255.255.252.0/g -e s/REPLACE_START/192.168.200.11/g -e s/REPLACE_END/192.168.200.254/g /home/onos/compass4nfv_git/compass4nfv_bm/deploy/template/network/nat.xml
+ sudo virsh net-define /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network/mgmt.xml
Network mgmt defined from /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network/mgmt.xml

+ sudo virsh net-start mgmt
Network mgmt started

+ [[ -n eth1 ]]
+ setup_bridge_net install eth1
+ net_name=install
+ nic=eth1
+ sudo virsh net-destroy install
error: Failed to destroy network install
error: Requested operation is not valid: network is not active

+ sudo virsh net-undefine install
Network install has been undefined

+ sed -e s/REPLACE_NAME/install/g -e s/REPLACE_NIC/eth1/g /home/onos/compass4nfv_git/compass4nfv_bm/deploy/template/network/bridge_nic.xml
+ sudo virsh net-define /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network/install.xml
Network install defined from /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network/install.xml

+ sudo virsh net-start install
Network install started

+ setup_bridge_external
+ sudo virsh net-destroy external
Network external destroyed

+ sudo virsh net-undefine external
Network external has been undefined

+ save_network_info
+ sudo ovs-vsctl list-br
+ grep br-external
br-external
+ br_exist=0
++ ip route
++ grep '^default'
++ awk '{print $NF}'
+ external_nic=br-external
++ ip route
++ grep -Eo '^default via [^ ]+'
+ route_info='default via 10.145.88.1'
++ ip addr show br-external
++ grep -Eo '[^ ]+ brd [^ ]+ '
+ ip_info='10.145.88.86/23 brd 10.145.89.255 '
+ '[' 0 -eq 0 ']'
+ '[' br-external '!=' br-external ']'
+ sed -e s/REPLACE_NAME/external/g -e s/REPLACE_OVS/br-external/g /home/onos/compass4nfv_git/compass4nfv_bm/deploy/template/network/bridge_ovs.xml
+ sudo virsh net-define /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network/external.xml
Network external defined from /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/network/external.xml

+ sudo virsh net-start external
Network external started

+ python /home/onos/compass4nfv_git/compass4nfv_bm/deploy/setup_vnic.py
+ clear_forward_rejct_rules
+ sudo iptables -nL FORWARD --line-number
+ grep -E 'REJECT +all +-- +0.0.0.0/0 +0.0.0.0/0 +reject-with icmp-port-unreachable'
+ head -1
+ awk '{print $1}'
+ xargs sudo iptables -D FORWARD
+ :
+ sudo iptables -nL FORWARD --line-number
+ grep -E 'REJECT +all +-- +0.0.0.0/0 +0.0.0.0/0 +reject-with icmp-port-unreachable'
+ head -1
+ awk '{print $1}'
+ xargs sudo iptables -D FORWARD
+ :
+ sudo iptables -nL FORWARD --line-number
+ grep -E 'REJECT +all +-- +0.0.0.0/0 +0.0.0.0/0 +reject-with icmp-port-unreachable'
+ head -1
+ awk '{print $1}'
+ xargs sudo iptables -D FORWARD
+ :
+ sudo iptables -nL FORWARD --line-number
+ grep -E 'REJECT +all +-- +0.0.0.0/0 +0.0.0.0/0 +reject-with icmp-port-unreachable'
+ head -1
+ awk '{print $1}'
+ xargs sudo iptables -D FORWARD
+ :
+ sudo iptables -nL FORWARD --line-number
+ grep -E 'REJECT +all +-- +0.0.0.0/0 +0.0.0.0/0 +reject-with icmp-port-unreachable'
+ head -1
+ awk '{print $1}'
+ xargs sudo iptables -D FORWARD
iptables: Bad rule (does a matching rule exist in that chain?).
+ launch_compass
+ local old_mnt=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/old
+ local new_mnt=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new
+ local old_iso=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso/centos.iso
+ local new_iso=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/centos.iso
+ log_info 'launch_compass enter'
+ echo -e 'launch_compass enter'
launch_compass enter
+ tear_down_compass
+ sudo virsh destroy compass
+ sudo virsh undefine compass
+ sudo umount /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/old
+ sudo umount /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new
+ sudo rm -rf /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass
+ log_info 'tear_down_compass success!!!'
+ echo -e 'tear_down_compass success!!!'
tear_down_compass success!!!
+ set -e
+ mkdir -p /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/old
+ sudo mount -o loop /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso/centos.iso /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/old
mount: block device /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/iso/centos.iso is write-protected, mounting read-only
+ cd /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/old
+ find .
+ cpio -pd /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new
8111391 blocks
+ cd -
/home/onos/compass4nfv_git/compass4nfv_bm
+ sudo umount /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/old
+ chmod 755 -R /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new
+ cp /home/onos/compass4nfv_git/compass4nfv_bm/util/isolinux.cfg /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/isolinux/ -f
+ cp /home/onos/compass4nfv_git/compass4nfv_bm/util/ks.cfg /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/isolinux/ -f
+ sed -i -e s/REPLACE_MGMT_IP/192.168.200.2/g -e s/REPLACE_MGMT_NETMASK/255.255.252.0/g -e s/REPLACE_GW/192.168.200.1/g -e s/REPLACE_INSTALL_IP/192.168.204.30/g -e s/REPLACE_INSTALL_NETMASK/255.255.255.0/g -e s/REPLACE_COMPASS_EXTERNAL_NETMASK/255.255.254.0/g -e s/REPLACE_COMPASS_EXTERNAL_IP/10.145.88.98/g -e s/REPLACE_COMPASS_EXTERNAL_GW/10.145.88.1/g /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/isolinux/isolinux.cfg
+ [[ -n 8.8.8.8 ]]
+ sed -i -e s/REPLACE_COMPASS_DNS1/8.8.8.8/g /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/isolinux/isolinux.cfg
+ [[ -n '' ]]
+ ssh-keygen -f /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/bootstrap/boot.rsa -t rsa -N ''
Generating public/private rsa key pair.
Your identification has been saved in /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/bootstrap/boot.rsa.
Your public key has been saved in /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/bootstrap/boot.rsa.pub.
The key fingerprint is:
83:4c:cb:64:fe:f7:71:d5:89:d6:8d:79:dc:a1:ef:52 onos@jumpserver
The key's randomart image is:
+--[ RSA 2048]----+
|                 |
|                 |
|      +        . |
|     B o      ++*|
|      * S    +ooB|
|       . .  . .E |
|        . . . o. |
|         . . +.  |
|            . .. |
+-----------------+
+ cp /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/bootstrap/boot.rsa /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa
+ rm -rf /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/.rr_moved /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new/rr_moved
+ sudo mkisofs -quiet -r -J -R -b isolinux/isolinux.bin -no-emul-boot -boot-load-size 4 -boot-info-table -hide-rr-moved -x lost+found: -o /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/centos.iso /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new
+ rm -rf /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/old /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/new
+ qemu-img create -f qcow2 /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/disk.img 100G
Formatting '/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/disk.img', fmt=qcow2 size=107374182400 encryption=off cluster_size=65536 lazy_refcounts=off 
+ sed -e s/REPLACE_MEM/4096/g -e s/REPLACE_CPU/4/g -e s#REPLACE_IMAGE#/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/disk.img#g -e s#REPLACE_ISO#/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/centos.iso#g -e s/REPLACE_NET_MGMT/mgmt/g -e s/REPLACE_NET_INSTALL/install/g -e s/REPLACE_NET_EXTERNAL/external/g /home/onos/compass4nfv_git/compass4nfv_bm/deploy/template/vm/compass.xml
+ sudo virsh define /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/libvirt.xml
Domain compass defined from /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/libvirt.xml

+ sudo virsh start compass
Domain compass started

+ exit_status=0
+ '[' 0 '!=' 0 ']'
+ wait_ok 500
+ set +x
wait_compass_ok enter
+ log_warn 'os install time used: 100%'
+ echo -e 'os install time used: 100%'
os install time used: 100%
+ log_info 'wait_compass_ok exit'
+ echo -e 'wait_compass_ok exit'
wait_compass_ok exit
+ install_compass_core
+ install_compass compass_nodocker.yml
+ local inventory_file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/inventory.file
+ sed -i 's/mgmt_next_ip:.*/mgmt_next_ip: 192.168.204.30/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_subnet_ip:.*/mgmt_subnet_ip: 192.168.204.0/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's#mgmt_subnet:.*#mgmt_subnet: 192.168.204.0/24#g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_router:.*/mgmt_router: 192.168.204.1/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_subnet_mask:.*/mgmt_subnet_mask: 255.255.255.0/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_dhcp_range:.*/mgmt_dhcp_range: 192.168.204.1 192.168.204.254/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ echo 'compass_nodocker ansible_ssh_host=192.168.200.2 ansible_ssh_port=22'
+ PYTHONUNBUFFERED=1
+ ANSIBLE_FORCE_COLOR=true
+ ANSIBLE_HOST_KEY_CHECKING=false
+ ANSIBLE_SSH_ARGS='-o UserKnownHostsFile=/dev/null -o ControlMaster=auto -o ControlPersist=60s'
+ ansible-playbook -e pipeline=true --private-key=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa --user=root --connection=ssh --inventory-file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/inventory.file /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/compass_nodocker.yml

PLAY [compass_nodocker] ******************************************************* 

GATHERING FACTS *************************************************************** 
ok: [compass_nodocker]

TASK: [common | hostname name=compass] **************************************** 
changed: [compass_nodocker]

TASK: [common | lineinfile dest=/etc/hosts line="127.0.0.1 compass"] ********** 
changed: [compass_nodocker]

TASK: [common | ln libcrypto.so] ********************************************** 
changed: [compass_nodocker]

TASK: [common | get epel 6] *************************************************** 
skipping: [compass_nodocker]

TASK: [common | get epel 7] *************************************************** 
skipping: [compass_nodocker]

TASK: [common | get docker] *************************************************** 
skipping: [compass_nodocker]

TASK: [common | get docker if el7] ******************************************** 
skipping: [compass_nodocker]

TASK: [common | install brctl] ************************************************ 
skipping: [compass_nodocker]

TASK: [common | pip install dockerpy] ***************************************** 
skipping: [compass_nodocker]

TASK: [common | apt-get update] *********************************************** 
skipping: [compass_nodocker]

TASK: [common | find out if https exists in apt methods] ********************** 
skipping: [compass_nodocker]

TASK: [common | install apt-transport-https if https not in methods] ********** 
skipping: [compass_nodocker]

TASK: [common | add docker repository key] ************************************ 
skipping: [compass_nodocker]

TASK: [common | add a docker.list file to apt source list] ******************** 
skipping: [compass_nodocker]

TASK: [common | update again] ************************************************* 
skipping: [compass_nodocker]

TASK: [common | get docker and brctl] ***************************************** 
skipping: [compass_nodocker]

TASK: [common | get all bridges] ********************************************** 
skipping: [compass_nodocker]

TASK: [common | bring down docker0 if found] ********************************** 
skipping: [compass_nodocker]

TASK: [common | remove docker0 if found] ************************************** 
skipping: [compass_nodocker]

TASK: [common | bring down compass0 if found] ********************************* 
skipping: [compass_nodocker]

TASK: [common | remove compass0 if found] ************************************* 
skipping: [compass_nodocker]

TASK: [common | add bridge compass0] ****************************************** 
skipping: [compass_nodocker]

TASK: [common | get compass0 info] ******************************************** 
skipping: [compass_nodocker]

TASK: [common | add ip addr to  compass0] ************************************* 
skipping: [compass_nodocker]

TASK: [common | bring up compass0] ******************************************** 
skipping: [compass_nodocker]

TASK: [common | register compass0 to docker daemon] *************************** 
skipping: [compass_nodocker]

TASK: [common | register compass0 when it's debian] *************************** 
skipping: [compass_nodocker]

TASK: [common | start docker daemon] ****************************************** 
skipping: [compass_nodocker]

TASK: [common | remove all containers] **************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | install packages] ******************************************** 
changed: [compass_nodocker] => (item=yum,vim,wget,bind,gcc,httpd,lsof,rsync,dhcp,xinetd,syslinux,mkisofs,net-tools,createrepo,cobbler,cobbler-web,pykickstart,fence-agents,tftp-server)

TASK: [cobbler | turn off iptables] ******************************************* 
ok: [compass_nodocker]

TASK: [cobbler | replace config files] **************************************** 
changed: [compass_nodocker] => (item={'dest': '/etc/xinetd.d/rsync', 'name': 'rsync'})
changed: [compass_nodocker] => (item={'dest': '/etc/debmirror.conf', 'name': 'debmirror.conf'})

TASK: [cobbler | restart xinetd service] ************************************** 
changed: [compass_nodocker]

TASK: [cobbler | configure interface for dhcp] ******************************** 
skipping: [compass_nodocker]

TASK: [cobbler | copy httpd configuration files] ****************************** 
ok: [compass_nodocker] => (item=cobbler_web.conf)
ok: [compass_nodocker] => (item=ssl.conf)

TASK: [cobbler | disable selinux] ********************************************* 
ok: [compass_nodocker]

TASK: [cobbler | copy cobbler configuration files] **************************** 
changed: [compass_nodocker] => (item={'file_name': 'tftpd.template', 'name': 'tftpd.template'})
ok: [compass_nodocker] => (item={'file_name': 'modules.conf', 'name': 'modules.conf'})
changed: [compass_nodocker] => (item={'file_name': 'dhcp.template', 'name': 'dhcp.template.nodocker.j2'})
changed: [compass_nodocker] => (item={'file_name': 'named.template', 'name': 'named.template.nodocker.j2'})
changed: [compass_nodocker] => (item={'file_name': 'settings', 'name': 'settings.j2'})

NOTIFIED: [cobbler | restart httpd] ******************************************* 
changed: [compass_nodocker]

NOTIFIED: [cobbler | restart cobbler] ***************************************** 
changed: [compass_nodocker]

TASK: [cobbler | remove old cobbler folders] ********************************** 
changed: [compass_nodocker] => (item=snippets)
changed: [compass_nodocker] => (item=scripts)
changed: [compass_nodocker] => (item=triggers)
changed: [compass_nodocker] => (item=kickstarts)

TASK: [cobbler | create cobbler folders] ************************************** 
ok: [compass_nodocker] => (item=snippets)
ok: [compass_nodocker] => (item=scripts)
ok: [compass_nodocker] => (item=triggers)
ok: [compass_nodocker] => (item=kickstarts)
changed: [compass_nodocker] => (item=repo_mirror)

TASK: [cobbler | copy snippets to cobbler folder] ***************************** 
changed: [compass_nodocker] => (item=snippets)
changed: [compass_nodocker] => (item=scripts)
changed: [compass_nodocker] => (item=triggers)
changed: [compass_nodocker] => (item=kickstarts)

TASK: [cobbler | change snippets mode] **************************************** 
changed: [compass_nodocker]

TASK: [cobbler | create cblr_ks folder] *************************************** 
changed: [compass_nodocker]

TASK: [cobbler | change kickstart mode] *************************************** 
changed: [compass_nodocker]

TASK: [cobbler | clean cobbler log folder] ************************************ 
changed: [compass_nodocker]

TASK: [cobbler | create cobbler log directories] ****************************** 
changed: [compass_nodocker] => (item=/var/log/cobbler)
changed: [compass_nodocker] => (item=/var/log/cobbler/anamon)
changed: [compass_nodocker] => (item=/var/log/cobbler/tasks)

TASK: [cobbler | get all ppa file] ******************************************** 
changed: [compass_nodocker]

TASK: [cobbler | untar cobbler ppa repo] ************************************** 
changed: [compass_nodocker] => (item=/opt/cobbler/ubuntu/ppa/trusty-liberty-ppa.tar.gz)

TASK: [cobbler | get all ppa dir] ********************************************* 
changed: [compass_nodocker]

TASK: [cobbler | create repo conf directory] ********************************** 
changed: [compass_nodocker] => (item=trusty-liberty-ppa)

TASK: [cobbler | create repo conf file] *************************************** 
changed: [compass_nodocker] => (item=trusty-liberty-ppa)

TASK: [cobbler | start cobbler and httpd services] **************************** 
changed: [compass_nodocker] => (item=httpd)
changed: [compass_nodocker] => (item=cobblerd)

TASK: [cobbler | import iso] ************************************************** 
changed: [compass_nodocker] => (item={'key': 'centos', 'value': {'kickstart': 'default.ks', 'breed': 'redhat'}})
changed: [compass_nodocker] => (item={'key': 'ubuntu', 'value': {'kopts': "netcfg/choose_interface=auto console='ttyS0,115200n8' console=tty0 biosdevname=0", 'kickstart': 'default.seed', 'breed': 'ubuntu', 'kopts_post': "console='ttyS0,115200n8' console=tty0 biosdevname=0", 'extra': '--apt-dists=trusty --apt-components=main'}})

TASK: [cobbler | get default repo] ******************************************** 
changed: [compass_nodocker]

TASK: [cobbler | remove default repo] ***************************************** 
changed: [compass_nodocker] => (item=   ubuntu-14.04.3-server-x86_64)

TASK: [cobbler | add repos] *************************************************** 
changed: [compass_nodocker] => (item={'key': 'centos', 'value': {'kickstart': 'default.ks', 'breed': 'redhat'}})
changed: [compass_nodocker] => (item={'key': 'ubuntu', 'value': {'kopts': "netcfg/choose_interface=auto console='ttyS0,115200n8' console=tty0 biosdevname=0", 'kickstart': 'default.seed', 'breed': 'ubuntu', 'kopts_post': "console='ttyS0,115200n8' console=tty0 biosdevname=0", 'extra': '--apt-dists=trusty --apt-components=main'}})

TASK: [cobbler | copy loader files] ******************************************* 
changed: [compass_nodocker]

TASK: [cobbler | untar loaders file] ****************************************** 
changed: [compass_nodocker]

TASK: [cobbler | cobbler get loaders] ***************************************** 
changed: [compass_nodocker]

TASK: [cobbler | generate public key file for ssh] **************************** 
skipping: [compass_nodocker]

TASK: [cobbler | generate ssh key for root] *********************************** 
changed: [compass_nodocker]

TASK: [cobbler | make push_ssh_keys var] ************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | edit profiles] *********************************************** 
changed: [compass_nodocker] => (item={'key': 'centos', 'value': {'kickstart': 'default.ks', 'breed': 'redhat'}})
changed: [compass_nodocker] => (item={'key': 'ubuntu', 'value': {'kopts': "netcfg/choose_interface=auto console='ttyS0,115200n8' console=tty0 biosdevname=0", 'kickstart': 'default.seed', 'breed': 'ubuntu', 'kopts_post': "console='ttyS0,115200n8' console=tty0 biosdevname=0", 'extra': '--apt-dists=trusty --apt-components=main'}})

TASK: [cobbler | cobbler repo sync again] ************************************* 
changed: [compass_nodocker]

TASK: [cobbler | cobbler sync] ************************************************ 
changed: [compass_nodocker]

TASK: [cobbler | restart xinetd] ********************************************** 
changed: [compass_nodocker]

TASK: [cobbler | restart dhcpd] *********************************************** 
changed: [compass_nodocker]

TASK: [cobbler | cobbler check] *********************************************** 
changed: [compass_nodocker]

TASK: [cobbler | get all systems] ********************************************* 
changed: [compass_nodocker]

TASK: [cobbler | remove all systems] ****************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | install mkisofs] ********************************************* 
skipping: [compass_nodocker]

TASK: [cobbler | install mkisofs in debian] *********************************** 
skipping: [compass_nodocker]

TASK: [cobbler | clean up docker directory] *********************************** 
skipping: [compass_nodocker] => (item=Dockerfile)
skipping: [compass_nodocker] => (item=files)

TASK: [cobbler | clean up log directory] ************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | create directory for docker and files] *********************** 
skipping: [compass_nodocker]

TASK: [cobbler | create directories for images] ******************************* 
skipping: [compass_nodocker] => (item=CentOS-6.5-x86_64)
skipping: [compass_nodocker] => (item=Ubuntu-12.04-x86_64)
skipping: [compass_nodocker] => (item=Ubuntu-14.04-x86_64)

TASK: [cobbler | download images] ********************************************* 
skipping: [compass_nodocker] => (item={'name': u'https://s3-us-west-1.amazonaws.com/compass-local-repo/centos/6.5/CentOS-6.5-x86_64.iso', 'filename': u'CentOS-6.5-x86_64.iso'})
skipping: [compass_nodocker] => (item={'name': u'https://s3-us-west-1.amazonaws.com/compass-local-repo/ubuntu/12.04/Ubuntu-12.04-x86_64.iso', 'filename': u'Ubuntu-12.04-x86_64.iso'})
skipping: [compass_nodocker] => (item={'name': u'https://s3-us-west-1.amazonaws.com/compass-local-repo/ubuntu/14.04/Ubuntu-14.04-x86_64.iso', 'filename': u'Ubuntu-14.04-x86_64.iso'})

TASK: [cobbler | mount info] ************************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | mount images] ************************************************ 
skipping: [compass_nodocker] => (item=CentOS-6.5-x86_64)
skipping: [compass_nodocker] => (item=Ubuntu-12.04-x86_64)
skipping: [compass_nodocker] => (item=Ubuntu-14.04-x86_64)

TASK: [cobbler | copy Dockerfile to ~/docker-cobbler] ************************* 
skipping: [compass_nodocker]

TASK: [cobbler | copy dhcp.template] ****************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | copy named.template] ***************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | copy start script] ******************************************* 
skipping: [compass_nodocker]

TASK: [cobbler | copy post sync script] *************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | copy admin key] ********************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | copy chef validator key] ************************************* 
skipping: [compass_nodocker]

TASK: [cobbler | cobbler container?] ****************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | remove cobbler container if any] ***************************** 
skipping: [compass_nodocker]

TASK: [cobbler | check if 'cobbler' image already exists] ********************* 
skipping: [compass_nodocker]

TASK: [cobbler | remove image 'cobbler' if it exists and --rebuild is specified] *** 
skipping: [compass_nodocker]

TASK: [cobbler | restart docker daemon if debian] ***************************** 
skipping: [compass_nodocker]

TASK: [cobbler | build a docker image for cobbler] **************************** 
skipping: [compass_nodocker]

TASK: [cobbler | fork image and run a new cobbler container] ****************** 
skipping: [compass_nodocker]

TASK: [cobbler | extract cobbler ip info] ************************************* 
skipping: [compass_nodocker]

TASK: [cobbler | quote the ip first] ****************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | add cobbler_docker_ip before cobbler ip] ********************* 
skipping: [compass_nodocker]

TASK: [cobbler | write cobbler_ip to local var] ******************************* 
skipping: [compass_nodocker]

TASK: [cobbler | include cobbler dynamic vars] ******************************** 
skipping: [compass_nodocker]

TASK: [cobbler | install dhcp on cobbler host for relay] ********************** 
skipping: [compass_nodocker]

TASK: [cobbler | configure dhcprelay] ***************************************** 
skipping: [compass_nodocker]

TASK: [cobbler | get isc-dhcp-relay agent] ************************************ 
skipping: [compass_nodocker]

TASK: [cobbler | make dhcp-relay agent listen to cobbler] ********************* 
skipping: [compass_nodocker]

TASK: [compass | install packages] ******************************************** 
changed: [compass_nodocker] => (item=redis,mysql,mod_wsgi,nfs-utils,elasticsearch,logstash,kibana,java,mysql-devel,mysql-server,MySQL-python,nmap-ncat,python-devel,rabbitmq-server,libselinux-python,python-setuptools,python-paramiko,python-jinja2)

TASK: [compass | auto set java env] ******************************************* 
changed: [compass_nodocker] => (item=jdk.csh)
changed: [compass_nodocker] => (item=jdk.sh)

TASK: [compass | set java env] ************************************************ 
changed: [compass_nodocker]

TASK: [compass | copy elasticsearch config] *********************************** 
changed: [compass_nodocker]

TASK: [compass | copy kibana config] ****************************************** 
changed: [compass_nodocker]

TASK: [compass | copy kibana service scripts] ********************************* 
changed: [compass_nodocker]

TASK: [compass | copy kibana autostart scripts] ******************************* 
changed: [compass_nodocker]

TASK: [compass | modify kibana api base url] ********************************** 
changed: [compass_nodocker]

TASK: [compass | copy logstash config] **************************************** 
changed: [compass_nodocker] => (item=ansible.conf)
changed: [compass_nodocker] => (item=compass.conf)
changed: [compass_nodocker] => (item=messages.conf)

TASK: [compass | create logstash patterns directory] ************************** 
changed: [compass_nodocker]

TASK: [compass | copy logstash patten] **************************************** 
changed: [compass_nodocker] => (item=ansible.pat)

TASK: [compass | copy httpd config] ******************************************* 
changed: [compass_nodocker] => (item=ods-server.conf)
changed: [compass_nodocker] => (item=http_pip.conf)
changed: [compass_nodocker] => (item=images.conf)
changed: [compass_nodocker] => (item=packages.conf)
changed: [compass_nodocker] => (item=elk.conf)

NOTIFIED: [compass | restart http service] ************************************ 
changed: [compass_nodocker]

TASK: [compass | stop iptables] *********************************************** 
ok: [compass_nodocker]

TASK: [compass | start elasticsearch] ***************************************** 
changed: [compass_nodocker]

TASK: [compass | start logstash] ********************************************** 
changed: [compass_nodocker]

TASK: [compass | start kibana] ************************************************ 
changed: [compass_nodocker]

TASK: [compass | start mysqld] ************************************************ 
changed: [compass_nodocker]

TASK: [compass | start rabbitmq server] *************************************** 
changed: [compass_nodocker]

TASK: [compass | initialize mysql password] *********************************** 
changed: [compass_nodocker]

TASK: [compass | create compass database] ************************************* 
changed: [compass_nodocker]

TASK: [compass | install setuptools] ****************************************** 
changed: [compass_nodocker]

TASK: [compass | install pip] ************************************************* 
changed: [compass_nodocker]

TASK: [compass | create pip config directory] ********************************* 
changed: [compass_nodocker]

TASK: [compass | update pip.conf] ********************************************* 
changed: [compass_nodocker]

TASK: [compass | install pip package] ***************************************** 
changed: [compass_nodocker] => (item=lazypy)
changed: [compass_nodocker] => (item=virtualenv)
changed: [compass_nodocker] => (item=ansible)
changed: [compass_nodocker] => (item=pycrypto-on-pypi)

TASK: [compass | pip install compass into virtualenv] ************************* 
changed: [compass_nodocker]

TASK: [compass | create compass directories] ********************************** 
changed: [compass_nodocker] => (item=/etc/compass)
changed: [compass_nodocker] => (item=/opt/compass/bin)
changed: [compass_nodocker] => (item=/var/www/compass)
changed: [compass_nodocker] => (item=/var/www/compass_web)
changed: [compass_nodocker] => (item=/var/www/compass_web/v2.5)

TASK: [compass | create /var/log/compass] ************************************* 
changed: [compass_nodocker]

TASK: [compass | create ansible folder] *************************************** 
changed: [compass_nodocker]

TASK: [compass | copy ansible scripts into ansible folder] ******************** 
changed: [compass_nodocker]

TASK: [compass | copy ansible roles into ansible folder] ********************** 
changed: [compass_nodocker]

TASK: [compass | write python home into switch virtualenv] ******************** 
changed: [compass_nodocker]

TASK: [compass | rename switch_virtualenv template] *************************** 
changed: [compass_nodocker]

TASK: [compass | copy compass config files] *********************************** 
changed: [compass_nodocker]

TASK: [compass | copy service init file] ************************************** 
changed: [compass_nodocker]

TASK: [compass | copy compass bin file] *************************************** 
changed: [compass_nodocker]

TASK: [compass | copy compass shell script] *********************************** 
changed: [compass_nodocker]

TASK: [compass | copy compass ansible callback] ******************************* 
changed: [compass_nodocker]

TASK: [compass | copy compass executable] ************************************* 
changed: [compass_nodocker]

TASK: [compass | link compass check] ****************************************** 
changed: [compass_nodocker]

TASK: [compass | link compass wsgi] ******************************************* 
changed: [compass_nodocker]

TASK: [compass | change celery env] ******************************************* 
changed: [compass_nodocker]

TASK: [compass | change file mode] ******************************************** 
changed: [compass_nodocker]

TASK: [compass | add compass setting] ***************************************** 
changed: [compass_nodocker]

TASK: [compass | add cobbler setting] ***************************************** 
changed: [compass_nodocker]

TASK: [compass | link celery bin file] **************************************** 
changed: [compass_nodocker]

TASK: [compass | create redis folders] **************************************** 
changed: [compass_nodocker] => (item=/var/log/redis)
changed: [compass_nodocker] => (item=/var/lib/redis)
changed: [compass_nodocker] => (item=/var/run/redis)

TASK: [compass | make sure redis service not running] ************************* 
failed: [compass_nodocker] => {"cmd": "killall -9 redis-server", "failed": true, "rc": 2}
msg: [Errno 2] No such file or directory
...ignoring

TASK: [compass | restart redis service] *************************************** 
changed: [compass_nodocker]

TASK: [compass | initialize db for compass] *********************************** 
changed: [compass_nodocker]

TASK: [compass | copy web ui files] ******************************************* 
changed: [compass_nodocker]

TASK: [compass | create switch file if test mode enabled] ********************* 
skipping: [compass_nodocker]

TASK: [compass | install keyczar for accelerate] ****************************** 
changed: [compass_nodocker]

TASK: [compass | inject switches and mac addresses] *************************** 
skipping: [compass_nodocker]

TASK: [compass | clean up docker directory] *********************************** 
skipping: [compass_nodocker]

TASK: [compass | clean up log directory] ************************************** 
skipping: [compass_nodocker]

TASK: [compass | create directory for docker and files] *********************** 
skipping: [compass_nodocker]

TASK: [compass | copy Dockerfile] ********************************************* 
skipping: [compass_nodocker]

TASK: [compass | copy switch machines file] *********************************** 
skipping: [compass_nodocker]

TASK: [compass | copy start script] ******************************************* 
skipping: [compass_nodocker]

TASK: [compass | copy compass.pem] ******************************************** 
skipping: [compass_nodocker]

TASK: [compass | copy chef config] ******************************************** 
skipping: [compass_nodocker]

TASK: [compass | copy cobber conf] ******************************************** 
skipping: [compass_nodocker]

TASK: [compass | copy compass setting] **************************************** 
skipping: [compass_nodocker]

TASK: [compass | get containers] ********************************************** 
skipping: [compass_nodocker]

TASK: [compass | remove compass container if any] ***************************** 
skipping: [compass_nodocker]

TASK: [compass | check if compass image already exists] *********************** 
skipping: [compass_nodocker]

TASK: [compass | remove image 'compass' if it exists and --rebuild is specified] *** 
skipping: [compass_nodocker]

TASK: [compass | build a docker image for compass] **************************** 
skipping: [compass_nodocker]

TASK: [compass | fork image and run a new compass container] ****************** 
skipping: [compass_nodocker]

TASK: [compass | remove dynamic generated vars] ******************************* 
skipping: [compass_nodocker] => (item=dynamic.yml)
skipping: [compass_nodocker] => (item=keys)

NOTIFIED: [compass | restart compass service] ********************************* 
changed: [compass_nodocker] => (item=compass-celeryd)
changed: [compass_nodocker] => (item=compass-progress-updated)

NOTIFIED: [compass | restart http service] ************************************ 
changed: [compass_nodocker]

PLAY RECAP ******************************************************************** 
compass_nodocker           : ok=102  changed=91   unreachable=0    failed=0   

+ exit_status=0
+ rm /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/inventory.file
+ [[ 0 != 0 ]]
+ set +e
+ log_info 'launch_compass exit'
+ echo -e 'launch_compass exit'
launch_compass exit
+ [[ -z '' ]]
+ set_compass_machine
+ local config_file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i -e '/test: true/d' -e /pxe_boot_macs/d /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ echo 'test: true'
+ echo 'pxe_boot_macs: ['\''7C:A2:3E:86:65:4E'\'','\''7C:A2:3E:86:65:58'\'','\''7C:A2:3E:86:65:38'\'']'
+ install_compass compass_machine.yml
+ local inventory_file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/inventory.file
+ sed -i 's/mgmt_next_ip:.*/mgmt_next_ip: 192.168.204.30/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_subnet_ip:.*/mgmt_subnet_ip: 192.168.204.0/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's#mgmt_subnet:.*#mgmt_subnet: 192.168.204.0/24#g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_router:.*/mgmt_router: 192.168.204.1/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_subnet_mask:.*/mgmt_subnet_mask: 255.255.255.0/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ sed -i 's/mgmt_dhcp_range:.*/mgmt_dhcp_range: 192.168.204.1 192.168.204.254/g' /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/group_vars/all
+ echo 'compass_nodocker ansible_ssh_host=192.168.200.2 ansible_ssh_port=22'
+ PYTHONUNBUFFERED=1
+ ANSIBLE_FORCE_COLOR=true
+ ANSIBLE_HOST_KEY_CHECKING=false
+ ANSIBLE_SSH_ARGS='-o UserKnownHostsFile=/dev/null -o ControlMaster=auto -o ControlPersist=60s'
+ ansible-playbook -e pipeline=true --private-key=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa --user=root --connection=ssh --inventory-file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/inventory.file /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/installer/compass-install/install/compass_machine.yml

PLAY [compass_nodocker] ******************************************************* 

GATHERING FACTS *************************************************************** 
ok: [compass_nodocker]

TASK: [machines | create switch file if test mode enabled] ******************** 
changed: [compass_nodocker]

TASK: [machines | inject switches and mac addresses] ************************** 
changed: [compass_nodocker]

PLAY RECAP ******************************************************************** 
compass_nodocker           : ok=3    changed=2    unreachable=0    failed=0   

+ exit_status=0
+ rm /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/inventory.file
+ [[ 0 != 0 ]]
+ [[ true == \t\r\u\e ]]
+ [[ ! -z '' ]]
+ deploy_host
+ export AYNC_TIMEOUT=20
+ AYNC_TIMEOUT=20
+ ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa root@192.168.200.2 mkdir -p /opt/compass/bin/ansible_callbacks
Warning: Permanently added '192.168.200.2' (ECDSA) to the list of known hosts.
+ scp -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa -r /home/onos/compass4nfv_git/compass4nfv_bm/deploy/status_callback.py root@192.168.200.2:/opt/compass/bin/ansible_callbacks/status_callback.py
Warning: Permanently added '192.168.200.2' (ECDSA) to the list of known hosts.
status_callback.py                                                                                                                                                                100% 4385     4.3KB/s   00:00    
+ [[ '' == true ]]
+ deploy_flag=deploy
+ sleep 20
+ python /home/onos/compass4nfv_git/compass4nfv_bm/deploy/client.py --deploy_flag=deploy --compass_server=http://192.168.200.2/api --compass_user_email=admin@huawei.com --compass_user_password=admin --cluster_name=opnfv2 --language=EN --timezone=America/Los_Angeles --hostnames=host1,host2,host3 --partitions=/=30%,/home=5%,/tmp=5%,/var=60% --subnets=192.168.204.0/24,10.145.88.0/23 '--adapter_os_pattern=(?i)ubuntu-14\.04\.3.*' --adapter_name=openstack_liberty '--adapter_target_system_pattern=^openstack$' --adapter_flavor_pattern=HA-ansible-multinodes-liberty --repo_name=trusty-liberty-ppa --http_proxy= --https_proxy= --no_proxy= --ntp_server=192.168.204.30 --dns_servers=192.168.204.30 --domain=ods.com --search_path=ods.com --default_gateway=192.168.204.1 --server_credential=root=root --local_repo_url= --os_config_json_file= --service_credentials=image:service=service,compute:service=service,dashboard:service=service,identity:service=service,image:service=service,metering:service=service,network:service=service,rabbitmq:service=service,volume:service=service,mysql:service=service,heat:heat=heat_db_secret --console_credentials=admin:console=console,demo:console=console,compute:console=console,dashboard:console=console,identity:console=console,image:console=console,metering:console=console,network:console=console,object-store:console=console,volume:console=console,heat:heat=heat_secret '--host_networks=host1:eth1=192.168.204.11|is_mgmt;host2:eth1=192.168.204.12|is_mgmt;host3:eth1=192.168.204.13|is_mgmt' --network_mapping=install=eth1 --package_config_json_file= '--host_roles=host1=controller,ha;host2=controller,ha;host3=compute' --default_roles= --switch_ips=192.168.124.2 --machines=7C:A2:3E:86:65:4E,7C:A2:3E:86:65:58,7C:A2:3E:86:65:38 --switch_credential=version=2c,community=public --deploy_type=baremetal --deployment_timeout=150 --nopoll_switches --dashboard_url= --cluster_vip=10.1.0.222 --network_cfg=network.yml --neutron_cfg=/home/onos/compass4nfv_git/compass4nfv_bm/deploy/conf/neutron_cfg.yaml --enable_secgroup=true --enable_fwaas=false --rsa_file=/home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa --enable_vpnaas=false
INFO:__main__:login status: 200, resp: {u'expire_timestamp': u'2016-04-21 21:54:16', u'token': u'$1$WZNhgXz9$xIF5.LCVrtAI1a4vjVNdK1', u'user_id': 1, u'id': 1}
INFO:__main__:machines in db: ['7C:A2:3E:86:65:4E', '7C:A2:3E:86:65:58', '7C:A2:3E:86:65:38']
 to add: ['7C:A2:3E:86:65:58', '7C:A2:3E:86:65:4E', '7C:A2:3E:86:65:38']
INFO:__main__:machines are [1, 2, 3]
INFO:__main__:add subnet 192.168.204.0/24 status 200 response {u'subnet': u'192.168.204.0/24', u'created_at': u'2016-04-21 19:54:16', u'updated_at': u'2016-04-21 19:54:16', u'name': u'192.168.204.0/24', u'id': 1}
INFO:__main__:add subnet 10.145.88.0/23 status 200 response {u'subnet': u'10.145.88.0/23', u'created_at': u'2016-04-21 19:54:16', u'updated_at': u'2016-04-21 19:54:16', u'name': u'10.145.88.0/23', u'id': 2}
INFO:__main__:get all adapters status: 200, resp: [{u'flavors': [{u'display_name': u'Single Controller', u'name': u'single-controller', u'roles': [{u'display_name': u'controller node', u'description': u'Controller Node', u'adapter_id': u'openstack_liberty', u'name': u'controller', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:controller', u'flavor_id': u'openstack_liberty:single-controller'}, {u'display_name': u'compute node', u'description': u'Compute Node', u'adapter_id': u'openstack_liberty', u'name': u'compute', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:compute', u'flavor_id': u'openstack_liberty:single-controller'}, {u'display_name': u'network node', u'description': u'Network Node', u'adapter_id': u'openstack_liberty', u'name': u'network', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:network', u'flavor_id': u'openstack_liberty:single-controller'}, {u'display_name': u'storage node', u'description': u'Storage Node', u'adapter_id': u'openstack_liberty', u'name': u'storage', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:storage', u'flavor_id': u'openstack_liberty:single-controller'}, {u'display_name': u'odl', u'description': u'odl node', u'adapter_id': u'openstack_liberty', u'name': u'odl', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:odl', u'flavor_id': u'openstack_liberty:single-controller'}, {u'display_name': u'onos', u'description': u'onos node', u'adapter_id': u'openstack_liberty', u'name': u'onos', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:onos', u'flavor_id': u'openstack_liberty:single-controller'}], u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'template': u'single-controller.tmpl', u'id': u'openstack_liberty:single-controller'}, {u'display_name': u'Multi-nodes', u'name': u'multinodes', u'roles': [{u'display_name': u'Compute controller node', u'description': u'Compute controller node', u'adapter_id': u'openstack_liberty', u'name': u'compute-controller', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:compute-controller', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'Compute worker node', u'description': u'Compute worker node', u'adapter_id': u'openstack_liberty', u'name': u'compute-worker', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:compute-worker', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'Network server node', u'description': u'Network server node', u'adapter_id': u'openstack_liberty', u'name': u'network-server', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:network-server', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'network-worker', u'description': u'Network worker node', u'adapter_id': u'openstack_liberty', u'name': u'network-worker', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:network-worker', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'Database node', u'description': u'Database node', u'adapter_id': u'openstack_liberty', u'name': u'database', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:database', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'Messaging queue node', u'description': u'Messaging queue node', u'adapter_id': u'openstack_liberty', u'name': u'messaging', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:messaging', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'image', u'description': u'Image node', u'adapter_id': u'openstack_liberty', u'name': u'image', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:image', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'odl', u'description': u'odl node', u'adapter_id': u'openstack_liberty', u'name': u'odl', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:odl', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'dashboard', u'description': u'Dashboard node', u'adapter_id': u'openstack_liberty', u'name': u'dashboard', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:dashboard', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'identity', u'description': u'Identity node', u'adapter_id': u'openstack_liberty', u'name': u'identity', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:identity', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'storage-controller', u'description': u'Storage controller node', u'adapter_id': u'openstack_liberty', u'name': u'storage-controller', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:storage-controller', u'flavor_id': u'openstack_liberty:multinodes'}, {u'display_name': u'storage-volume', u'description': u'Storage volume node', u'adapter_id': u'openstack_liberty', u'name': u'storage-volume', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:storage-volume', u'flavor_id': u'openstack_liberty:multinodes'}], u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'template': u'multinodes.tmpl', u'id': u'openstack_liberty:multinodes'}, {u'display_name': u'All-In-One', u'name': u'allinone', u'roles': [{u'display_name': u'all in one', u'description': u'All in One', u'adapter_id': u'openstack_liberty', u'name': u'allinone-compute', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:allinone-compute', u'flavor_id': u'openstack_liberty:allinone'}], u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'template': u'allinone.tmpl', u'id': u'openstack_liberty:allinone'}, {u'display_name': u'HA-ansible-multinodes-liberty', u'name': u'HA-ansible-multinodes-liberty', u'roles': [{u'display_name': u'controller node', u'description': u'Controller Node', u'adapter_id': u'openstack_liberty', u'name': u'controller', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:controller', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'compute node', u'description': u'Compute Node', u'adapter_id': u'openstack_liberty', u'name': u'compute', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:compute', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ha', u'description': u'Cluster with HA node', u'adapter_id': u'openstack_liberty', u'name': u'ha', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:ha', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'odl', u'description': u'odl node', u'adapter_id': u'openstack_liberty', u'name': u'odl', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:odl', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'onos', u'description': u'onos node', u'adapter_id': u'openstack_liberty', u'name': u'onos', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:onos', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'opencontrail', u'description': u'opencontrail node', u'adapter_id': u'openstack_liberty', u'name': u'opencontrail', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:opencontrail', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph', u'description': u'ceph node', u'adapter_id': u'openstack_liberty', u'name': u'ceph', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-adm', u'description': u'Ceph Admin Node', u'adapter_id': u'openstack_liberty', u'name': u'ceph-adm', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-adm', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-mon', u'description': u'Ceph Monitor Node', u'adapter_id': u'openstack_liberty', u'name': u'ceph-mon', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-mon', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-osd', u'description': u'Ceph Storage Node', u'adapter_id': u'openstack_liberty', u'name': u'ceph-osd', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-osd', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'sec-patch', u'description': u'Security Patch Node', u'adapter_id': u'openstack_liberty', u'name': u'sec-patch', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:sec-patch', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-osd-node', u'description': u'', u'adapter_id': u'openstack_liberty', u'name': u'ceph-osd-node', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-osd-node', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}], u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'template': u'HA-ansible-multinodes.tmpl', u'id': u'openstack_liberty:HA-ansible-multinodes-liberty'}], u'package_installer': {u'alias': u'ansible_installer_liberty', u'id': u'ansible_installer_liberty', u'name': u'ansible_installer', u'settings': {u'inventory_file': u'inventory.yml', u'ansible_config': u'ansible.cfg', u'etc_hosts_path': u'roles/common/templates/hosts', u'ansible_run_dir': u'/var/ansible/run', u'ansible_dir': u'/var/ansible', u'runner_dirs': [u'roles', u'openstack_liberty/templates', u'openstack_liberty/roles'], u'playbook_file': u'site.yml', u'group_variable': u'all'}}, u'name': u'openstack_liberty', u'roles': [{u'display_name': u'all in one', u'optional': False, u'description': u'All in One', u'name': u'allinone-compute', u'id': u'openstack_liberty:allinone-compute'}, {u'display_name': u'image', u'optional': False, u'description': u'Image node', u'name': u'image', u'id': u'openstack_liberty:image'}, {u'display_name': u'ceph', u'optional': True, u'description': u'ceph node', u'name': u'ceph', u'id': u'openstack_liberty:ceph'}, {u'display_name': u'ceph-adm', u'optional': True, u'description': u'Ceph Admin Node', u'name': u'ceph-adm', u'id': u'openstack_liberty:ceph-adm'}, {u'display_name': u'odl', u'optional': True, u'description': u'odl node', u'name': u'odl', u'id': u'openstack_liberty:odl'}, {u'display_name': u'network-worker', u'optional': False, u'description': u'Network worker node', u'name': u'network-worker', u'id': u'openstack_liberty:network-worker'}, {u'display_name': u'storage-controller', u'optional': False, u'description': u'Storage controller node', u'name': u'storage-controller', u'id': u'openstack_liberty:storage-controller'}, {u'display_name': u'sec-patch', u'optional': True, u'description': u'Security Patch Node', u'name': u'sec-patch', u'id': u'openstack_liberty:sec-patch'}, {u'display_name': u'network node', u'optional': False, u'description': u'Network Node', u'name': u'network', u'id': u'openstack_liberty:network'}, {u'display_name': u'Compute controller node', u'optional': False, u'description': u'Compute controller node', u'name': u'compute-controller', u'id': u'openstack_liberty:compute-controller'}, {u'display_name': u'Compute worker node', u'optional': False, u'description': u'Compute worker node', u'name': u'compute-worker', u'id': u'openstack_liberty:compute-worker'}, {u'display_name': u'storage node', u'optional': False, u'description': u'Storage Node', u'name': u'storage', u'id': u'openstack_liberty:storage'}, {u'display_name': u'ceph-mon', u'optional': True, u'description': u'Ceph Monitor Node', u'name': u'ceph-mon', u'id': u'openstack_liberty:ceph-mon'}, {u'display_name': u'storage-volume', u'optional': False, u'description': u'Storage volume node', u'name': u'storage-volume', u'id': u'openstack_liberty:storage-volume'}, {u'display_name': u'controller node', u'optional': False, u'description': u'Controller Node', u'name': u'controller', u'id': u'openstack_liberty:controller'}, {u'display_name': u'ceph-osd', u'optional': True, u'description': u'Ceph Storage Node', u'name': u'ceph-osd', u'id': u'openstack_liberty:ceph-osd'}, {u'display_name': u'ha', u'optional': False, u'description': u'Cluster with HA node', u'name': u'ha', u'id': u'openstack_liberty:ha'}, {u'display_name': u'Network server node', u'optional': False, u'description': u'Network server node', u'name': u'network-server', u'id': u'openstack_liberty:network-server'}, {u'display_name': u'identity', u'optional': False, u'description': u'Identity node', u'name': u'identity', u'id': u'openstack_liberty:identity'}, {u'display_name': u'ceph-osd-node', u'optional': True, u'description': u'', u'name': u'ceph-osd-node', u'id': u'openstack_liberty:ceph-osd-node'}, {u'display_name': u'compute node', u'optional': False, u'description': u'Compute Node', u'name': u'compute', u'id': u'openstack_liberty:compute'}, {u'display_name': u'onos', u'optional': True, u'description': u'onos node', u'name': u'onos', u'id': u'openstack_liberty:onos'}, {u'display_name': u'Database node', u'optional': False, u'description': u'Database node', u'name': u'database', u'id': u'openstack_liberty:database'}, {u'display_name': u'opencontrail', u'optional': True, u'description': u'opencontrail node', u'name': u'opencontrail', u'id': u'openstack_liberty:opencontrail'}, {u'display_name': u'dashboard', u'optional': False, u'description': u'Dashboard node', u'name': u'dashboard', u'id': u'openstack_liberty:dashboard'}, {u'display_name': u'Messaging queue node', u'optional': False, u'description': u'Messaging queue node', u'name': u'messaging', u'id': u'openstack_liberty:messaging'}], u'os_installer': {u'alias': u'cobbler', u'id': u'cobbler', u'name': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}}, u'supported_oses': [{u'os_id': u'CentOS-7-Minimal-1511-x86_64', u'id': u'CentOS-7-Minimal-1511-x86_64', u'name': u'CentOS-7-Minimal-1511-x86_64'}, {u'os_id': u'ubuntu-14.04.3-server-x86_64', u'id': u'ubuntu-14.04.3-server-x86_64', u'name': u'ubuntu-14.04.3-server-x86_64'}, {u'os_id': u'Ubuntu-14.04-x86_64', u'id': u'Ubuntu-14.04-x86_64', u'name': u'Ubuntu-14.04-x86_64'}], u'display_name': u'Openstack Liberty', u'id': u'openstack_liberty'}]
INFO:__main__:add cluster opnfv2 status: 200 resp:{u'os_name': u'ubuntu-14.04.3-server-x86_64', u'name': u'opnfv2', u'reinstall_distributed_system': True, u'created_at': u'2016-04-21 19:54:17', u'adapter_name': u'openstack_liberty', u'adapter_id': u'openstack_liberty', u'updated_at': u'2016-04-21 19:54:17', u'os_id': u'ubuntu-14.04.3-server-x86_64', u'id': 1, u'flavor_name': u'HA-ansible-multinodes-liberty', u'owner': u'admin@huawei.com', u'distributed_system_installed': False, u'flavor': {u'display_name': u'HA-ansible-multinodes-liberty', u'name': u'HA-ansible-multinodes-liberty', u'roles': [{u'display_name': u'controller node', u'description': u'Controller Node', u'adapter_id': u'openstack_liberty', u'name': u'controller', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:controller', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'compute node', u'description': u'Compute Node', u'adapter_id': u'openstack_liberty', u'name': u'compute', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:compute', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ha', u'description': u'Cluster with HA node', u'adapter_id': u'openstack_liberty', u'name': u'ha', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:ha', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'odl', u'description': u'odl node', u'adapter_id': u'openstack_liberty', u'name': u'odl', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:odl', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'onos', u'description': u'onos node', u'adapter_id': u'openstack_liberty', u'name': u'onos', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:onos', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'opencontrail', u'description': u'opencontrail node', u'adapter_id': u'openstack_liberty', u'name': u'opencontrail', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:opencontrail', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph', u'description': u'ceph node', u'adapter_id': u'openstack_liberty', u'name': u'ceph', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-adm', u'description': u'Ceph Admin Node', u'adapter_id': u'openstack_liberty', u'name': u'ceph-adm', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-adm', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-mon', u'description': u'Ceph Monitor Node', u'adapter_id': u'openstack_liberty', u'name': u'ceph-mon', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-mon', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-osd', u'description': u'Ceph Storage Node', u'adapter_id': u'openstack_liberty', u'name': u'ceph-osd', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-osd', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'sec-patch', u'description': u'Security Patch Node', u'adapter_id': u'openstack_liberty', u'name': u'sec-patch', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:sec-patch', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, {u'display_name': u'ceph-osd-node', u'description': u'', u'adapter_id': u'openstack_liberty', u'name': u'ceph-osd-node', u'adapter_name': u'openstack_liberty', u'optional': True, u'id': u'openstack_liberty:ceph-osd-node', u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}], u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'template': u'HA-ansible-multinodes.tmpl', u'id': u'openstack_liberty:HA-ansible-multinodes-liberty'}, u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty'}
INFO:__main__:add machines [{'machine_id': 1, 'name': 'host1'}, {'machine_id': 2, 'name': 'host2'}, {'machine_id': 3, 'name': 'host3'}] to cluster 1 status: 200, resp: {u'hosts': [{u'os_installer': {u'alias': u'cobbler', u'id': u'cobbler', u'name': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}}, u'clusterhost_id': 1, u'updated_at': u'2016-04-21 19:54:17', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 1, u'hostname': u'host1', u'reinstall_os': True, u'networks': [], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:4E', u'host_id': 1, u'distributed_system_installed': False, u'name': u'host1.opnfv2', u'roles': [], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:17', u'patched_roles': [], u'machine_id': 1}, {u'os_installer': {u'alias': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}, u'id': u'cobbler', u'name': u'cobbler'}, u'clusterhost_id': 2, u'updated_at': u'2016-04-21 19:54:18', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 2, u'hostname': u'host2', u'reinstall_os': True, u'networks': [], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:58', u'host_id': 2, u'distributed_system_installed': False, u'name': u'host2.opnfv2', u'roles': [], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:18', u'patched_roles': [], u'machine_id': 2}, {u'os_installer': {u'alias': u'cobbler', u'id': u'cobbler', u'name': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}}, u'clusterhost_id': 3, u'updated_at': u'2016-04-21 19:54:17', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 3, u'hostname': u'host3', u'reinstall_os': True, u'networks': [], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:38', u'host_id': 3, u'distributed_system_installed': False, u'name': u'host3.opnfv2', u'roles': [], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:17', u'patched_roles': [], u'machine_id': 3}]}
INFO:__main__:subnets: [u'192.168.204.0/24', u'10.145.88.0/23']
INFO:__main__:add host host1 interface eth1 ip 192.168.204.11 network proprties {'is_mgmt': True}
INFO:__main__:add host host1 interface eth1 ip 192.168.204.11 network properties {'is_mgmt': True} status 200: {u'ip': u'192.168.204.11', u'created_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'updated_at': u'2016-04-21 19:54:18', u'netmask': u'255.255.255.0', u'is_mgmt': True, u'interface': u'eth1', u'id': 1}
INFO:__main__:subnets: [u'192.168.204.0/24', u'10.145.88.0/23']
INFO:__main__:add host host2 interface eth1 ip 192.168.204.12 network proprties {'is_mgmt': True}
INFO:__main__:add host host2 interface eth1 ip 192.168.204.12 network properties {'is_mgmt': True} status 200: {u'ip': u'192.168.204.12', u'created_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'updated_at': u'2016-04-21 19:54:18', u'netmask': u'255.255.255.0', u'is_mgmt': True, u'interface': u'eth1', u'id': 2}
INFO:__main__:subnets: [u'192.168.204.0/24', u'10.145.88.0/23']
INFO:__main__:add host host3 interface eth1 ip 192.168.204.13 network proprties {'is_mgmt': True}
INFO:__main__:add host host3 interface eth1 ip 192.168.204.13 network properties {'is_mgmt': True} status 200: {u'ip': u'192.168.204.13', u'created_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'updated_at': u'2016-04-21 19:54:18', u'netmask': u'255.255.255.0', u'is_mgmt': True, u'interface': u'eth1', u'id': 3}
INFO:__main__:set os config {'partition': {'/var': {'percentage': 60}, '/tmp': {'percentage': 5}, '/': {'percentage': 30}, '/home': {'percentage': 5}}, 'server_credentials': {'username': 'root', 'password': 'root'}, 'general': {'domain': 'ods.com', 'dns_servers': ['192.168.204.30'], 'language': 'EN', 'default_gateway': '192.168.204.1', 'search_path': ['ods.com'], 'timezone': 'America/Los_Angeles', 'ntp_server': '192.168.204.30', 'deploy_type': 'baremetal', 'repo_name': 'trusty-liberty-ppa'}} to cluster 1 status: 200, resp: {u'created_at': u'2016-04-21 19:54:17', u'package_config': {}, u'updated_at': u'2016-04-21 19:54:19', u'config_step': u'', u'os_config': {u'partition': {u'/': {u'percentage': 30}, u'/var': {u'percentage': 60}, u'/tmp': {u'percentage': 5}, u'/home': {u'percentage': 5}}, u'server_credentials': {u'username': u'root', u'password': u'root'}, u'general': {u'domain': u'ods.com', u'dns_servers': [u'192.168.204.30'], u'language': u'EN', u'default_gateway': u'192.168.204.1', u'search_path': [u'ods.com'], u'timezone': u'America/Los_Angeles', u'ntp_server': u'192.168.204.30', u'deploy_type': u'baremetal', u'repo_name': u'trusty-liberty-ppa'}}, u'config_validated': False}
INFO:__main__:service credentials: ['image:service=service', 'compute:service=service', 'dashboard:service=service', 'identity:service=service', 'image:service=service', 'metering:service=service', 'network:service=service', 'rabbitmq:service=service', 'volume:service=service', 'mysql:service=service', 'heat:heat=heat_db_secret']
INFO:__main__:console credentials: ['admin:console=console', 'demo:console=console', 'compute:console=console', 'dashboard:console=console', 'identity:console=console', 'image:console=console', 'metering:console=console', 'network:console=console', 'object-store:console=console', 'volume:console=console', 'heat:heat=heat_secret']
INFO:__main__:set package config {'neutron_config': {'openvswitch': {'tenant_network_type': 'vxlan', 'network_vlan_ranges': ['physnet:1:4094'], 'bridge_mappings': ['physnet:br-prv']}}, 'enable_vpnaas': False, 'network_mapping': {'install': 'eth1'}, 'enable_secgroup': True, 'ha_proxy': {'vip': '10.1.0.222'}, 'enable_fwaas': False, 'network_cfg': {'bond_mappings': [], 'internal_vip': {'interface': 'mgmt', 'ip': '192.168.201.99', 'netmask': '24'}, 'public_vip': {'interface': 'external', 'ip': '10.145.88.99', 'netmask': '23'}, 'provider_net_mappings': [{'interface': 'eth0', 'type': 'ovs', 'role': ['controller', 'compute'], 'name': 'br-prv', 'network': 'physnet'}], 'sys_intf_mappings': [{'interface': 'eth0', 'type': 'vlan', 'vlan_tag': 201, 'role': ['controller', 'compute'], 'name': 'mgmt'}, {'interface': 'eth0', 'type': 'vlan', 'vlan_tag': 202, 'role': ['controller', 'compute'], 'name': 'storage'}, {'interface': 'br-prv', 'type': 'ovs', 'role': ['controller', 'compute'], 'name': 'external'}], 'ip_settings': [{'cidr': '192.168.201.0/24', 'role': ['controller', 'compute'], 'name': 'mgmt', 'ip_ranges': [['192.168.201.11', '192.168.201.254']]}, {'cidr': '192.168.202.0/24', 'role': ['controller', 'compute'], 'name': 'storage', 'ip_ranges': [['192.168.202.11', '192.168.202.254']]}, {'gw': '10.145.88.1', 'cidr': '10.145.88.0/23', 'role': ['controller', 'compute'], 'name': 'external', 'ip_ranges': [['10.145.88.87', '10.145.88.91']]}], 'nic_mappings': [], 'public_net_info': {'no_gateway': False, 'subnet': 'ext-subnet', 'enable': True, 'network': 'ext-net', 'enable_dhcp': False, 'segment_id': 10, 'provider_network': 'physnet', 'floating_ip_start': '10.145.88.92', 'floating_ip_cidr': '10.145.88.0/23', 'floating_ip_end': '10.145.88.98', 'external_gw': '10.145.88.1', 'router': 'router-ext', 'type': 'flat'}, 'onos_nic': 'eth0'}, 'security': {'service_credentials': {'compute': {'username': 'service', 'password': 'service'}, 'network': {'username': 'service', 'password': 'service'}, 'image': {'username': 'service', 'password': 'service'}, 'metering': {'username': 'service', 'password': 'service'}, 'rabbitmq': {'username': 'service', 'password': 'service'}, 'volume': {'username': 'service', 'password': 'service'}, 'heat': {'username': 'heat', 'password': 'heat_db_secret'}, 'dashboard': {'username': 'service', 'password': 'service'}, 'mysql': {'username': 'service', 'password': 'service'}, 'identity': {'username': 'service', 'password': 'service'}}, 'console_credentials': {'compute': {'username': 'console', 'password': 'console'}, 'network': {'username': 'console', 'password': 'console'}, 'admin': {'username': 'console', 'password': 'console'}, 'demo': {'username': 'console', 'password': 'console'}, 'image': {'username': 'console', 'password': 'console'}, 'metering': {'username': 'console', 'password': 'console'}, 'volume': {'username': 'console', 'password': 'console'}, 'heat': {'username': 'heat', 'password': 'heat_secret'}, 'dashboard': {'username': 'console', 'password': 'console'}, 'object-store': {'username': 'console', 'password': 'console'}, 'identity': {'username': 'console', 'password': 'console'}}}} to cluster 1 status: 200, resp: {u'created_at': u'2016-04-21 19:54:17', u'package_config': {u'neutron_config': {u'openvswitch': {u'tenant_network_type': u'vxlan', u'network_vlan_ranges': [u'physnet:1:4094'], u'bridge_mappings': [u'physnet:br-prv']}}, u'enable_vpnaas': False, u'network_mapping': {u'install': u'eth1'}, u'enable_secgroup': True, u'ha_proxy': {u'vip': u'10.1.0.222'}, u'enable_fwaas': False, u'network_cfg': {u'bond_mappings': [], u'internal_vip': {u'interface': u'mgmt', u'ip': u'192.168.201.99', u'netmask': u'24'}, u'public_vip': {u'interface': u'external', u'ip': u'10.145.88.99', u'netmask': u'23'}, u'provider_net_mappings': [{u'interface': u'eth0', u'type': u'ovs', u'role': [u'controller', u'compute'], u'name': u'br-prv', u'network': u'physnet'}], u'sys_intf_mappings': [{u'interface': u'eth0', u'type': u'vlan', u'vlan_tag': 201, u'role': [u'controller', u'compute'], u'name': u'mgmt'}, {u'interface': u'eth0', u'type': u'vlan', u'vlan_tag': 202, u'role': [u'controller', u'compute'], u'name': u'storage'}, {u'interface': u'br-prv', u'type': u'ovs', u'role': [u'controller', u'compute'], u'name': u'external'}], u'ip_settings': [{u'cidr': u'192.168.201.0/24', u'role': [u'controller', u'compute'], u'name': u'mgmt', u'ip_ranges': [[u'192.168.201.11', u'192.168.201.254']]}, {u'cidr': u'192.168.202.0/24', u'role': [u'controller', u'compute'], u'name': u'storage', u'ip_ranges': [[u'192.168.202.11', u'192.168.202.254']]}, {u'gw': u'10.145.88.1', u'cidr': u'10.145.88.0/23', u'role': [u'controller', u'compute'], u'name': u'external', u'ip_ranges': [[u'10.145.88.87', u'10.145.88.91']]}], u'nic_mappings': [], u'public_net_info': {u'no_gateway': False, u'subnet': u'ext-subnet', u'enable': True, u'network': u'ext-net', u'enable_dhcp': False, u'segment_id': 10, u'provider_network': u'physnet', u'floating_ip_start': u'10.145.88.92', u'floating_ip_cidr': u'10.145.88.0/23', u'floating_ip_end': u'10.145.88.98', u'external_gw': u'10.145.88.1', u'router': u'router-ext', u'type': u'flat'}, u'onos_nic': u'eth0'}, u'security': {u'service_credentials': {u'compute': {u'username': u'service', u'password': u'service'}, u'network': {u'username': u'service', u'password': u'service'}, u'image': {u'username': u'service', u'password': u'service'}, u'metering': {u'username': u'service', u'password': u'service'}, u'rabbitmq': {u'username': u'service', u'password': u'service'}, u'volume': {u'username': u'service', u'password': u'service'}, u'heat': {u'username': u'heat', u'password': u'heat_db_secret'}, u'dashboard': {u'username': u'service', u'password': u'service'}, u'mysql': {u'username': u'service', u'password': u'service'}, u'identity': {u'username': u'service', u'password': u'service'}}, u'console_credentials': {u'compute': {u'username': u'console', u'password': u'console'}, u'network': {u'username': u'console', u'password': u'console'}, u'admin': {u'username': u'console', u'password': u'console'}, u'demo': {u'username': u'console', u'password': u'console'}, u'image': {u'username': u'console', u'password': u'console'}, u'metering': {u'username': u'console', u'password': u'console'}, u'volume': {u'username': u'console', u'password': u'console'}, u'heat': {u'username': u'heat', u'password': u'heat_secret'}, u'dashboard': {u'username': u'console', u'password': u'console'}, u'object-store': {u'username': u'console', u'password': u'console'}, u'identity': {u'username': u'console', u'password': u'console'}}}}, u'updated_at': u'2016-04-21 19:54:19', u'config_step': u'', u'os_config': {u'partition': {u'/tmp': {u'percentage': 5}, u'/var': {u'percentage': 60}, u'/': {u'percentage': 30}, u'/home': {u'percentage': 5}}, u'server_credentials': {u'username': u'root', u'password': u'root'}, u'general': {u'domain': u'ods.com', u'dns_servers': [u'192.168.204.30'], u'language': u'EN', u'default_gateway': u'192.168.204.1', u'search_path': [u'ods.com'], u'timezone': u'America/Los_Angeles', u'ntp_server': u'192.168.204.30', u'repo_name': u'trusty-liberty-ppa', u'deploy_type': u'baremetal'}}, u'config_validated': False}
INFO:__main__:set cluster 1 host 1 roles ['controller', 'ha'] status 200: {u'os_installer': {u'alias': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}, u'id': u'cobbler', u'name': u'cobbler'}, u'ip': u'192.168.204.11', u'clusterhost_id': 1, u'updated_at': u'2016-04-21 19:54:19', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 1, u'hostname': u'host1', u'reinstall_os': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.11', u'created_at': u'2016-04-21 19:54:18', u'updated_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287755, u'interface': u'eth1', u'host_id': 1, u'netmask': u'255.255.255.0', u'id': 1}], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:4E', u'host_id': 1, u'distributed_system_installed': False, u'name': u'host1.opnfv2', u'roles': [{u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'controller node', u'description': u'Controller Node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:controller', u'name': u'controller'}, {u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'ha', u'description': u'Cluster with HA node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:ha', u'name': u'ha'}], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:18', u'patched_roles': [], u'machine_id': 1}
INFO:__main__:set cluster 1 host 2 roles ['controller', 'ha'] status 200: {u'os_installer': {u'alias': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}, u'id': u'cobbler', u'name': u'cobbler'}, u'ip': u'192.168.204.12', u'clusterhost_id': 2, u'updated_at': u'2016-04-21 19:54:19', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 2, u'hostname': u'host2', u'reinstall_os': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.12', u'created_at': u'2016-04-21 19:54:18', u'updated_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287756, u'interface': u'eth1', u'host_id': 2, u'netmask': u'255.255.255.0', u'id': 2}], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:58', u'host_id': 2, u'distributed_system_installed': False, u'name': u'host2.opnfv2', u'roles': [{u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'controller node', u'description': u'Controller Node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:controller', u'name': u'controller'}, {u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'ha', u'description': u'Cluster with HA node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:ha', u'name': u'ha'}], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:18', u'patched_roles': [], u'machine_id': 2}
INFO:__main__:set cluster 1 host 3 roles ['compute'] status 200: {u'os_installer': {u'alias': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}, u'id': u'cobbler', u'name': u'cobbler'}, u'ip': u'192.168.204.13', u'clusterhost_id': 3, u'updated_at': u'2016-04-21 19:54:20', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 3, u'hostname': u'host3', u'reinstall_os': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.13', u'created_at': u'2016-04-21 19:54:19', u'updated_at': u'2016-04-21 19:54:19', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287757, u'interface': u'eth1', u'host_id': 3, u'netmask': u'255.255.255.0', u'id': 3}], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:38', u'host_id': 3, u'distributed_system_installed': False, u'name': u'host3.opnfv2', u'roles': [{u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'compute node', u'description': u'Compute Node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:compute', u'name': u'compute'}], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:18', u'patched_roles': [], u'machine_id': 3}
INFO:__main__:review cluster 1 hosts [3, 2, 1], status 200: {u'cluster': {u'created_at': u'2016-04-21 19:54:17', u'package_config': {u'neutron_config': {u'openvswitch': {u'tenant_network_type': u'vxlan', u'network_vlan_ranges': [u'physnet:1:4094'], u'bridge_mappings': [u'physnet:br-prv']}}, u'enable_vpnaas': False, u'network_mapping': {u'install': {u'interface': u'eth1', u'subnet': u'192.168.204.0/24'}}, u'enable_secgroup': True, u'ha_proxy': {u'vip': u'10.1.0.222'}, u'enable_fwaas': False, u'network_cfg': {u'bond_mappings': [], u'internal_vip': {u'interface': u'mgmt', u'ip': u'192.168.201.99', u'netmask': u'24'}, u'public_vip': {u'interface': u'external', u'ip': u'10.145.88.99', u'netmask': u'23'}, u'provider_net_mappings': [{u'interface': u'eth0', u'type': u'ovs', u'role': [u'controller', u'compute'], u'name': u'br-prv', u'network': u'physnet'}], u'sys_intf_mappings': [{u'interface': u'eth0', u'type': u'vlan', u'vlan_tag': 201, u'role': [u'controller', u'compute'], u'name': u'mgmt'}, {u'interface': u'eth0', u'type': u'vlan', u'vlan_tag': 202, u'role': [u'controller', u'compute'], u'name': u'storage'}, {u'interface': u'br-prv', u'type': u'ovs', u'role': [u'controller', u'compute'], u'name': u'external'}], u'ip_settings': [{u'cidr': u'192.168.201.0/24', u'role': [u'controller', u'compute'], u'name': u'mgmt', u'ip_ranges': [[u'192.168.201.11', u'192.168.201.254']]}, {u'cidr': u'192.168.202.0/24', u'role': [u'controller', u'compute'], u'name': u'storage', u'ip_ranges': [[u'192.168.202.11', u'192.168.202.254']]}, {u'gw': u'10.145.88.1', u'cidr': u'10.145.88.0/23', u'role': [u'controller', u'compute'], u'name': u'external', u'ip_ranges': [[u'10.145.88.87', u'10.145.88.91']]}], u'nic_mappings': [], u'public_net_info': {u'no_gateway': False, u'subnet': u'ext-subnet', u'enable': True, u'network': u'ext-net', u'enable_dhcp': False, u'segment_id': 10, u'provider_network': u'physnet', u'floating_ip_start': u'10.145.88.92', u'floating_ip_cidr': u'10.145.88.0/23', u'floating_ip_end': u'10.145.88.98', u'external_gw': u'10.145.88.1', u'router': u'router-ext', u'type': u'flat'}, u'onos_nic': u'eth0'}, u'security': {u'service_credentials': {u'compute': {u'username': u'service', u'password': u'service'}, u'network': {u'username': u'service', u'password': u'service'}, u'image': {u'username': u'service', u'password': u'service'}, u'metering': {u'username': u'service', u'password': u'service'}, u'rabbitmq': {u'username': u'service', u'password': u'service'}, u'volume': {u'username': u'service', u'password': u'service'}, u'heat': {u'username': u'heat', u'password': u'heat_db_secret'}, u'dashboard': {u'username': u'service', u'password': u'service'}, u'mysql': {u'username': u'service', u'password': u'service'}, u'identity': {u'username': u'service', u'password': u'service'}}, u'console_credentials': {u'compute': {u'username': u'console', u'password': u'console'}, u'network': {u'username': u'console', u'password': u'console'}, u'admin': {u'username': u'console', u'password': u'console'}, u'demo': {u'username': u'console', u'password': u'console'}, u'image': {u'username': u'console', u'password': u'console'}, u'metering': {u'username': u'console', u'password': u'console'}, u'volume': {u'username': u'console', u'password': u'console'}, u'heat': {u'username': u'heat', u'password': u'heat_secret'}, u'dashboard': {u'username': u'console', u'password': u'console'}, u'object-store': {u'username': u'console', u'password': u'console'}, u'identity': {u'username': u'console', u'password': u'console'}}}}, u'updated_at': u'2016-04-21 19:54:20', u'config_step': u'', u'os_config': {u'partition': {u'/home': {u'percentage': 5}, u'/var': {u'percentage': 60}, u'/tmp': {u'percentage': 5}, u'/': {u'percentage': 30}}, u'server_credentials': {u'username': u'root', u'password': u'root'}, u'general': {u'domain': u'ods.com', u'dns_servers': [u'192.168.204.30'], u'language': u'EN', u'default_gateway': u'192.168.204.1', u'no_proxy': [u'127.0.0.1', u'host1', u'192.168.204.11', u'host2', u'192.168.204.12', u'host3', u'192.168.204.13'], u'search_path': [u'ods.com'], u'timezone': u'America/Los_Angeles', u'ntp_server': u'192.168.204.30', u'deploy_type': u'baremetal', u'repo_name': u'trusty-liberty-ppa'}}, u'config_validated': True}, u'hosts': [{u'created_at': u'2016-04-21 19:54:18', u'package_config': {}, u'updated_at': u'2016-04-21 19:54:20', u'config_step': u'', u'os_config': {}, u'config_validated': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.11', u'created_at': u'2016-04-21 19:54:18', u'updated_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287755, u'interface': u'eth1', u'host_id': 1, u'netmask': u'255.255.255.0', u'id': 1}]}, {u'created_at': u'2016-04-21 19:54:18', u'package_config': {}, u'updated_at': u'2016-04-21 19:54:20', u'config_step': u'', u'os_config': {}, u'config_validated': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.12', u'created_at': u'2016-04-21 19:54:18', u'updated_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287756, u'interface': u'eth1', u'host_id': 2, u'netmask': u'255.255.255.0', u'id': 2}]}, {u'created_at': u'2016-04-21 19:54:18', u'package_config': {}, u'updated_at': u'2016-04-21 19:54:20', u'config_step': u'', u'os_config': {}, u'config_validated': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.13', u'created_at': u'2016-04-21 19:54:19', u'updated_at': u'2016-04-21 19:54:19', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287757, u'interface': u'eth1', u'host_id': 3, u'netmask': u'255.255.255.0', u'id': 3}]}]}
INFO:__main__:deploy cluster 1 hosts [3, 2, 1] status 202: {u'status': u'deploy action sent', u'cluster': {u'created_at': u'2016-04-21 19:54:17', u'package_config': {u'neutron_config': {u'openvswitch': {u'tenant_network_type': u'vxlan', u'network_vlan_ranges': [u'physnet:1:4094'], u'bridge_mappings': [u'physnet:br-prv']}}, u'enable_vpnaas': False, u'network_mapping': {u'install': {u'interface': u'eth1', u'subnet': u'192.168.204.0/24'}}, u'enable_secgroup': True, u'ha_proxy': {u'vip': u'10.1.0.222'}, u'enable_fwaas': False, u'network_cfg': {u'bond_mappings': [], u'internal_vip': {u'interface': u'mgmt', u'ip': u'192.168.201.99', u'netmask': u'24'}, u'public_vip': {u'interface': u'external', u'ip': u'10.145.88.99', u'netmask': u'23'}, u'provider_net_mappings': [{u'interface': u'eth0', u'role': [u'controller', u'compute'], u'type': u'ovs', u'name': u'br-prv', u'network': u'physnet'}], u'sys_intf_mappings': [{u'interface': u'eth0', u'role': [u'controller', u'compute'], u'vlan_tag': 201, u'type': u'vlan', u'name': u'mgmt'}, {u'interface': u'eth0', u'role': [u'controller', u'compute'], u'vlan_tag': 202, u'type': u'vlan', u'name': u'storage'}, {u'interface': u'br-prv', u'role': [u'controller', u'compute'], u'type': u'ovs', u'name': u'external'}], u'onos_nic': u'eth0', u'nic_mappings': [], u'public_net_info': {u'no_gateway': False, u'subnet': u'ext-subnet', u'enable': True, u'network': u'ext-net', u'enable_dhcp': False, u'segment_id': 10, u'type': u'flat', u'floating_ip_start': u'10.145.88.92', u'floating_ip_end': u'10.145.88.98', u'floating_ip_cidr': u'10.145.88.0/23', u'external_gw': u'10.145.88.1', u'router': u'router-ext', u'provider_network': u'physnet'}, u'ip_settings': [{u'cidr': u'192.168.201.0/24', u'role': [u'controller', u'compute'], u'name': u'mgmt', u'ip_ranges': [[u'192.168.201.11', u'192.168.201.254']]}, {u'cidr': u'192.168.202.0/24', u'role': [u'controller', u'compute'], u'name': u'storage', u'ip_ranges': [[u'192.168.202.11', u'192.168.202.254']]}, {u'gw': u'10.145.88.1', u'cidr': u'10.145.88.0/23', u'role': [u'controller', u'compute'], u'name': u'external', u'ip_ranges': [[u'10.145.88.87', u'10.145.88.91']]}]}, u'security': {u'service_credentials': {u'compute': {u'username': u'service', u'password': u'service'}, u'network': {u'username': u'service', u'password': u'service'}, u'image': {u'username': u'service', u'password': u'service'}, u'metering': {u'username': u'service', u'password': u'service'}, u'rabbitmq': {u'username': u'service', u'password': u'service'}, u'volume': {u'username': u'service', u'password': u'service'}, u'heat': {u'username': u'heat', u'password': u'heat_db_secret'}, u'dashboard': {u'username': u'service', u'password': u'service'}, u'mysql': {u'username': u'service', u'password': u'service'}, u'identity': {u'username': u'service', u'password': u'service'}}, u'console_credentials': {u'compute': {u'username': u'console', u'password': u'console'}, u'network': {u'username': u'console', u'password': u'console'}, u'admin': {u'username': u'console', u'password': u'console'}, u'demo': {u'username': u'console', u'password': u'console'}, u'image': {u'username': u'console', u'password': u'console'}, u'metering': {u'username': u'console', u'password': u'console'}, u'volume': {u'username': u'console', u'password': u'console'}, u'heat': {u'username': u'heat', u'password': u'heat_secret'}, u'dashboard': {u'username': u'console', u'password': u'console'}, u'object-store': {u'username': u'console', u'password': u'console'}, u'identity': {u'username': u'console', u'password': u'console'}}}}, u'updated_at': u'2016-04-21 19:54:21', u'config_step': u'', u'os_config': {u'partition': {u'/': {u'percentage': 30}, u'/tmp': {u'percentage': 5}, u'/var': {u'percentage': 60}, u'/home': {u'percentage': 5}}, u'server_credentials': {u'username': u'root', u'password': u'root'}, u'general': {u'domain': u'ods.com', u'dns_servers': [u'192.168.204.30'], u'language': u'EN', u'default_gateway': u'192.168.204.1', u'no_proxy': [u'127.0.0.1', u'host1', u'192.168.204.11', u'host2', u'192.168.204.12', u'host3', u'192.168.204.13'], u'search_path': [u'ods.com'], u'timezone': u'America/Los_Angeles', u'ntp_server': u'192.168.204.30', u'repo_name': u'trusty-liberty-ppa', u'deploy_type': u'baremetal'}}, u'config_validated': True}, u'hosts': [{u'os_installer': {u'alias': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}, u'id': u'cobbler', u'name': u'cobbler'}, u'ip': u'192.168.204.11', u'clusterhost_id': 1, u'updated_at': u'2016-04-21 19:54:21', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 1, u'hostname': u'host1', u'reinstall_os': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.11', u'created_at': u'2016-04-21 19:54:18', u'updated_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287755, u'interface': u'eth1', u'host_id': 1, u'netmask': u'255.255.255.0', u'id': 1}], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:4E', u'host_id': 1, u'distributed_system_installed': False, u'name': u'host1.opnfv2', u'roles': [{u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'controller node', u'description': u'Controller Node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:controller', u'name': u'controller'}, {u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'ha', u'description': u'Cluster with HA node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:ha', u'name': u'ha'}], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:18', u'patched_roles': [], u'machine_id': 1}, {u'os_installer': {u'alias': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}, u'id': u'cobbler', u'name': u'cobbler'}, u'ip': u'192.168.204.12', u'clusterhost_id': 2, u'updated_at': u'2016-04-21 19:54:21', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 2, u'hostname': u'host2', u'reinstall_os': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.12', u'created_at': u'2016-04-21 19:54:18', u'updated_at': u'2016-04-21 19:54:18', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287756, u'interface': u'eth1', u'host_id': 2, u'netmask': u'255.255.255.0', u'id': 2}], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:58', u'host_id': 2, u'distributed_system_installed': False, u'name': u'host2.opnfv2', u'roles': [{u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'controller node', u'description': u'Controller Node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:controller', u'name': u'controller'}, {u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'ha', u'description': u'Cluster with HA node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:ha', u'name': u'ha'}], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:18', u'patched_roles': [], u'machine_id': 2}, {u'os_installer': {u'alias': u'cobbler', u'settings': {u'credentials': {u'username': u'cobbler', u'password': u'cobbler'}, u'cobbler_url': u'http://192.168.204.30/cobbler_api'}, u'id': u'cobbler', u'name': u'cobbler'}, u'ip': u'192.168.204.13', u'clusterhost_id': 3, u'updated_at': u'2016-04-21 19:54:21', u'switches': [{u'switch_ip': u'1.1.1.1', u'vlans': [], u'port': u'8'}], u'os_installed': False, u'tag': {}, u'cluster_id': 1, u'owner': u'admin@huawei.com', u'switch_ip': u'1.1.1.1', u'port': u'8', u'id': 3, u'hostname': u'host3', u'reinstall_os': True, u'networks': [{u'subnet': u'192.168.204.0/24', u'subnet_id': 1, u'ip': u'192.168.204.13', u'created_at': u'2016-04-21 19:54:19', u'updated_at': u'2016-04-21 19:54:19', u'is_promiscuous': False, u'is_mgmt': True, u'ip_int': 3232287757, u'interface': u'eth1', u'host_id': 3, u'netmask': u'255.255.255.0', u'id': 3}], u'os_id': u'ubuntu-14.04.3-server-x86_64', u'location': {}, u'os_name': u'ubuntu-14.04.3-server-x86_64', u'reinstall_distributed_system': True, u'mac': u'7C:A2:3E:86:65:38', u'host_id': 3, u'distributed_system_installed': False, u'name': u'host3.opnfv2', u'roles': [{u'flavor_id': u'openstack_liberty:HA-ansible-multinodes-liberty', u'display_name': u'compute node', u'description': u'Compute Node', u'adapter_id': u'openstack_liberty', u'adapter_name': u'openstack_liberty', u'optional': False, u'id': u'openstack_liberty:compute', u'name': u'compute'}], u'clustername': u'opnfv2', u'created_at': u'2016-04-21 19:54:18', u'patched_roles': [], u'machine_id': 3}]}
INFO:__main__:compass OS installtion is begin
Warning: Permanently added '192.168.200.2' (ECDSA) to the list of known hosts.
+ rename_nics
+ python /home/onos/compass4nfv_git/compass4nfv_bm/deploy/rename_nics.py os-onos-nofeature-ha.yml /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/vm/compass/boot.rsa 192.168.200.2
Traceback (most recent call last):
  File "/home/onos/compass4nfv_git/compass4nfv_bm/deploy/rename_nics.py", line 29, in <module>
    rename_nics(yaml.load(open(sys.argv[1])), sys.argv[2], sys.argv[3])
  File "/usr/local/lib/python2.7/dist-packages/yaml/__init__.py", line 71, in load
    return loader.get_single_data()
  File "/usr/local/lib/python2.7/dist-packages/yaml/constructor.py", line 37, in get_single_data
    node = self.get_single_node()
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 36, in get_single_node
    document = self.compose_document()
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 55, in compose_document
    node = self.compose_node(None, None)
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 82, in compose_node
    node = self.compose_sequence_node(anchor)
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 111, in compose_sequence_node
    node.value.append(self.compose_node(node, index))
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/local/lib/python2.7/dist-packages/yaml/composer.py", line 64, in compose_node
    if self.check_event(AliasEvent):
  File "/usr/local/lib/python2.7/dist-packages/yaml/parser.py", line 98, in check_event
    self.current_event = self.state()
  File "/usr/local/lib/python2.7/dist-packages/yaml/parser.py", line 449, in parse_block_mapping_value
    if not self.check_token(KeyToken, ValueToken, BlockEndToken):
  File "/usr/local/lib/python2.7/dist-packages/yaml/scanner.py", line 116, in check_token
    self.fetch_more_tokens()
  File "/usr/local/lib/python2.7/dist-packages/yaml/scanner.py", line 257, in fetch_more_tokens
    % ch.encode('utf-8'), self.get_mark())
yaml.scanner.ScannerError: while scanning for the next token
found character '\t' that cannot start any token
  in "os-onos-nofeature-ha.yml", line 39, column 1
+ reboot_hosts
+ '[' -z /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/ipmitool.sh ']'
+ /home/onos/compass4nfv_git/compass4nfv_bm/work/deploy/script/ipmitool.sh
set pxe and reset 10.145.88.81 successsully
set pxe and reset 10.145.88.82 successsully
set pxe and reset 10.145.88.83 successsully
2016-04-21 19:59:39,266 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:03:13,133 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:05:56,722 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:09:45,327 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:13:00,776 p=21337 u=root |   
2016-04-21 20:13:00,776 p=21337 u=root |  /bin/ansible-playbook -i /var/ansible/run/openstack_liberty-opnfv2/inventories/inventory.yml /var/ansible/run/openstack_liberty-opnfv2/HA-ansible-multinodes.yml
2016-04-21 20:13:00,776 p=21337 u=root |   
2016-04-21 20:13:00,840 root create api client http://127.0.0.1/api
2016-04-21 20:13:00,912 p=21337 u=root |   [WARNING]: non fatal error while trying to template play variables: Failed to
template {{ lookup('file', 'item') }}: could not locate file in lookup: item

2016-04-21 20:13:01,421 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:13:01,422 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:13:03,892 p=21337 u=root |  ok: [host3]
2016-04-21 20:13:04,139 p=21337 u=root |  ok: [host1]
2016-04-21 20:13:04,360 p=21337 u=root |  ok: [host2]
2016-04-21 20:13:04,375 p=21337 u=root |  TASK: [make sure ssh dir exist] *********************************************** 
2016-04-21 20:13:04,541 p=21337 u=root |  changed: [host3] => (item={'owner': 'root', 'path': '/root/.ssh', 'group': 'root'})
2016-04-21 20:13:04,542 p=21337 u=root |  changed: [host2] => (item={'owner': 'root', 'path': '/root/.ssh', 'group': 'root'})
2016-04-21 20:13:04,543 p=21337 u=root |  changed: [host1] => (item={'owner': 'root', 'path': '/root/.ssh', 'group': 'root'})
2016-04-21 20:13:04,560 p=21337 u=root |  TASK: [write ssh config] ****************************************************** 
2016-04-21 20:13:04,825 p=21337 u=root |  changed: [host3] => (item={'dest': '/root/.ssh/config', 'owner': 'root', 'group': 'root'})
2016-04-21 20:13:04,828 p=21337 u=root |  changed: [host1] => (item={'dest': '/root/.ssh/config', 'owner': 'root', 'group': 'root'})
2016-04-21 20:13:04,843 p=21337 u=root |  changed: [host2] => (item={'dest': '/root/.ssh/config', 'owner': 'root', 'group': 'root'})
2016-04-21 20:13:04,860 p=21337 u=root |  TASK: [generate ssh keys] ***************************************************** 
2016-04-21 20:13:05,207 p=21337 u=root |  changed: [host1]
2016-04-21 20:13:05,365 p=21337 u=root |  changed: [host2]
2016-04-21 20:13:05,460 p=21337 u=root |  changed: [host3]
2016-04-21 20:13:05,473 p=21337 u=root |  TASK: [fetch ssh keys] ******************************************************** 
2016-04-21 20:13:05,676 p=21337 u=root |  changed: [host2]
2016-04-21 20:13:05,676 p=21337 u=root |  changed: [host1]
2016-04-21 20:13:05,680 p=21337 u=root |  changed: [host3]
2016-04-21 20:13:05,697 p=21337 u=root |  TASK: [authorized_key ] ******************************************************* 
2016-04-21 20:13:05,884 p=21337 u=root |  changed: [host3] => (item=/tmp/ssh-keys-host1)
2016-04-21 20:13:05,898 p=21337 u=root |  changed: [host2] => (item=/tmp/ssh-keys-host1)
2016-04-21 20:13:05,917 p=21337 u=root |  changed: [host1] => (item=/tmp/ssh-keys-host1)
2016-04-21 20:13:06,026 p=21337 u=root |  changed: [host3] => (item=/tmp/ssh-keys-host2)
2016-04-21 20:13:06,043 p=21337 u=root |  changed: [host2] => (item=/tmp/ssh-keys-host2)
2016-04-21 20:13:06,057 p=21337 u=root |  changed: [host1] => (item=/tmp/ssh-keys-host2)
2016-04-21 20:13:06,162 p=21337 u=root |  changed: [host3] => (item=/tmp/ssh-keys-host3)
2016-04-21 20:13:06,176 p=21337 u=root |  changed: [host2] => (item=/tmp/ssh-keys-host3)
2016-04-21 20:13:06,196 p=21337 u=root |  changed: [host1] => (item=/tmp/ssh-keys-host3)
2016-04-21 20:13:06,208 p=21337 u=root |  TASK: [common | include_vars {{ ansible_os_family }}.yml] ********************* 
2016-04-21 20:13:06,249 p=21337 u=root |  ok: [host3]
2016-04-21 20:13:06,254 p=21337 u=root |  ok: [host1]
2016-04-21 20:13:06,255 p=21337 u=root |  ok: [host2]
2016-04-21 20:13:06,267 p=21337 u=root |  TASK: [common | speed up ansible by purging landscape-common] ***************** 
2016-04-21 20:13:06,566 p=21337 u=root |  ok: [host3]
2016-04-21 20:13:06,601 p=21337 u=root |  ok: [host1]
2016-04-21 20:13:06,616 p=21337 u=root |  ok: [host2]
2016-04-21 20:13:06,628 p=21337 u=root |  TASK: [common | update hosts files to all hosts] ****************************** 
2016-04-21 20:13:06,907 p=21337 u=root |  changed: [host2]
2016-04-21 20:13:06,924 p=21337 u=root |  changed: [host1]
2016-04-21 20:13:06,943 p=21337 u=root |  changed: [host3]
2016-04-21 20:13:06,956 p=21337 u=root |  TASK: [common | get compass-core hostname] ************************************ 
2016-04-21 20:13:07,145 p=21337 u=root |  changed: [host3 -> 127.0.0.1]
2016-04-21 20:13:07,149 p=21337 u=root |  changed: [host1 -> 127.0.0.1]
2016-04-21 20:13:07,151 p=21337 u=root |  changed: [host2 -> 127.0.0.1]
2016-04-21 20:13:07,167 p=21337 u=root |  TASK: [common | get compass-core addr] **************************************** 
2016-04-21 20:13:07,339 p=21337 u=root |  changed: [host2]
2016-04-21 20:13:07,347 p=21337 u=root |  changed: [host1]
2016-04-21 20:13:07,354 p=21337 u=root |  changed: [host3]
2016-04-21 20:13:07,365 p=21337 u=root |  TASK: [common | update compass-core name and ip to hosts files] *************** 
2016-04-21 20:13:07,539 p=21337 u=root |  changed: [host1]
2016-04-21 20:13:07,550 p=21337 u=root |  changed: [host3]
2016-04-21 20:13:07,551 p=21337 u=root |  changed: [host2]
2016-04-21 20:13:07,566 p=21337 u=root |  TASK: [common | install packages] ********************************************* 
2016-04-21 20:13:11,265 p=21337 u=root |  changed: [host3] => (item=ubuntu-cloud-keyring)
2016-04-21 20:13:11,276 p=21337 u=root |  changed: [host1] => (item=ubuntu-cloud-keyring)
2016-04-21 20:13:11,632 p=21337 u=root |  changed: [host2] => (item=ubuntu-cloud-keyring)
2016-04-21 20:13:44,550 p=21337 u=root |  changed: [host3] => (item=openvswitch-datapath-dkms)
2016-04-21 20:13:46,738 p=21337 u=root |  changed: [host1] => (item=openvswitch-datapath-dkms)
2016-04-21 20:13:47,020 p=21337 u=root |  changed: [host2] => (item=openvswitch-datapath-dkms)
2016-04-21 20:13:50,089 p=21337 u=root |  changed: [host3] => (item=openvswitch-switch)
2016-04-21 20:13:51,704 p=21337 u=root |  changed: [host3] => (item=python-memcache)
2016-04-21 20:13:52,416 p=21337 u=root |  changed: [host1] => (item=openvswitch-switch)
2016-04-21 20:13:52,758 p=21337 u=root |  changed: [host2] => (item=openvswitch-switch)
2016-04-21 20:13:53,279 p=21337 u=root |  changed: [host3] => (item=python-iniparse)
2016-04-21 20:13:54,085 p=21337 u=root |  changed: [host1] => (item=python-memcache)
2016-04-21 20:13:54,473 p=21337 u=root |  changed: [host2] => (item=python-memcache)
2016-04-21 20:13:55,749 p=21337 u=root |  changed: [host1] => (item=python-iniparse)
2016-04-21 20:13:56,002 p=21337 u=root |  changed: [host3] => (item=python-lxml)
2016-04-21 20:13:56,073 p=21337 u=root |  changed: [host2] => (item=python-iniparse)
2016-04-21 20:13:58,651 p=21337 u=root |  changed: [host1] => (item=python-lxml)
2016-04-21 20:13:59,121 p=21337 u=root |  changed: [host2] => (item=python-lxml)
2016-04-21 20:16:24,505 p=21337 u=root |  changed: [host3] => (item=python-d*)
2016-04-21 20:16:31,065 p=21337 u=root |  changed: [host2] => (item=python-d*)
2016-04-21 20:16:31,662 p=21337 u=root |  changed: [host1] => (item=python-d*)
2016-04-21 20:16:45,232 p=21337 u=root |  changed: [host3] => (item=python-pip)
2016-04-21 20:16:45,538 p=21337 u=root |  ok: [host3] => (item=ntp)
2016-04-21 20:16:51,505 p=21337 u=root |  changed: [host1] => (item=python-pip)
2016-04-21 20:16:51,577 p=21337 u=root |  changed: [host2] => (item=python-pip)
2016-04-21 20:16:51,825 p=21337 u=root |  ok: [host1] => (item=ntp)
2016-04-21 20:16:51,860 p=21337 u=root |  ok: [host2] => (item=ntp)
2016-04-21 20:16:51,889 p=21337 u=root |  TASK: [common | make config template dir exist] ******************************* 
2016-04-21 20:16:52,074 p=21337 u=root |  changed: [host3]
2016-04-21 20:16:52,079 p=21337 u=root |  changed: [host2]
2016-04-21 20:16:52,082 p=21337 u=root |  changed: [host1]
2016-04-21 20:16:52,097 p=21337 u=root |  TASK: [common | create pip config directory] ********************************** 
2016-04-21 20:16:52,261 p=21337 u=root |  changed: [host3]
2016-04-21 20:16:52,269 p=21337 u=root |  changed: [host1]
2016-04-21 20:16:52,277 p=21337 u=root |  changed: [host2]
2016-04-21 20:16:52,287 p=21337 u=root |  TASK: [common | update pip.conf] ********************************************** 
2016-04-21 20:16:52,592 p=21337 u=root |  changed: [host1]
2016-04-21 20:16:52,603 p=21337 u=root |  changed: [host3]
2016-04-21 20:16:52,654 p=21337 u=root |  changed: [host2]
2016-04-21 20:16:52,667 p=21337 u=root |  TASK: [common | install pip packages] ***************************************** 
2016-04-21 20:16:54,199 p=21337 u=root |  changed: [host3] => (item=crudini)
2016-04-21 20:16:54,225 p=21337 u=root |  changed: [host1] => (item=crudini)
2016-04-21 20:16:54,495 p=21337 u=root |  changed: [host2] => (item=crudini)
2016-04-21 20:16:55,448 p=21337 u=root |  changed: [host1] => (item=python-keyczar)
2016-04-21 20:16:55,486 p=21337 u=root |  changed: [host3] => (item=python-keyczar)
2016-04-21 20:16:55,765 p=21337 u=root |  changed: [host2] => (item=python-keyczar)
2016-04-21 20:16:56,613 p=21337 u=root |  changed: [host3] => (item=yang2tosca)
2016-04-21 20:16:56,629 p=21337 u=root |  changed: [host1] => (item=yang2tosca)
2016-04-21 20:16:56,961 p=21337 u=root |  changed: [host2] => (item=yang2tosca)
2016-04-21 20:16:56,978 p=21337 u=root |  TASK: [common | install keyczar for accelerate] ******************************* 
2016-04-21 20:16:59,187 p=21337 u=root |  changed: [host3 -> 127.0.0.1]
2016-04-21 20:16:59,189 p=21337 u=root |  TASK: [common | update ntp conf] ********************************************** 
2016-04-21 20:16:59,470 p=21337 u=root |  changed: [host1]
2016-04-21 20:16:59,471 p=21337 u=root |  changed: [host3]
2016-04-21 20:16:59,475 p=21337 u=root |  changed: [host2]
2016-04-21 20:16:59,489 p=21337 u=root |  TASK: [common | use ntpdate once for initial sync time] *********************** 
2016-04-21 20:16:59,658 p=21337 u=root |  failed: [host3] => {"changed": true, "cmd": "ntpdate 192.168.204.30", "delta": "0:00:00.003235", "end": "2016-04-21 20:17:24.144222", "rc": 1, "start": "2016-04-21 20:17:24.140987", "warnings": []}
2016-04-21 20:16:59,659 p=21337 u=root |  stderr: 21 Apr 20:17:24 ntpdate[14732]: the NTP socket is in use, exiting
2016-04-21 20:16:59,659 p=21337 u=root |  ...ignoring
2016-04-21 20:16:59,659 root task_error: host=host3,data={'cmd': 'ntpdate 192.168.204.30', 'end': '2016-04-21 20:17:24.144222', 'stdout': u'', 'changed': True, 'start': '2016-04-21 20:17:24.140987', 'delta': '0:00:00.003235', 'stderr': '21 Apr 20:17:24 ntpdate[14732]: the NTP socket is in use, exiting', 'rc': 1, 'invocation': {'module_name': u'shell', 'module_args': u'ntpdate 192.168.204.30'}, 'warnings': []}
2016-04-21 20:16:59,659 root notify_host: host host3 with status failed is not supported
2016-04-21 20:16:59,668 p=21337 u=root |  failed: [host2] => {"changed": true, "cmd": "ntpdate 192.168.204.30", "delta": "0:00:00.003266", "end": "2016-04-21 20:17:24.412239", "rc": 1, "start": "2016-04-21 20:17:24.408973", "warnings": []}
2016-04-21 20:16:59,668 p=21337 u=root |  stderr: 21 Apr 20:17:24 ntpdate[14698]: the NTP socket is in use, exiting
2016-04-21 20:16:59,668 p=21337 u=root |  ...ignoring
2016-04-21 20:16:59,668 root task_error: host=host2,data={'cmd': 'ntpdate 192.168.204.30', 'end': '2016-04-21 20:17:24.412239', 'stdout': u'', 'changed': True, 'start': '2016-04-21 20:17:24.408973', 'delta': '0:00:00.003266', 'stderr': '21 Apr 20:17:24 ntpdate[14698]: the NTP socket is in use, exiting', 'rc': 1, 'invocation': {'module_name': u'shell', 'module_args': u'ntpdate 192.168.204.30'}, 'warnings': []}
2016-04-21 20:16:59,668 root notify_host: host host2 with status failed is not supported
2016-04-21 20:16:59,773 p=21337 u=root |  failed: [host1] => {"changed": true, "cmd": "ntpdate 192.168.204.30", "delta": "0:00:00.111672", "end": "2016-04-21 20:17:23.906940", "rc": 1, "start": "2016-04-21 20:17:23.795268", "warnings": []}
2016-04-21 20:16:59,773 p=21337 u=root |  stderr: 21 Apr 20:17:23 ntpdate[14694]: the NTP socket is in use, exiting
2016-04-21 20:16:59,773 p=21337 u=root |  ...ignoring
2016-04-21 20:16:59,773 root task_error: host=host1,data={'cmd': 'ntpdate 192.168.204.30', 'end': '2016-04-21 20:17:23.906940', 'stdout': u'', 'changed': True, 'start': '2016-04-21 20:17:23.795268', 'delta': '0:00:00.111672', 'stderr': '21 Apr 20:17:23 ntpdate[14694]: the NTP socket is in use, exiting', 'rc': 1, 'invocation': {'module_name': u'shell', 'module_args': u'ntpdate 192.168.204.30'}, 'warnings': []}
2016-04-21 20:16:59,773 root notify_host: host host1 with status failed is not supported
2016-04-21 20:16:59,786 p=21337 u=root |  TASK: [common | sync sys clock to hard clock] ********************************* 
2016-04-21 20:17:00,755 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:01,012 p=21337 u=root |  changed: [host3]
2016-04-21 20:17:01,365 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:01,377 p=21337 u=root |  TASK: [common | create fireball keys dir] ************************************* 
2016-04-21 20:17:01,521 p=21337 u=root |  changed: [host3 -> 127.0.0.1]
2016-04-21 20:17:01,522 p=21337 u=root |  TASK: [common | restart services] ********************************************* 
2016-04-21 20:17:01,757 p=21337 u=root |  changed: [host3] => (item=ntp)
2016-04-21 20:17:01,761 p=21337 u=root |  changed: [host1] => (item=ntp)
2016-04-21 20:17:01,781 p=21337 u=root |  changed: [host2] => (item=ntp)
2016-04-21 20:17:01,793 p=21337 u=root |  TASK: [common | write services to monitor list] ******************************* 
2016-04-21 20:17:01,969 p=21337 u=root |  changed: [host1] => (item=ntp)
2016-04-21 20:17:01,971 p=21337 u=root |  changed: [host3] => (item=ntp)
2016-04-21 20:17:01,984 p=21337 u=root |  changed: [host2] => (item=ntp)
2016-04-21 20:17:01,998 p=21337 u=root |  TASK: [common | kill daemon for accelerate] *********************************** 
2016-04-21 20:17:02,229 p=21337 u=root |  changed: [host3]
2016-04-21 20:17:02,229 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:02,248 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:02,259 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:17:02,259 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:17:03,524 p=21337 u=root |  ok: [host3]
2016-04-21 20:17:03,543 p=21337 u=root |  ok: [host2]
2016-04-21 20:17:03,555 p=21337 u=root |  ok: [host1]
2016-04-21 20:17:03,568 p=21337 u=root |  TASK: [setup-network | disable NetworkManager] ******************************** 
2016-04-21 20:17:03,608 p=21337 u=root |  skipping: [host3]
2016-04-21 20:17:03,613 p=21337 u=root |  skipping: [host1]
2016-04-21 20:17:03,613 p=21337 u=root |  skipping: [host2]
2016-04-21 20:17:03,630 p=21337 u=root |  TASK: [setup-network | enable network service] ******************************** 
2016-04-21 20:17:03,668 p=21337 u=root |  skipping: [host3]
2016-04-21 20:17:03,669 p=21337 u=root |  skipping: [host1]
2016-04-21 20:17:03,673 p=21337 u=root |  skipping: [host2]
2016-04-21 20:17:03,688 p=21337 u=root |  TASK: [setup-network | add ovs bridge] **************************************** 
2016-04-21 20:17:04,230 p=21337 u=root |  changed: [host1] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:04,231 p=21337 u=root |  changed: [host3] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:04,234 p=21337 u=root |  changed: [host2] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:04,249 p=21337 u=root |  TASK: [setup-network | add ovs uplink] **************************************** 
2016-04-21 20:17:04,588 p=21337 u=root |  changed: [host3] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:04,601 p=21337 u=root |  changed: [host1] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:04,603 p=21337 u=root |  changed: [host2] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:04,624 p=21337 u=root |  TASK: [setup-network | add ovs uplink] **************************************** 
2016-04-21 20:17:05,071 p=21337 u=root |  changed: [host3] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:05,078 p=21337 u=root |  changed: [host2] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:05,078 p=21337 u=root |  changed: [host1] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:17:05,091 p=21337 u=root |  TASK: [setup-network | ensure script dir exist] ******************************* 
2016-04-21 20:17:05,421 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:05,425 p=21337 u=root |  changed: [host3]
2016-04-21 20:17:05,431 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:05,443 p=21337 u=root |  TASK: [setup-network | copy scripts] ****************************************** 
2016-04-21 20:17:06,076 p=21337 u=root |  changed: [host3] => (item=setup_networks/log.py)
2016-04-21 20:17:06,085 p=21337 u=root |  changed: [host1] => (item=setup_networks/log.py)
2016-04-21 20:17:06,086 p=21337 u=root |  changed: [host2] => (item=setup_networks/log.py)
2016-04-21 20:17:06,609 p=21337 u=root |  changed: [host3] => (item=setup_networks/setup_networks.py)
2016-04-21 20:17:06,611 p=21337 u=root |  changed: [host1] => (item=setup_networks/setup_networks.py)
2016-04-21 20:17:06,614 p=21337 u=root |  changed: [host2] => (item=setup_networks/setup_networks.py)
2016-04-21 20:17:06,631 p=21337 u=root |  TASK: [setup-network | copy boot scripts] ************************************* 
2016-04-21 20:17:07,172 p=21337 u=root |  changed: [host1] => (item=setup_networks/net_init)
2016-04-21 20:17:07,174 p=21337 u=root |  changed: [host3] => (item=setup_networks/net_init)
2016-04-21 20:17:07,191 p=21337 u=root |  changed: [host2] => (item=setup_networks/net_init)
2016-04-21 20:17:07,206 p=21337 u=root |  TASK: [setup-network | copy config files] ************************************* 
2016-04-21 20:17:07,873 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:07,935 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:07,941 p=21337 u=root |  changed: [host3]
2016-04-21 20:17:07,964 p=21337 u=root |  TASK: [setup-network | make sure python lib exist] **************************** 
2016-04-21 20:17:08,311 p=21337 u=root |  ok: [host1] => (item=python-yaml)
2016-04-21 20:17:08,313 p=21337 u=root |  ok: [host3] => (item=python-yaml)
2016-04-21 20:17:08,321 p=21337 u=root |  ok: [host2] => (item=python-yaml)
2016-04-21 20:17:08,585 p=21337 u=root |  ok: [host1] => (item=python-netaddr)
2016-04-21 20:17:08,587 p=21337 u=root |  ok: [host3] => (item=python-netaddr)
2016-04-21 20:17:08,595 p=21337 u=root |  ok: [host2] => (item=python-netaddr)
2016-04-21 20:17:08,606 p=21337 u=root |  TASK: [setup-network | run scripts] ******************************************* 
2016-04-21 20:17:09,134 p=21337 u=root |  changed: [host3]
2016-04-21 20:17:09,148 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:09,171 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:09,182 p=21337 u=root |  TASK: [setup-network | add to boot scripts] *********************************** 
2016-04-21 20:17:09,519 p=21337 u=root |  changed: [host3]
2016-04-21 20:17:09,527 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:09,544 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:09,563 p=21337 u=root |  PLAY [ha] ********************************************************************* 
2016-04-21 20:17:09,565 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:17:10,329 p=21337 u=root |  ok: [host1]
2016-04-21 20:17:10,331 p=21337 u=root |  ok: [host2]
2016-04-21 20:17:10,357 p=21337 u=root |  TASK: [ha | include_vars {{ ansible_os_family }}.yml] ************************* 
2016-04-21 20:17:10,432 p=21337 u=root |  ok: [host2]
2016-04-21 20:17:10,436 p=21337 u=root |  ok: [host1]
2016-04-21 20:17:10,448 p=21337 u=root |  TASK: [ha | install keepalived xinet haproxy] ********************************* 
2016-04-21 20:17:18,015 p=21337 u=root |  changed: [host2] => (item=keepalived)
2016-04-21 20:17:18,201 p=21337 u=root |  changed: [host1] => (item=keepalived)
2016-04-21 20:17:23,707 p=21337 u=root |  changed: [host2] => (item=xinetd)
2016-04-21 20:17:24,290 p=21337 u=root |  changed: [host1] => (item=xinetd)
2016-04-21 20:17:28,265 p=21337 u=root |  changed: [host2] => (item=haproxy)
2016-04-21 20:17:28,577 p=21337 u=root |  changed: [host1] => (item=haproxy)
2016-04-21 20:17:28,592 p=21337 u=root |  TASK: [ha | generate ha service list] ***************************************** 
2016-04-21 20:17:28,949 p=21337 u=root |  changed: [host1] => (item=keepalived)
2016-04-21 20:17:28,949 p=21337 u=root |  changed: [host2] => (item=keepalived)
2016-04-21 20:17:29,222 p=21337 u=root |  changed: [host2] => (item=xinetd)
2016-04-21 20:17:29,223 p=21337 u=root |  changed: [host1] => (item=xinetd)
2016-04-21 20:17:29,495 p=21337 u=root |  changed: [host1] => (item=haproxy)
2016-04-21 20:17:29,496 p=21337 u=root |  changed: [host2] => (item=haproxy)
2016-04-21 20:17:29,512 p=21337 u=root |  TASK: [ha | install pexpect] ************************************************** 
2016-04-21 20:17:30,948 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:31,146 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:31,160 p=21337 u=root |  TASK: [ha | activate ip_nonlocal_bind] **************************************** 
2016-04-21 20:17:31,490 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:31,492 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:31,506 p=21337 u=root |  TASK: [ha | set net.ipv4.tcp_keepalive_intvl] ********************************* 
2016-04-21 20:17:31,828 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:31,835 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:31,847 p=21337 u=root |  TASK: [ha | set net.ipv4.tcp_keepalive_probes] ******************************** 
2016-04-21 20:17:32,172 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:32,174 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:32,190 p=21337 u=root |  TASK: [ha | set net.ipv4.tcp_keepalive_time] ********************************** 
2016-04-21 20:17:32,514 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:32,516 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:32,528 p=21337 u=root |  TASK: [ha | update haproxy cfg] *********************************************** 
2016-04-21 20:17:33,108 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:33,113 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:33,126 p=21337 u=root |  TASK: [ha | set haproxy enable flag] ****************************************** 
2016-04-21 20:17:33,462 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:33,464 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:33,476 p=21337 u=root |  TASK: [ha | set haproxy log] ************************************************** 
2016-04-21 20:17:33,809 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:33,811 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:33,832 p=21337 u=root |  TASK: [ha | set rsyslog udp module] ******************************************* 
2016-04-21 20:17:34,160 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:34,177 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:34,190 p=21337 u=root |  TASK: [ha | set rsyslog udp port] ********************************************* 
2016-04-21 20:17:34,516 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:34,517 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:34,531 p=21337 u=root |  TASK: [ha | copy galera_chk file] ********************************************* 
2016-04-21 20:17:35,059 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:35,065 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:35,077 p=21337 u=root |  TASK: [ha | add network service] ********************************************** 
2016-04-21 20:17:35,404 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:35,407 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:35,420 p=21337 u=root |  TASK: [ha | copy mysqlchk file] *********************************************** 
2016-04-21 20:17:35,943 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:35,947 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:35,962 p=21337 u=root |  TASK: [ha | set keepalived start param] *************************************** 
2016-04-21 20:17:36,297 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:36,298 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:36,315 p=21337 u=root |  TASK: [ha | set keepalived log] *********************************************** 
2016-04-21 20:17:36,647 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:36,648 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:36,662 p=21337 u=root |  TASK: [ha | update keepalived info] ******************************************* 
2016-04-21 20:17:37,203 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:37,208 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:37,221 p=21337 u=root |  TASK: [ha | restart rsyslog] ************************************************** 
2016-04-21 20:17:37,677 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:37,680 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:37,693 p=21337 u=root |  NOTIFIED: [ha | restart haproxy] ********************************************** 
2016-04-21 20:17:38,142 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:38,144 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:38,159 p=21337 u=root |  NOTIFIED: [ha | restart xinetd] *********************************************** 
2016-04-21 20:17:38,491 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:38,515 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:38,528 p=21337 u=root |  NOTIFIED: [ha | restart keepalived] ******************************************* 
2016-04-21 20:17:38,972 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:38,975 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:38,991 p=21337 u=root |  PLAY [controller] ************************************************************* 
2016-04-21 20:17:38,992 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:17:39,749 p=21337 u=root |  ok: [host1]
2016-04-21 20:17:39,759 p=21337 u=root |  ok: [host2]
2016-04-21 20:17:39,782 p=21337 u=root |  TASK: [memcached | include_vars {{ ansible_os_family }}.yml] ****************** 
2016-04-21 20:17:39,848 p=21337 u=root |  ok: [host1]
2016-04-21 20:17:39,855 p=21337 u=root |  ok: [host2]
2016-04-21 20:17:39,867 p=21337 u=root |  TASK: [memcached | install packages] ****************************************** 
2016-04-21 20:17:40,409 p=21337 u=root |  ok: [host1] => (item=python-memcache)
2016-04-21 20:17:40,420 p=21337 u=root |  ok: [host2] => (item=python-memcache)
2016-04-21 20:17:40,888 p=21337 u=root |  ok: [host1] => (item=memcached)
2016-04-21 20:17:40,897 p=21337 u=root |  ok: [host2] => (item=memcached)
2016-04-21 20:17:40,911 p=21337 u=root |  TASK: [memcached | change memcache listen ip] ********************************* 
2016-04-21 20:17:41,246 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:41,247 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:41,261 p=21337 u=root |  TASK: [memcached | restart services] ****************************************** 
2016-04-21 20:17:41,702 p=21337 u=root |  changed: [host1] => (item=memcached)
2016-04-21 20:17:41,704 p=21337 u=root |  changed: [host2] => (item=memcached)
2016-04-21 20:17:41,721 p=21337 u=root |  TASK: [database | include_vars {{ ansible_os_family }}.yml] ******************* 
2016-04-21 20:17:41,802 p=21337 u=root |  ok: [host1]
2016-04-21 20:17:41,803 p=21337 u=root |  ok: [host2]
2016-04-21 20:17:41,817 p=21337 u=root |  TASK: [database | disable auto start] ***************************************** 
2016-04-21 20:17:42,360 p=21337 u=root |  changed: [host1]
2016-04-21 20:17:42,378 p=21337 u=root |  changed: [host2]
2016-04-21 20:17:42,401 p=21337 u=root |  TASK: [database | install python-mysqldb] ************************************* 
2016-04-21 20:17:44,663 p=21337 u=root |  changed: [host2] => (item=libaio1)
2016-04-21 20:17:44,775 p=21337 u=root |  changed: [host1] => (item=libaio1)
2016-04-21 20:17:47,350 p=21337 u=root |  changed: [host2] => (item=libssl0.9.8)
2016-04-21 20:17:47,360 p=21337 u=root |  changed: [host1] => (item=libssl0.9.8)
2016-04-21 20:17:50,737 p=21337 u=root |  changed: [host2] => (item=python-mysqldb)
2016-04-21 20:17:50,843 p=21337 u=root |  changed: [host1] => (item=python-mysqldb)
2016-04-21 20:18:51,116 p=21337 u=root |  changed: [host2] => (item=mysql-wsrep-server-5.5)
2016-04-21 20:18:51,714 p=21337 u=root |  changed: [host1] => (item=mysql-wsrep-server-5.5)
2016-04-21 20:18:54,201 p=21337 u=root |  changed: [host2] => (item=galera-3)
2016-04-21 20:18:54,997 p=21337 u=root |  changed: [host1] => (item=galera-3)
2016-04-21 20:18:55,013 p=21337 u=root |  TASK: [database | change open file limit] ************************************* 
2016-04-21 20:18:55,556 p=21337 u=root |  changed: [host2]
2016-04-21 20:18:55,558 p=21337 u=root |  changed: [host1]
2016-04-21 20:18:55,572 p=21337 u=root |  TASK: [database | update mariadb config file] ********************************* 
2016-04-21 20:18:56,117 p=21337 u=root |  changed: [host1] => (item={'dest': '/etc/mysql/my.cnf', 'src': 'my.cnf'})
2016-04-21 20:18:56,131 p=21337 u=root |  changed: [host2] => (item={'dest': '/etc/mysql/my.cnf', 'src': 'my.cnf'})
2016-04-21 20:18:56,548 p=21337 u=root |  changed: [host1] => (item={'dest': '/etc/mysql/conf.d/wsrep.cnf', 'src': 'wsrep.cnf'})
2016-04-21 20:18:56,557 p=21337 u=root |  changed: [host2] => (item={'dest': '/etc/mysql/conf.d/wsrep.cnf', 'src': 'wsrep.cnf'})
2016-04-21 20:18:56,571 p=21337 u=root |  TASK: [database | bugfix for rsync version 3.1] ******************************* 
2016-04-21 20:18:56,904 p=21337 u=root |  ok: [host1] => (item=\s*uid = \$MYUID$)
2016-04-21 20:18:56,910 p=21337 u=root |  ok: [host2] => (item=\s*uid = \$MYUID$)
2016-04-21 20:18:57,176 p=21337 u=root |  ok: [host1] => (item=\s*gid = \$MYGID$)
2016-04-21 20:18:57,181 p=21337 u=root |  ok: [host2] => (item=\s*gid = \$MYGID$)
2016-04-21 20:18:57,201 p=21337 u=root |  TASK: [database | stat path=/opt/mysql_init_complete] ************************* 
2016-04-21 20:18:57,531 p=21337 u=root |  ok: [host1]
2016-04-21 20:18:57,540 p=21337 u=root |  ok: [host2]
2016-04-21 20:18:57,553 p=21337 u=root |  TASK: [database | enable auto start] ****************************************** 
2016-04-21 20:18:57,885 p=21337 u=root |  changed: [host1]
2016-04-21 20:18:57,896 p=21337 u=root |  changed: [host2]
2016-04-21 20:18:57,910 p=21337 u=root |  TASK: [database | rm old datafiles] ******************************************* 
2016-04-21 20:18:58,252 p=21337 u=root |  changed: [host1]
2016-04-21 20:18:58,252 p=21337 u=root |  changed: [host2]
2016-04-21 20:18:58,269 p=21337 u=root |  TASK: [database | set owner] ************************************************** 
2016-04-21 20:18:58,611 p=21337 u=root |  changed: [host2]
2016-04-21 20:18:58,613 p=21337 u=root |  changed: [host1]
2016-04-21 20:18:58,624 p=21337 u=root |  TASK: [database | start first node to create new cluster] ********************* 
2016-04-21 20:18:58,668 p=21337 u=root |  skipping: [host1]
2016-04-21 20:19:43,147 p=21337 u=root |  changed: [host2]
2016-04-21 20:19:43,192 p=21337 u=root |  TASK: [database | wait for cluster ready] ************************************* 
2016-04-21 20:19:43,263 p=21337 u=root |  skipping: [host1]
2016-04-21 20:19:43,573 p=21337 u=root |  changed: [host2]
2016-04-21 20:19:43,586 p=21337 u=root |  TASK: [database | restart other nodes and join cluster] *********************** 
2016-04-21 20:19:43,637 p=21337 u=root |  skipping: [host2]
2016-04-21 20:21:59,052 p=21337 u=root |  changed: [host1]
2016-04-21 20:21:59,073 p=21337 u=root |  TASK: [database | restart first nodes] **************************************** 
2016-04-21 20:21:59,135 p=21337 u=root |  skipping: [host1]
2016-04-21 20:22:12,183 p=21337 u=root |  changed: [host2]
2016-04-21 20:22:12,203 p=21337 u=root |  TASK: [database | create all needed db] *************************************** 
2016-04-21 20:22:12,277 p=21337 u=root |  skipping: [host1] => (item={'password': u'service', 'db': 'keystone', 'user': 'keystone'})
2016-04-21 20:22:12,282 p=21337 u=root |  skipping: [host1] => (item={'password': u'service', 'db': 'neutron', 'user': 'neutron'})
2016-04-21 20:22:12,286 p=21337 u=root |  skipping: [host1] => (item={'password': u'service', 'db': 'glance', 'user': 'glance'})
2016-04-21 20:22:12,291 p=21337 u=root |  skipping: [host1] => (item={'password': u'service', 'db': 'nova', 'user': 'nova'})
2016-04-21 20:22:12,295 p=21337 u=root |  skipping: [host1] => (item={'password': u'service', 'db': 'cinder', 'user': 'cinder'})
2016-04-21 20:22:12,299 p=21337 u=root |  skipping: [host1] => (item={'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'})
2016-04-21 20:22:12,676 p=21337 u=root |  changed: [host2] => (item={'password': u'service', 'db': 'keystone', 'user': 'keystone'})
2016-04-21 20:22:13,053 p=21337 u=root |  changed: [host2] => (item={'password': u'service', 'db': 'neutron', 'user': 'neutron'})
2016-04-21 20:22:13,444 p=21337 u=root |  changed: [host2] => (item={'password': u'service', 'db': 'glance', 'user': 'glance'})
2016-04-21 20:22:13,820 p=21337 u=root |  changed: [host2] => (item={'password': u'service', 'db': 'nova', 'user': 'nova'})
2016-04-21 20:22:14,196 p=21337 u=root |  changed: [host2] => (item={'password': u'service', 'db': 'cinder', 'user': 'cinder'})
2016-04-21 20:22:14,570 p=21337 u=root |  changed: [host2] => (item={'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'})
2016-04-21 20:22:14,595 p=21337 u=root |  TASK: [database | create service db user] ************************************* 
2016-04-21 20:22:14,664 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'keystone', 'user': 'keystone'}, '%'])
2016-04-21 20:22:14,669 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'keystone', 'user': 'keystone'}, 'localhost'])
2016-04-21 20:22:14,673 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'keystone', 'user': 'keystone'}, 'inventory_hostname'])
2016-04-21 20:22:14,677 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'neutron', 'user': 'neutron'}, '%'])
2016-04-21 20:22:14,681 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'neutron', 'user': 'neutron'}, 'localhost'])
2016-04-21 20:22:14,685 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'neutron', 'user': 'neutron'}, 'inventory_hostname'])
2016-04-21 20:22:14,690 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'glance', 'user': 'glance'}, '%'])
2016-04-21 20:22:14,697 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'glance', 'user': 'glance'}, 'localhost'])
2016-04-21 20:22:14,701 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'glance', 'user': 'glance'}, 'inventory_hostname'])
2016-04-21 20:22:14,705 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'nova', 'user': 'nova'}, '%'])
2016-04-21 20:22:14,709 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'nova', 'user': 'nova'}, 'localhost'])
2016-04-21 20:22:14,713 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'nova', 'user': 'nova'}, 'inventory_hostname'])
2016-04-21 20:22:14,717 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'cinder', 'user': 'cinder'}, '%'])
2016-04-21 20:22:14,721 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'cinder', 'user': 'cinder'}, 'localhost'])
2016-04-21 20:22:14,725 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'service', 'db': 'cinder', 'user': 'cinder'}, 'inventory_hostname'])
2016-04-21 20:22:14,729 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'}, '%'])
2016-04-21 20:22:14,733 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'}, 'localhost'])
2016-04-21 20:22:14,737 p=21337 u=root |  skipping: [host1] => (item=[{'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'}, 'inventory_hostname'])
2016-04-21 20:22:15,072 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'keystone', 'user': 'keystone'}, '%'])
2016-04-21 20:22:15,453 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'keystone', 'user': 'keystone'}, 'localhost'])
2016-04-21 20:22:15,835 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'keystone', 'user': 'keystone'}, 'inventory_hostname'])
2016-04-21 20:22:16,219 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'neutron', 'user': 'neutron'}, '%'])
2016-04-21 20:22:16,600 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'neutron', 'user': 'neutron'}, 'localhost'])
2016-04-21 20:22:16,979 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'neutron', 'user': 'neutron'}, 'inventory_hostname'])
2016-04-21 20:22:17,356 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'glance', 'user': 'glance'}, '%'])
2016-04-21 20:22:17,734 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'glance', 'user': 'glance'}, 'localhost'])
2016-04-21 20:22:18,112 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'glance', 'user': 'glance'}, 'inventory_hostname'])
2016-04-21 20:22:18,491 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'nova', 'user': 'nova'}, '%'])
2016-04-21 20:22:18,869 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'nova', 'user': 'nova'}, 'localhost'])
2016-04-21 20:22:19,247 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'nova', 'user': 'nova'}, 'inventory_hostname'])
2016-04-21 20:22:19,625 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'cinder', 'user': 'cinder'}, '%'])
2016-04-21 20:22:20,003 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'cinder', 'user': 'cinder'}, 'localhost'])
2016-04-21 20:22:20,382 p=21337 u=root |  changed: [host2] => (item=[{'password': u'service', 'db': 'cinder', 'user': 'cinder'}, 'inventory_hostname'])
2016-04-21 20:22:20,766 p=21337 u=root |  changed: [host2] => (item=[{'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'}, '%'])
2016-04-21 20:22:21,149 p=21337 u=root |  changed: [host2] => (item=[{'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'}, 'localhost'])
2016-04-21 20:22:21,529 p=21337 u=root |  changed: [host2] => (item=[{'password': u'heat_db_secret', 'db': 'heat', 'user': 'heat'}, 'inventory_hostname'])
2016-04-21 20:22:21,549 p=21337 u=root |  TASK: [database | create wsrep db user] *************************************** 
2016-04-21 20:22:21,611 p=21337 u=root |  skipping: [host1] => (item=%)
2016-04-21 20:22:21,616 p=21337 u=root |  skipping: [host1] => (item=localhost)
2016-04-21 20:22:21,620 p=21337 u=root |  skipping: [host1] => (item=inventory_hostname)
2016-04-21 20:22:22,018 p=21337 u=root |  changed: [host2] => (item=%)
2016-04-21 20:22:22,395 p=21337 u=root |  changed: [host2] => (item=localhost)
2016-04-21 20:22:22,778 p=21337 u=root |  changed: [host2] => (item=inventory_hostname)
2016-04-21 20:22:22,792 p=21337 u=root |  TASK: [database | install mongodb packages] *********************************** 
2016-04-21 20:22:37,577 p=21337 u=root |  changed: [host2] => (item=mongodb-server)
2016-04-21 20:22:37,678 p=21337 u=root |  changed: [host1] => (item=mongodb-server)
2016-04-21 20:22:37,856 p=21337 u=root |  ok: [host2] => (item=mongodb-clients)
2016-04-21 20:22:37,957 p=21337 u=root |  ok: [host1] => (item=mongodb-clients)
2016-04-21 20:22:42,741 p=21337 u=root |  changed: [host2] => (item=python-pymongo)
2016-04-21 20:22:42,742 p=21337 u=root |  changed: [host1] => (item=python-pymongo)
2016-04-21 20:22:42,766 p=21337 u=root |  TASK: [database | install pymongod packages] ********************************** 
2016-04-21 20:22:42,823 p=21337 u=root |  skipping: [host1]
2016-04-21 20:22:42,828 p=21337 u=root |  skipping: [host2]
2016-04-21 20:22:42,838 p=21337 u=root |  TASK: [database | copy ceilometer configs] ************************************ 
2016-04-21 20:22:43,498 p=21337 u=root |  changed: [host2]
2016-04-21 20:22:43,526 p=21337 u=root |  changed: [host1]
2016-04-21 20:22:43,608 p=21337 u=root |  TASK: [database | update mongodb config file] ********************************* 
2016-04-21 20:22:44,192 p=21337 u=root |  changed: [host1]
2016-04-21 20:22:44,390 p=21337 u=root |  changed: [host2]
2016-04-21 20:22:44,403 p=21337 u=root |  TASK: [database | rm prealloc files] ****************************************** 
2016-04-21 20:22:44,448 p=21337 u=root |  skipping: [host1]
2016-04-21 20:22:44,452 p=21337 u=root |  skipping: [host2]
2016-04-21 20:22:44,461 p=21337 u=root |  TASK: [database | manually restart mongodb server] **************************** 
2016-04-21 20:22:44,923 p=21337 u=root |  changed: [host1]
2016-04-21 20:22:44,936 p=21337 u=root |  changed: [host2]
2016-04-21 20:22:44,948 p=21337 u=root |  TASK: [database | write mongodb to monitor list] ****************************** 
2016-04-21 20:22:45,291 p=21337 u=root |  changed: [host1]
2016-04-21 20:22:45,292 p=21337 u=root |  changed: [host2]
2016-04-21 20:22:45,307 p=21337 u=root |  TASK: [database | wait for mongod ready] ************************************** 
2016-04-21 20:22:58,684 p=21337 u=root |  ok: [host2]
2016-04-21 20:22:59,667 p=21337 u=root |  ok: [host1]
2016-04-21 20:22:59,687 p=21337 u=root |  TASK: [database | copy mongo js] ********************************************** 
2016-04-21 20:22:59,745 p=21337 u=root |  skipping: [host1] => (item={'dest': '/opt/replica.js', 'src': 'replica.js'})
2016-04-21 20:23:00,250 p=21337 u=root |  changed: [host2] => (item={'dest': '/opt/replica.js', 'src': 'replica.js'})
2016-04-21 20:23:00,271 p=21337 u=root |  TASK: [database | init replica servers] *************************************** 
2016-04-21 20:23:00,324 p=21337 u=root |  skipping: [host1]
2016-04-21 20:25:06,240 p=21337 u=root |  changed: [host2]
2016-04-21 20:25:06,259 p=21337 u=root |  TASK: [database | wait replica servers are ready] ***************************** 
2016-04-21 20:25:06,316 p=21337 u=root |  skipping: [host1]
2016-04-21 20:27:41,940 p=21337 u=root |  changed: [host2]
2016-04-21 20:27:41,963 p=21337 u=root |  TASK: [database | debug msg='{{ servers.stdout |int }}'] ********************** 
2016-04-21 20:27:42,020 p=21337 u=root |  skipping: [host1]
2016-04-21 20:27:42,055 p=21337 u=root |  ok: [host2] => {
    "msg": "2"
}
2016-04-21 20:27:42,068 p=21337 u=root |  TASK: [database | wait replica servers are ready] ***************************** 
2016-04-21 20:27:42,113 p=21337 u=root |  skipping: [host1]
2016-04-21 20:27:42,414 p=21337 u=root |  changed: [host2]
2016-04-21 20:27:42,440 p=21337 u=root |  TASK: [database | debug msg='{{ servers.stdout |int }}'] ********************** 
2016-04-21 20:27:42,489 p=21337 u=root |  skipping: [host1]
2016-04-21 20:27:42,526 p=21337 u=root |  ok: [host2] => {
    "msg": "1"
}
2016-04-21 20:27:42,542 p=21337 u=root |  TASK: [database | create mongodb user and db] ********************************* 
2016-04-21 20:27:42,591 p=21337 u=root |  skipping: [host1]
2016-04-21 20:27:43,995 p=21337 u=root |  changed: [host2]
2016-04-21 20:27:44,014 p=21337 u=root |  TASK: [database | grant user privilege] *************************************** 
2016-04-21 20:27:44,067 p=21337 u=root |  skipping: [host1]
2016-04-21 20:27:44,969 p=21337 u=root |  ok: [host2]
2016-04-21 20:27:45,000 p=21337 u=root |  TASK: [mq | include_vars {{ ansible_os_family }}.yml] ************************* 
2016-04-21 20:27:45,084 p=21337 u=root |  ok: [host1]
2016-04-21 20:27:45,088 p=21337 u=root |  ok: [host2]
2016-04-21 20:27:45,105 p=21337 u=root |  TASK: [mq | create rabbitmq directory] **************************************** 
2016-04-21 20:27:45,451 p=21337 u=root |  changed: [host1]
2016-04-21 20:27:45,457 p=21337 u=root |  changed: [host2]
2016-04-21 20:27:45,469 p=21337 u=root |  TASK: [mq | disable auto start] *********************************************** 
2016-04-21 20:27:46,004 p=21337 u=root |  changed: [host1]
2016-04-21 20:27:46,014 p=21337 u=root |  changed: [host2]
2016-04-21 20:27:46,027 p=21337 u=root |  TASK: [mq | install rabbitmq-server] ****************************************** 
2016-04-21 20:28:11,317 p=21337 u=root |  changed: [host2] => (item=rabbitmq-server)
2016-04-21 20:28:11,802 p=21337 u=root |  changed: [host1] => (item=rabbitmq-server)
2016-04-21 20:28:11,821 p=21337 u=root |  TASK: [mq | enable auto start] ************************************************ 
2016-04-21 20:28:12,167 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:12,175 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:12,189 p=21337 u=root |  TASK: [mq | make sure rabbitmq-server stopped] ******************************** 
2016-04-21 20:28:12,931 p=21337 u=root |  ok: [host2]
2016-04-21 20:28:12,934 p=21337 u=root |  ok: [host1]
2016-04-21 20:28:12,949 p=21337 u=root |  TASK: [mq | replace cookie] *************************************************** 
2016-04-21 20:28:13,490 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:13,497 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:13,514 p=21337 u=root |  TASK: [mq | replace config] *************************************************** 
2016-04-21 20:28:14,067 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:14,071 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:14,086 p=21337 u=root |  TASK: [mq | set open file limit for rabbitmq] ********************************* 
2016-04-21 20:28:14,620 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:14,622 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:14,721 p=21337 u=root |  TASK: [mq | restart rabbitmq-server] ****************************************** 
2016-04-21 20:28:19,093 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:19,402 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:19,419 p=21337 u=root |  TASK: [mq | enable queue mirroring] ******************************************* 
2016-04-21 20:28:20,662 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:20,765 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:20,779 p=21337 u=root |  TASK: [mq | stop rabbitmq app] ************************************************ 
2016-04-21 20:28:20,845 p=21337 u=root |  skipping: [host2]
2016-04-21 20:28:24,732 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:24,749 p=21337 u=root |  TASK: [mq | join cluster] ***************************************************** 
2016-04-21 20:28:24,796 p=21337 u=root |  skipping: [host2]
2016-04-21 20:28:27,808 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:27,828 p=21337 u=root |  TASK: [mq | start rabbitmq app] *********************************************** 
2016-04-21 20:28:27,875 p=21337 u=root |  skipping: [host2]
2016-04-21 20:28:29,476 p=21337 u=root |  changed: [host1]
2016-04-21 20:28:29,491 p=21337 u=root |  TASK: [mq | generate mq service list] ***************************************** 
2016-04-21 20:28:29,835 p=21337 u=root |  changed: [host1] => (item=rabbitmq-server)
2016-04-21 20:28:29,837 p=21337 u=root |  changed: [host2] => (item=rabbitmq-server)
2016-04-21 20:28:29,855 p=21337 u=root |  TASK: [mq | remove default guest user is removed] ***************************** 
2016-04-21 20:28:29,918 p=21337 u=root |  skipping: [host1]
2016-04-21 20:28:31,416 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:31,428 p=21337 u=root |  TASK: [mq | add rabbitmq user] ************************************************ 
2016-04-21 20:28:31,467 p=21337 u=root |  skipping: [host1]
2016-04-21 20:28:33,467 p=21337 u=root |  changed: [host2]
2016-04-21 20:28:33,484 p=21337 u=root |  TASK: [keystone | include_vars {{ ansible_os_family }}.yml] ******************* 
2016-04-21 20:28:33,601 p=21337 u=root |  ok: [host1]
2016-04-21 20:28:33,602 p=21337 u=root |  ok: [host2]
2016-04-21 20:28:33,619 p=21337 u=root |  TASK: [keystone | install keystone packages] ********************************** 
2016-04-21 20:29:26,682 p=21337 u=root |  changed: [host1] => (item=keystone)
2016-04-21 20:29:26,699 p=21337 u=root |  changed: [host2] => (item=keystone)
2016-04-21 20:29:26,961 p=21337 u=root |  ok: [host1] => (item=python-keystoneclient)
2016-04-21 20:29:26,974 p=21337 u=root |  ok: [host2] => (item=python-keystoneclient)
2016-04-21 20:29:26,989 p=21337 u=root |  TASK: [keystone | generate keystone service list] ***************************** 
2016-04-21 20:29:27,402 p=21337 u=root |  changed: [host1] => (item=keystone)
2016-04-21 20:29:27,404 p=21337 u=root |  changed: [host2] => (item=keystone)
2016-04-21 20:29:27,421 p=21337 u=root |  TASK: [keystone | update keystone conf] *************************************** 
2016-04-21 20:29:28,020 p=21337 u=root |  changed: [host1]
2016-04-21 20:29:28,023 p=21337 u=root |  changed: [host2]
2016-04-21 20:29:28,040 p=21337 u=root |  TASK: [keystone | delete sqlite database] ************************************* 
2016-04-21 20:29:28,418 p=21337 u=root |  changed: [host1]
2016-04-21 20:29:28,431 p=21337 u=root |  changed: [host2]
2016-04-21 20:29:28,444 p=21337 u=root |  TASK: [keystone | keystone source files] ************************************** 
2016-04-21 20:29:29,027 p=21337 u=root |  changed: [host2] => (item=admin-openrc.sh)
2016-04-21 20:29:29,029 p=21337 u=root |  changed: [host1] => (item=admin-openrc.sh)
2016-04-21 20:29:29,449 p=21337 u=root |  changed: [host2] => (item=demo-openrc.sh)
2016-04-21 20:29:29,450 p=21337 u=root |  changed: [host1] => (item=demo-openrc.sh)
2016-04-21 20:29:29,466 p=21337 u=root |  TASK: [keystone | restart keystone services] ********************************** 
2016-04-21 20:29:29,956 p=21337 u=root |  changed: [host1] => (item=keystone)
2016-04-21 20:29:29,967 p=21337 u=root |  changed: [host2] => (item=keystone)
2016-04-21 20:29:30,000 p=21337 u=root |  TASK: [keystone | keystone-manage db-sync] ************************************ 
2016-04-21 20:29:30,116 p=21337 u=root |  skipping: [host2]
2016-04-21 20:30:07,079 p=21337 u=root |  changed: [host1]
2016-04-21 20:30:07,099 p=21337 u=root |  TASK: [keystone | wait for keystone ready] ************************************ 
2016-04-21 20:30:07,195 p=21337 u=root |  skipping: [host2]
2016-04-21 20:30:10,499 p=21337 u=root |  ok: [host1]
2016-04-21 20:30:10,576 p=21337 u=root |  TASK: [keystone | cron job to purge expired tokens hourly] ******************** 
2016-04-21 20:30:10,692 p=21337 u=root |  skipping: [host2]
2016-04-21 20:30:11,090 p=21337 u=root |  changed: [host1]
2016-04-21 20:30:11,103 p=21337 u=root |  TASK: [keystone | add tenants] ************************************************ 
2016-04-21 20:30:11,222 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Admin Tenant', 'role': 'admin', 'user': 'admin', 'password': u'console', 'email': 'admin@admin.com', 'tenant': 'admin'})
2016-04-21 20:30:11,227 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'glance', 'password': u'console', 'email': 'glance@admin.com', 'tenant': 'service'})
2016-04-21 20:30:11,231 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'nova', 'password': u'console', 'email': 'nova@admin.com', 'tenant': 'service'})
2016-04-21 20:30:11,234 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'keystone', 'password': u'console', 'email': 'keystone@admin.com', 'tenant': 'service'})
2016-04-21 20:30:11,238 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'neutron', 'password': u'console', 'email': 'neutron@admin.com', 'tenant': 'service'})
2016-04-21 20:30:11,242 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'ceilometer', 'password': u'console', 'email': 'ceilometer@admin.com', 'tenant': 'service'})
2016-04-21 20:30:11,246 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'cinder', 'password': u'console', 'email': 'cinder@admin.com', 'tenant': 'service'})
2016-04-21 20:30:11,250 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'heat', 'password': u'heat_secret', 'email': 'heat@admin.com', 'tenant': 'service'})
2016-04-21 20:30:11,254 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Demo Tenant', 'role': 'heat_stack_user', 'user': 'demo', 'password': '', 'email': 'heat@demo.com', 'tenant': 'demo'})
2016-04-21 20:30:12,527 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Admin Tenant', 'role': 'admin', 'user': 'admin', 'password': u'console', 'email': 'admin@admin.com', 'tenant': 'admin'})
2016-04-21 20:30:13,417 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'glance', 'password': u'console', 'email': 'glance@admin.com', 'tenant': 'service'})
2016-04-21 20:30:14,098 p=21337 u=root |  ok: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'nova', 'password': u'console', 'email': 'nova@admin.com', 'tenant': 'service'})
2016-04-21 20:30:14,780 p=21337 u=root |  ok: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'keystone', 'password': u'console', 'email': 'keystone@admin.com', 'tenant': 'service'})
2016-04-21 20:30:15,049 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:30:15,466 p=21337 u=root |  ok: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'neutron', 'password': u'console', 'email': 'neutron@admin.com', 'tenant': 'service'})
2016-04-21 20:30:16,147 p=21337 u=root |  ok: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'ceilometer', 'password': u'console', 'email': 'ceilometer@admin.com', 'tenant': 'service'})
2016-04-21 20:30:16,827 p=21337 u=root |  ok: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'cinder', 'password': u'console', 'email': 'cinder@admin.com', 'tenant': 'service'})
2016-04-21 20:30:17,508 p=21337 u=root |  ok: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'heat', 'password': u'heat_secret', 'email': 'heat@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,392 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Demo Tenant', 'role': 'heat_stack_user', 'user': 'demo', 'password': '', 'email': 'heat@demo.com', 'tenant': 'demo'})
2016-04-21 20:30:18,414 p=21337 u=root |  TASK: [keystone | add users] ************************************************** 
2016-04-21 20:30:18,550 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Admin Tenant', 'role': 'admin', 'user': 'admin', 'password': u'console', 'email': 'admin@admin.com', 'tenant': 'admin'})
2016-04-21 20:30:18,554 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'glance', 'password': u'console', 'email': 'glance@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,565 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'nova', 'password': u'console', 'email': 'nova@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,569 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'keystone', 'password': u'console', 'email': 'keystone@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,574 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'neutron', 'password': u'console', 'email': 'neutron@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,577 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'ceilometer', 'password': u'console', 'email': 'ceilometer@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,581 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'cinder', 'password': u'console', 'email': 'cinder@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,585 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'heat', 'password': u'heat_secret', 'email': 'heat@admin.com', 'tenant': 'service'})
2016-04-21 20:30:18,589 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Demo Tenant', 'role': 'heat_stack_user', 'user': 'demo', 'password': '', 'email': 'heat@demo.com', 'tenant': 'demo'})
2016-04-21 20:30:19,767 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Admin Tenant', 'role': 'admin', 'user': 'admin', 'password': u'console', 'email': 'admin@admin.com', 'tenant': 'admin'})
2016-04-21 20:30:20,752 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'glance', 'password': u'console', 'email': 'glance@admin.com', 'tenant': 'service'})
2016-04-21 20:30:21,640 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'nova', 'password': u'console', 'email': 'nova@admin.com', 'tenant': 'service'})
2016-04-21 20:30:22,626 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'keystone', 'password': u'console', 'email': 'keystone@admin.com', 'tenant': 'service'})
2016-04-21 20:30:23,608 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'neutron', 'password': u'console', 'email': 'neutron@admin.com', 'tenant': 'service'})
2016-04-21 20:30:24,594 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'ceilometer', 'password': u'console', 'email': 'ceilometer@admin.com', 'tenant': 'service'})
2016-04-21 20:30:25,381 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'cinder', 'password': u'console', 'email': 'cinder@admin.com', 'tenant': 'service'})
2016-04-21 20:30:26,268 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'heat', 'password': u'heat_secret', 'email': 'heat@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,310 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Demo Tenant', 'role': 'heat_stack_user', 'user': 'demo', 'password': '', 'email': 'heat@demo.com', 'tenant': 'demo'})
2016-04-21 20:30:27,329 p=21337 u=root |  TASK: [keystone | grant roles] ************************************************ 
2016-04-21 20:30:27,450 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Admin Tenant', 'role': 'admin', 'user': 'admin', 'password': u'console', 'email': 'admin@admin.com', 'tenant': 'admin'})
2016-04-21 20:30:27,454 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'glance', 'password': u'console', 'email': 'glance@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,458 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'nova', 'password': u'console', 'email': 'nova@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,462 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'keystone', 'password': u'console', 'email': 'keystone@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,466 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'neutron', 'password': u'console', 'email': 'neutron@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,470 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'ceilometer', 'password': u'console', 'email': 'ceilometer@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,474 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'cinder', 'password': u'console', 'email': 'cinder@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,478 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'heat', 'password': u'heat_secret', 'email': 'heat@admin.com', 'tenant': 'service'})
2016-04-21 20:30:27,481 p=21337 u=root |  skipping: [host2] => (item={'tenant_description': 'Demo Tenant', 'role': 'heat_stack_user', 'user': 'demo', 'password': '', 'email': 'heat@demo.com', 'tenant': 'demo'})
2016-04-21 20:30:28,554 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Admin Tenant', 'role': 'admin', 'user': 'admin', 'password': u'console', 'email': 'admin@admin.com', 'tenant': 'admin'})
2016-04-21 20:30:29,335 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'glance', 'password': u'console', 'email': 'glance@admin.com', 'tenant': 'service'})
2016-04-21 20:30:30,315 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'nova', 'password': u'console', 'email': 'nova@admin.com', 'tenant': 'service'})
2016-04-21 20:30:31,197 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'keystone', 'password': u'console', 'email': 'keystone@admin.com', 'tenant': 'service'})
2016-04-21 20:30:31,981 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'neutron', 'password': u'console', 'email': 'neutron@admin.com', 'tenant': 'service'})
2016-04-21 20:30:32,763 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'ceilometer', 'password': u'console', 'email': 'ceilometer@admin.com', 'tenant': 'service'})
2016-04-21 20:30:33,545 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'cinder', 'password': u'console', 'email': 'cinder@admin.com', 'tenant': 'service'})
2016-04-21 20:30:34,327 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Service Tenant', 'role': 'admin', 'user': 'heat', 'password': u'heat_secret', 'email': 'heat@admin.com', 'tenant': 'service'})
2016-04-21 20:30:35,210 p=21337 u=root |  changed: [host1] => (item={'tenant_description': 'Demo Tenant', 'role': 'heat_stack_user', 'user': 'demo', 'password': '', 'email': 'heat@demo.com', 'tenant': 'demo'})
2016-04-21 20:30:35,226 p=21337 u=root |  TASK: [keystone | add endpoints] ********************************************** 
2016-04-21 20:30:35,372 p=21337 u=root |  skipping: [host2] => (item={'name': 'keystone', 'adminurl': u'http://192.168.201.99:35357/v2.0', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:5000/v2.0', 'type': 'identity', 'internalurl': u'http://192.168.201.99:5000/v2.0', 'description': 'OpenStack Identity'})
2016-04-21 20:30:35,377 p=21337 u=root |  skipping: [host2] => (item={'name': 'glance', 'adminurl': u'http://192.168.201.99:9292', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:9292', 'type': 'image', 'internalurl': u'http://192.168.201.99:9292', 'description': 'OpenStack Image Service'})
2016-04-21 20:30:35,381 p=21337 u=root |  skipping: [host2] => (item={'name': 'nova', 'adminurl': u'http://192.168.201.99:8774/v2/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8774/v2/%(tenant_id)s', 'type': 'compute', 'internalurl': u'http://192.168.201.99:8774/v2/%(tenant_id)s', 'description': 'OpenStack Compute'})
2016-04-21 20:30:35,384 p=21337 u=root |  skipping: [host2] => (item={'name': 'neutron', 'adminurl': u'http://192.168.201.99:9696', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:9696', 'type': 'network', 'internalurl': u'http://192.168.201.99:9696', 'description': 'OpenStack Networking'})
2016-04-21 20:30:35,388 p=21337 u=root |  skipping: [host2] => (item={'name': 'ceilometer', 'adminurl': u'http://192.168.201.99:8777', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8777', 'type': 'metering', 'internalurl': u'http://192.168.201.99:8777', 'description': 'OpenStack Telemetry'})
2016-04-21 20:30:35,392 p=21337 u=root |  skipping: [host2] => (item={'name': 'cinder', 'adminurl': u'http://192.168.201.99:8776/v1/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8776/v1/%(tenant_id)s', 'type': 'volume', 'internalurl': u'http://192.168.201.99:8776/v1/%(tenant_id)s', 'description': 'OpenStack Block Storage'})
2016-04-21 20:30:35,396 p=21337 u=root |  skipping: [host2] => (item={'name': 'cinderv2', 'adminurl': u'http://192.168.201.99:8776/v2/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8776/v2/%(tenant_id)s', 'type': 'volumev2', 'internalurl': u'http://192.168.201.99:8776/v2/%(tenant_id)s', 'description': 'OpenStack Block Storage v2'})
2016-04-21 20:30:35,400 p=21337 u=root |  skipping: [host2] => (item={'name': 'heat', 'adminurl': u'http://192.168.201.99:8004/v1/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8004/v1/%(tenant_id)s', 'type': 'orchestration', 'internalurl': u'http://192.168.201.99:8004/v1/%(tenant_id)s', 'description': 'OpenStack Orchestration'})
2016-04-21 20:30:35,403 p=21337 u=root |  skipping: [host2] => (item={'name': 'heat-cfn', 'adminurl': u'http://192.168.201.99:8000/v1', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8000/v1', 'type': 'cloudformation', 'internalurl': u'http://192.168.201.99:8000/v1', 'description': 'OpenStack CloudFormation Orchestration'})
2016-04-21 20:30:36,484 p=21337 u=root |  changed: [host1] => (item={'name': 'keystone', 'adminurl': u'http://192.168.201.99:35357/v2.0', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:5000/v2.0', 'type': 'identity', 'internalurl': u'http://192.168.201.99:5000/v2.0', 'description': 'OpenStack Identity'})
2016-04-21 20:30:37,471 p=21337 u=root |  changed: [host1] => (item={'name': 'glance', 'adminurl': u'http://192.168.201.99:9292', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:9292', 'type': 'image', 'internalurl': u'http://192.168.201.99:9292', 'description': 'OpenStack Image Service'})
2016-04-21 20:30:38,577 p=21337 u=root |  changed: [host1] => (item={'name': 'nova', 'adminurl': u'http://192.168.201.99:8774/v2/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8774/v2/%(tenant_id)s', 'type': 'compute', 'internalurl': u'http://192.168.201.99:8774/v2/%(tenant_id)s', 'description': 'OpenStack Compute'})
2016-04-21 20:30:39,564 p=21337 u=root |  changed: [host1] => (item={'name': 'neutron', 'adminurl': u'http://192.168.201.99:9696', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:9696', 'type': 'network', 'internalurl': u'http://192.168.201.99:9696', 'description': 'OpenStack Networking'})
2016-04-21 20:30:40,552 p=21337 u=root |  changed: [host1] => (item={'name': 'ceilometer', 'adminurl': u'http://192.168.201.99:8777', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8777', 'type': 'metering', 'internalurl': u'http://192.168.201.99:8777', 'description': 'OpenStack Telemetry'})
2016-04-21 20:30:41,542 p=21337 u=root |  changed: [host1] => (item={'name': 'cinder', 'adminurl': u'http://192.168.201.99:8776/v1/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8776/v1/%(tenant_id)s', 'type': 'volume', 'internalurl': u'http://192.168.201.99:8776/v1/%(tenant_id)s', 'description': 'OpenStack Block Storage'})
2016-04-21 20:30:42,533 p=21337 u=root |  changed: [host1] => (item={'name': 'cinderv2', 'adminurl': u'http://192.168.201.99:8776/v2/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8776/v2/%(tenant_id)s', 'type': 'volumev2', 'internalurl': u'http://192.168.201.99:8776/v2/%(tenant_id)s', 'description': 'OpenStack Block Storage v2'})
2016-04-21 20:30:43,522 p=21337 u=root |  changed: [host1] => (item={'name': 'heat', 'adminurl': u'http://192.168.201.99:8004/v1/%(tenant_id)s', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8004/v1/%(tenant_id)s', 'type': 'orchestration', 'internalurl': u'http://192.168.201.99:8004/v1/%(tenant_id)s', 'description': 'OpenStack Orchestration'})
2016-04-21 20:30:44,615 p=21337 u=root |  changed: [host1] => (item={'name': 'heat-cfn', 'adminurl': u'http://192.168.201.99:8000/v1', 'region': 'regionOne', 'publicurl': u'http://10.145.88.99:8000/v1', 'type': 'cloudformation', 'internalurl': u'http://192.168.201.99:8000/v1', 'description': 'OpenStack CloudFormation Orchestration'})
2016-04-21 20:30:44,647 p=21337 u=root |  TASK: [nova-controller | include_vars {{ ansible_os_family }}.yml] ************ 
2016-04-21 20:30:44,727 p=21337 u=root |  ok: [host1]
2016-04-21 20:30:44,734 p=21337 u=root |  ok: [host2]
2016-04-21 20:30:44,749 p=21337 u=root |  TASK: [nova-controller | install nova related packages] *********************** 
2016-04-21 20:32:07,117 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:32:20,961 p=21337 u=root |  changed: [host2] => (item=nova-api)
2016-04-21 20:32:24,844 p=21337 u=root |  changed: [host2] => (item=nova-cert)
2016-04-21 20:32:28,426 p=21337 u=root |  changed: [host2] => (item=nova-conductor)
2016-04-21 20:32:30,860 p=21337 u=root |  changed: [host1] => (item=nova-api)
2016-04-21 20:32:32,610 p=21337 u=root |  changed: [host2] => (item=nova-consoleauth)
2016-04-21 20:32:34,645 p=21337 u=root |  changed: [host1] => (item=nova-cert)
2016-04-21 20:32:38,430 p=21337 u=root |  changed: [host1] => (item=nova-conductor)
2016-04-21 20:32:42,614 p=21337 u=root |  changed: [host1] => (item=nova-consoleauth)
2016-04-21 20:32:44,305 p=21337 u=root |  changed: [host2] => (item=nova-novncproxy)
2016-04-21 20:32:47,991 p=21337 u=root |  changed: [host2] => (item=nova-scheduler)
2016-04-21 20:32:48,369 p=21337 u=root |  ok: [host2] => (item=python-oslo.rootwrap)
2016-04-21 20:32:54,607 p=21337 u=root |  changed: [host1] => (item=nova-novncproxy)
2016-04-21 20:32:58,692 p=21337 u=root |  changed: [host1] => (item=nova-scheduler)
2016-04-21 20:32:59,067 p=21337 u=root |  ok: [host1] => (item=python-oslo.rootwrap)
2016-04-21 20:32:59,088 p=21337 u=root |  TASK: [nova-controller | generate nova control service list] ****************** 
2016-04-21 20:32:59,443 p=21337 u=root |  changed: [host1] => (item=nova-api)
2016-04-21 20:32:59,445 p=21337 u=root |  changed: [host2] => (item=nova-api)
2016-04-21 20:32:59,718 p=21337 u=root |  changed: [host1] => (item=nova-cert)
2016-04-21 20:32:59,727 p=21337 u=root |  changed: [host2] => (item=nova-cert)
2016-04-21 20:32:59,997 p=21337 u=root |  changed: [host1] => (item=nova-conductor)
2016-04-21 20:32:59,999 p=21337 u=root |  changed: [host2] => (item=nova-conductor)
2016-04-21 20:33:00,272 p=21337 u=root |  changed: [host1] => (item=nova-consoleauth)
2016-04-21 20:33:00,274 p=21337 u=root |  changed: [host2] => (item=nova-consoleauth)
2016-04-21 20:33:00,544 p=21337 u=root |  changed: [host1] => (item=nova-novncproxy)
2016-04-21 20:33:00,547 p=21337 u=root |  changed: [host2] => (item=nova-novncproxy)
2016-04-21 20:33:00,815 p=21337 u=root |  changed: [host1] => (item=nova-scheduler)
2016-04-21 20:33:00,818 p=21337 u=root |  changed: [host2] => (item=nova-scheduler)
2016-04-21 20:33:00,835 p=21337 u=root |  TASK: [nova-controller | update nova conf] ************************************ 
2016-04-21 20:33:01,386 p=21337 u=root |  changed: [host1]
2016-04-21 20:33:01,388 p=21337 u=root |  changed: [host2]
2016-04-21 20:33:01,402 p=21337 u=root |  TASK: [nova-controller | nova db sync] **************************************** 
2016-04-21 20:33:01,446 p=21337 u=root |  skipping: [host2]
2016-04-21 20:35:13,905 p=21337 u=root |  changed: [host1]
2016-04-21 20:35:13,929 p=21337 u=root |  NOTIFIED: [nova-controller | restart nova service] **************************** 
2016-04-21 20:35:14,608 p=21337 u=root |  changed: [host2] => (item=nova-api)
2016-04-21 20:35:14,609 p=21337 u=root |  changed: [host1] => (item=nova-api)
2016-04-21 20:35:15,089 p=21337 u=root |  changed: [host1] => (item=nova-cert)
2016-04-21 20:35:15,091 p=21337 u=root |  changed: [host2] => (item=nova-cert)
2016-04-21 20:35:15,570 p=21337 u=root |  changed: [host1] => (item=nova-conductor)
2016-04-21 20:35:16,051 p=21337 u=root |  changed: [host1] => (item=nova-consoleauth)
2016-04-21 20:35:16,429 p=21337 u=root |  changed: [host1] => (item=nova-novncproxy)
2016-04-21 20:35:16,910 p=21337 u=root |  changed: [host1] => (item=nova-scheduler)
2016-04-21 20:35:20,080 p=21337 u=root |  changed: [host2] => (item=nova-conductor)
2016-04-21 20:35:20,559 p=21337 u=root |  changed: [host2] => (item=nova-consoleauth)
2016-04-21 20:35:20,939 p=21337 u=root |  changed: [host2] => (item=nova-novncproxy)
2016-04-21 20:35:21,424 p=21337 u=root |  changed: [host2] => (item=nova-scheduler)
2016-04-21 20:35:21,437 p=21337 u=root |  NOTIFIED: [nova-controller | remove nova-sqlite-db] *************************** 
2016-04-21 20:35:21,777 p=21337 u=root |  changed: [host2]
2016-04-21 20:35:21,778 p=21337 u=root |  changed: [host1]
2016-04-21 20:35:21,797 p=21337 u=root |  TASK: [neutron-controller | include_vars {{ ansible_os_family }}.yml] ********* 
2016-04-21 20:35:21,860 p=21337 u=root |  ok: [host1]
2016-04-21 20:35:21,861 p=21337 u=root |  ok: [host2]
2016-04-21 20:35:21,879 p=21337 u=root |  TASK: [neutron-controller | install controller-related neutron packages] ****** 
2016-04-21 20:35:40,852 p=21337 u=root |  changed: [host1] => (item=neutron-server)
2016-04-21 20:35:41,132 p=21337 u=root |  ok: [host1] => (item=neutron-plugin-ml2)
2016-04-21 20:35:42,764 p=21337 u=root |  changed: [host2] => (item=neutron-server)
2016-04-21 20:35:43,140 p=21337 u=root |  ok: [host2] => (item=neutron-plugin-ml2)
2016-04-21 20:35:43,158 p=21337 u=root |  TASK: [neutron-controller | generate neutron control service list] ************ 
2016-04-21 20:35:43,511 p=21337 u=root |  changed: [host1] => (item=neutron-server)
2016-04-21 20:35:43,514 p=21337 u=root |  changed: [host2] => (item=neutron-server)
2016-04-21 20:35:43,530 p=21337 u=root |  TASK: [neutron-controller | get tenant id to fill neutron.conf] *************** 
2016-04-21 20:35:44,369 p=21337 u=root |  changed: [host1]
2016-04-21 20:35:45,270 p=21337 u=root |  changed: [host2]
2016-04-21 20:35:45,289 p=21337 u=root |  TASK: [neutron-controller | update neutron conf] ****************************** 
2016-04-21 20:35:45,873 p=21337 u=root |  changed: [host1]
2016-04-21 20:35:45,880 p=21337 u=root |  changed: [host2]
2016-04-21 20:35:45,893 p=21337 u=root |  TASK: [neutron-controller | update ml2 plugin conf] *************************** 
2016-04-21 20:35:46,458 p=21337 u=root |  changed: [host1]
2016-04-21 20:35:46,460 p=21337 u=root |  changed: [host2]
2016-04-21 20:35:46,475 p=21337 u=root |  TASK: [neutron-controller | ln plugin.ini] ************************************ 
2016-04-21 20:35:46,802 p=21337 u=root |  changed: [host1]
2016-04-21 20:35:46,811 p=21337 u=root |  changed: [host2]
2016-04-21 20:35:46,823 p=21337 u=root |  TASK: [neutron-controller | neutron-db-manage upgrade to Juno] **************** 
2016-04-21 20:37:52,189 p=21337 u=root |  changed: [host1]
2016-04-21 20:37:52,191 p=21337 u=root |  TASK: [neutron-controller | restart first neutron-server] ********************* 
2016-04-21 20:37:52,258 p=21337 u=root |  skipping: [host2]
2016-04-21 20:37:53,542 p=21337 u=root |  changed: [host1]
2016-04-21 20:37:53,559 p=21337 u=root |  TASK: [neutron-controller | restart other neutron-server] ********************* 
2016-04-21 20:37:53,606 p=21337 u=root |  skipping: [host2]
2016-04-21 20:37:53,988 p=21337 u=root |  changed: [host1]
2016-04-21 20:37:54,007 p=21337 u=root |  NOTIFIED: [neutron-controller | restart neutron control services] ************* 
2016-04-21 20:37:54,050 p=21337 u=root |  skipping: [host1] => (item=neutron-server)
2016-04-21 20:37:54,056 p=21337 u=root |  skipping: [host2] => (item=neutron-server)
2016-04-21 20:37:54,071 p=21337 u=root |  TASK: [cinder-controller | include_vars {{ ansible_os_family }}.yml] ********** 
2016-04-21 20:37:54,111 p=21337 u=root |  ok: [host1]
2016-04-21 20:37:54,117 p=21337 u=root |  ok: [host2]
2016-04-21 20:37:54,130 p=21337 u=root |  TASK: [cinder-controller | install cinder packages] *************************** 
2016-04-21 20:38:33,203 p=21337 u=root |  changed: [host1] => (item=cinder-api)
2016-04-21 20:38:34,621 p=21337 u=root |  changed: [host2] => (item=cinder-api)
2016-04-21 20:38:36,692 p=21337 u=root |  changed: [host1] => (item=cinder-scheduler)
2016-04-21 20:38:36,971 p=21337 u=root |  ok: [host1] => (item=python-cinderclient)
2016-04-21 20:38:37,909 p=21337 u=root |  changed: [host2] => (item=cinder-scheduler)
2016-04-21 20:38:38,285 p=21337 u=root |  ok: [host2] => (item=python-cinderclient)
2016-04-21 20:38:38,302 p=21337 u=root |  TASK: [cinder-controller | generate common cinder service list] *************** 
2016-04-21 20:38:38,644 p=21337 u=root |  changed: [host1] => (item=cinder-api)
2016-04-21 20:38:38,649 p=21337 u=root |  changed: [host2] => (item=cinder-api)
2016-04-21 20:38:38,924 p=21337 u=root |  changed: [host1] => (item=cinder-scheduler)
2016-04-21 20:38:38,926 p=21337 u=root |  changed: [host2] => (item=cinder-scheduler)
2016-04-21 20:38:38,946 p=21337 u=root |  TASK: [cinder-controller | upload cinder conf] ******************************** 
2016-04-21 20:38:39,478 p=21337 u=root |  changed: [host1]
2016-04-21 20:38:39,488 p=21337 u=root |  changed: [host2]
2016-04-21 20:38:39,501 p=21337 u=root |  TASK: [cinder-controller | upload cinder conf] ******************************** 
2016-04-21 20:38:39,545 p=21337 u=root |  skipping: [host2]
2016-04-21 20:38:39,986 p=21337 u=root |  ok: [host1]
2016-04-21 20:38:40,000 p=21337 u=root |  TASK: [cinder-controller | sync cinder db] ************************************ 
2016-04-21 20:38:40,044 p=21337 u=root |  skipping: [host2]
2016-04-21 20:39:36,695 p=21337 u=root |  changed: [host1]
2016-04-21 20:39:36,717 p=21337 u=root |  NOTIFIED: [cinder-controller | restart cinder control serveice] *************** 
2016-04-21 20:39:37,263 p=21337 u=root |  changed: [host1] => (item=cinder-api)
2016-04-21 20:39:37,271 p=21337 u=root |  changed: [host2] => (item=cinder-api)
2016-04-21 20:39:37,655 p=21337 u=root |  changed: [host1] => (item=cinder-scheduler)
2016-04-21 20:39:37,656 p=21337 u=root |  changed: [host2] => (item=cinder-scheduler)
2016-04-21 20:39:37,677 p=21337 u=root |  TASK: [glance | include_vars {{ ansible_os_family }}.yml] ********************* 
2016-04-21 20:39:37,719 p=21337 u=root |  ok: [host1]
2016-04-21 20:39:37,723 p=21337 u=root |  ok: [host2]
2016-04-21 20:39:37,739 p=21337 u=root |  TASK: [glance | install glance packages] ************************************** 
2016-04-21 20:39:54,990 p=21337 u=root |  changed: [host2] => (item=glance)
2016-04-21 20:39:55,582 p=21337 u=root |  changed: [host1] => (item=glance)
2016-04-21 20:40:06,483 p=21337 u=root |  changed: [host1] => (item=nfs-common)
2016-04-21 20:40:06,863 p=21337 u=root |  ok: [host1] => (item=python-glanceclient)
2016-04-21 20:40:06,994 p=21337 u=root |  changed: [host2] => (item=nfs-common)
2016-04-21 20:40:07,378 p=21337 u=root |  ok: [host2] => (item=python-glanceclient)
2016-04-21 20:40:07,395 p=21337 u=root |  TASK: [glance | generate glance service list] ********************************* 
2016-04-21 20:40:07,725 p=21337 u=root |  changed: [host1] => (item=glance-registry)
2016-04-21 20:40:07,735 p=21337 u=root |  changed: [host2] => (item=glance-registry)
2016-04-21 20:40:07,999 p=21337 u=root |  changed: [host1] => (item=glance-api)
2016-04-21 20:40:08,011 p=21337 u=root |  changed: [host2] => (item=glance-api)
2016-04-21 20:40:08,023 p=21337 u=root |  TASK: [glance | update glance conf] ******************************************* 
2016-04-21 20:40:08,561 p=21337 u=root |  changed: [host1] => (item=glance-api.conf)
2016-04-21 20:40:08,570 p=21337 u=root |  changed: [host2] => (item=glance-api.conf)
2016-04-21 20:40:09,004 p=21337 u=root |  changed: [host1] => (item=glance-registry.conf)
2016-04-21 20:40:09,011 p=21337 u=root |  changed: [host2] => (item=glance-registry.conf)
2016-04-21 20:40:09,023 p=21337 u=root |  TASK: [glance | remove default sqlite db] ************************************* 
2016-04-21 20:40:09,324 p=21337 u=root |  changed: [host1]
2016-04-21 20:40:09,325 p=21337 u=root |  changed: [host2]
2016-04-21 20:40:09,337 p=21337 u=root |  TASK: [glance | install nfs] ************************************************** 
2016-04-21 20:40:10,092 p=21337 u=root |  ok: [host1 -> 127.0.0.1] => (item=rpcbind,nfs-utils)
2016-04-21 20:40:10,093 p=21337 u=root |  TASK: [glance | create image directory] *************************************** 
2016-04-21 20:40:10,241 p=21337 u=root |  changed: [host1 -> 127.0.0.1]
2016-04-21 20:40:10,242 p=21337 u=root |  TASK: [glance | remove nfs config item if exist] ****************************** 
2016-04-21 20:40:10,388 p=21337 u=root |  ok: [host1 -> 127.0.0.1]
2016-04-21 20:40:10,389 p=21337 u=root |  TASK: [glance | update nfs config] ******************************************** 
2016-04-21 20:40:10,536 p=21337 u=root |  changed: [host1 -> 127.0.0.1]
2016-04-21 20:40:10,537 p=21337 u=root |  TASK: [glance | restart compass nfs service] ********************************** 
2016-04-21 20:40:10,761 p=21337 u=root |  changed: [host1 -> 127.0.0.1] => (item=rpcbind)
2016-04-21 20:40:11,419 p=21337 u=root |  changed: [host1 -> 127.0.0.1] => (item=nfs-server)
2016-04-21 20:40:11,420 p=21337 u=root |  TASK: [glance | get mount info] *********************************************** 
2016-04-21 20:40:11,738 p=21337 u=root |  changed: [host1]
2016-04-21 20:40:11,740 p=21337 u=root |  changed: [host2]
2016-04-21 20:40:11,756 p=21337 u=root |  TASK: [glance | get nfs server] *********************************************** 
2016-04-21 20:40:12,062 p=21337 u=root |  changed: [host1]
2016-04-21 20:40:12,064 p=21337 u=root |  changed: [host2]
2016-04-21 20:40:12,079 p=21337 u=root |  TASK: [glance | restart host nfs service] ************************************* 
2016-04-21 20:40:12,117 p=21337 u=root |  skipping: [host1]
2016-04-21 20:40:12,123 p=21337 u=root |  skipping: [host2]
2016-04-21 20:40:12,150 p=21337 u=root |  TASK: [glance | mount image directory] **************************************** 
2016-04-21 20:40:12,492 p=21337 u=root |  changed: [host2]
2016-04-21 20:40:12,582 p=21337 u=root |  changed: [host1]
2016-04-21 20:40:12,595 p=21337 u=root |  TASK: [glance | sync glance db] *********************************************** 
2016-04-21 20:40:12,639 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:23,899 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:23,920 p=21337 u=root |  NOTIFIED: [glance | restart glance services] ********************************** 
2016-04-21 20:41:24,328 p=21337 u=root |  changed: [host1] => (item=glance-registry)
2016-04-21 20:41:24,811 p=21337 u=root |  changed: [host1] => (item=glance-api)
2016-04-21 20:41:24,817 p=21337 u=root |  TASK: [neutron-network | include_vars {{ ansible_os_family }}.yml] ************ 
2016-04-21 20:41:24,882 p=21337 u=root |  ok: [host1]
2016-04-21 20:41:24,887 p=21337 u=root |  ok: [host2]
2016-04-21 20:41:24,901 p=21337 u=root |  TASK: [neutron-network | activate ipv4 forwarding] **************************** 
2016-04-21 20:41:25,309 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:25,311 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:25,327 p=21337 u=root |  TASK: [neutron-network | deactivate ipv4 rp filter] *************************** 
2016-04-21 20:41:25,633 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:25,634 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:25,655 p=21337 u=root |  TASK: [neutron-network | deactivate ipv4 default rp filter] ******************* 
2016-04-21 20:41:25,968 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:25,976 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:25,989 p=21337 u=root |  TASK: [neutron-network | assert kernel support for vxlan] ********************* 
2016-04-21 20:41:26,324 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:26,413 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:26,425 p=21337 u=root |  TASK: [neutron-network | assert iproute2 suppport for vxlan] ****************** 
2016-04-21 20:41:26,744 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:26,746 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:26,761 p=21337 u=root |  TASK: [neutron-network | install neutron network related packages] ************ 
2016-04-21 20:41:27,077 p=21337 u=root |  ok: [host2] => (item=neutron-plugin-ml2)
2016-04-21 20:41:27,082 p=21337 u=root |  ok: [host1] => (item=neutron-plugin-ml2)
2016-04-21 20:41:27,470 p=21337 u=root |  ok: [host2] => (item=openvswitch-datapath-dkms)
2016-04-21 20:41:27,479 p=21337 u=root |  ok: [host1] => (item=openvswitch-datapath-dkms)
2016-04-21 20:41:27,755 p=21337 u=root |  ok: [host1] => (item=openvswitch-switch)
2016-04-21 20:41:27,851 p=21337 u=root |  ok: [host2] => (item=openvswitch-switch)
2016-04-21 20:41:38,346 p=21337 u=root |  changed: [host1] => (item=neutron-l3-agent)
2016-04-21 20:41:40,648 p=21337 u=root |  changed: [host2] => (item=neutron-l3-agent)
2016-04-21 20:41:45,640 p=21337 u=root |  changed: [host1] => (item=neutron-dhcp-agent)
2016-04-21 20:41:48,947 p=21337 u=root |  changed: [host2] => (item=neutron-dhcp-agent)
2016-04-21 20:41:51,229 p=21337 u=root |  changed: [host1] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:41:53,840 p=21337 u=root |  changed: [host2] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:41:53,860 p=21337 u=root |  TASK: [neutron-network | generate neutron network service list] *************** 
2016-04-21 20:41:54,198 p=21337 u=root |  changed: [host2] => (item=openvswitch-switch)
2016-04-21 20:41:54,202 p=21337 u=root |  changed: [host1] => (item=openvswitch-switch)
2016-04-21 20:41:54,474 p=21337 u=root |  changed: [host2] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:41:54,476 p=21337 u=root |  changed: [host1] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:41:54,749 p=21337 u=root |  changed: [host2] => (item=neutron-l3-agent)
2016-04-21 20:41:54,755 p=21337 u=root |  changed: [host1] => (item=neutron-l3-agent)
2016-04-21 20:41:55,022 p=21337 u=root |  changed: [host2] => (item=neutron-dhcp-agent)
2016-04-21 20:41:55,029 p=21337 u=root |  changed: [host1] => (item=neutron-dhcp-agent)
2016-04-21 20:41:55,298 p=21337 u=root |  changed: [host2] => (item=neutron-metadata-agent)
2016-04-21 20:41:55,304 p=21337 u=root |  changed: [host1] => (item=neutron-metadata-agent)
2016-04-21 20:41:55,323 p=21337 u=root |  TASK: [neutron-network | fix openstack neutron plugin config file] ************ 
2016-04-21 20:41:55,426 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:55,438 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:55,461 p=21337 u=root |  TASK: [neutron-network | config l3 agent] ************************************* 
2016-04-21 20:41:55,995 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:55,996 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:56,013 p=21337 u=root |  TASK: [neutron-network | config dhcp agent] *********************************** 
2016-04-21 20:41:56,540 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:56,543 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:56,561 p=21337 u=root |  TASK: [neutron-network | update dnsmasq-neutron.conf] ************************* 
2016-04-21 20:41:57,088 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:57,089 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:57,109 p=21337 u=root |  TASK: [neutron-network | config metadata agent] ******************************* 
2016-04-21 20:41:57,635 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:57,638 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:57,694 p=21337 u=root |  TASK: [neutron-network | config ml2 plugin] *********************************** 
2016-04-21 20:41:58,189 p=21337 u=root |  ok: [host1]
2016-04-21 20:41:58,201 p=21337 u=root |  ok: [host2]
2016-04-21 20:41:58,213 p=21337 u=root |  TASK: [neutron-network | ln plugin.ini] *************************************** 
2016-04-21 20:41:58,516 p=21337 u=root |  ok: [host1]
2016-04-21 20:41:58,527 p=21337 u=root |  ok: [host2]
2016-04-21 20:41:58,539 p=21337 u=root |  TASK: [neutron-network | config neutron] ************************************** 
2016-04-21 20:41:59,039 p=21337 u=root |  ok: [host1]
2016-04-21 20:41:59,041 p=21337 u=root |  ok: [host2]
2016-04-21 20:41:59,056 p=21337 u=root |  TASK: [neutron-network | force mtu to 1450 for vxlan] ************************* 
2016-04-21 20:41:59,373 p=21337 u=root |  changed: [host2]
2016-04-21 20:41:59,375 p=21337 u=root |  changed: [host1]
2016-04-21 20:41:59,390 p=21337 u=root |  TASK: [neutron-network | include_vars {{ ansible_os_family }}.yml] ************ 
2016-04-21 20:41:59,427 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:59,432 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:59,444 p=21337 u=root |  TASK: [neutron-network | install firewall packages] *************************** 
2016-04-21 20:41:59,483 p=21337 u=root |  skipping: [host1] => (item=firewall_packages)
2016-04-21 20:41:59,484 p=21337 u=root |  skipping: [host2] => (item=firewall_packages)
2016-04-21 20:41:59,499 p=21337 u=root |  TASK: [neutron-network | update firewall related conf] ************************ 
2016-04-21 20:41:59,535 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:59,538 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:59,553 p=21337 u=root |  TASK: [neutron-network | include_vars {{ ansible_os_family }}.yml] ************ 
2016-04-21 20:41:59,588 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:59,595 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:59,609 p=21337 u=root |  TASK: [neutron-network | install vpn packages] ******************************** 
2016-04-21 20:41:59,650 p=21337 u=root |  skipping: [host1] => (item=vpn_packages)
2016-04-21 20:41:59,657 p=21337 u=root |  skipping: [host2] => (item=vpn_packages)
2016-04-21 20:41:59,671 p=21337 u=root |  TASK: [neutron-network | update vpn related conf] ***************************** 
2016-04-21 20:41:59,707 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:59,713 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:59,726 p=21337 u=root |  TASK: [neutron-network | make sure rootwrap.d dir exist] ********************** 
2016-04-21 20:41:59,763 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:59,774 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:59,787 p=21337 u=root |  TASK: [neutron-network | update rootwrap] ************************************* 
2016-04-21 20:41:59,829 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:59,831 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:59,852 p=21337 u=root |  TASK: [neutron-network | enable vpn service] ********************************** 
2016-04-21 20:41:59,891 p=21337 u=root |  skipping: [host1] => (item=neutron-vpn-agent)
2016-04-21 20:41:59,895 p=21337 u=root |  skipping: [host1] => (item=strongswan)
2016-04-21 20:41:59,900 p=21337 u=root |  skipping: [host2] => (item=neutron-vpn-agent)
2016-04-21 20:41:59,903 p=21337 u=root |  skipping: [host2] => (item=strongswan)
2016-04-21 20:41:59,921 p=21337 u=root |  TASK: [neutron-network | ovs set manager] ************************************* 
2016-04-21 20:41:59,959 p=21337 u=root |  skipping: [host1]
2016-04-21 20:41:59,966 p=21337 u=root |  skipping: [host2]
2016-04-21 20:41:59,980 p=21337 u=root |  TASK: [neutron-network | get ovs uuid] **************************************** 
2016-04-21 20:42:00,018 p=21337 u=root |  skipping: [host1]
2016-04-21 20:42:00,019 p=21337 u=root |  skipping: [host2]
2016-04-21 20:42:00,038 p=21337 u=root |  TASK: [neutron-network | set bridge_mappings] ********************************* 
2016-04-21 20:42:00,078 p=21337 u=root |  skipping: [host1]
2016-04-21 20:42:00,079 p=21337 u=root |  skipping: [host2]
2016-04-21 20:42:00,094 p=21337 u=root |  TASK: [neutron-network | set local ip] **************************************** 
2016-04-21 20:42:00,130 p=21337 u=root |  skipping: [host1]
2016-04-21 20:42:00,139 p=21337 u=root |  skipping: [host2]
2016-04-21 20:42:00,152 p=21337 u=root |  TASK: [neutron-network | restart neutron network relation service] ************ 
2016-04-21 20:42:04,798 p=21337 u=root |  changed: [host1] => (item=neutron-l3-agent)
2016-04-21 20:42:05,101 p=21337 u=root |  changed: [host2] => (item=neutron-l3-agent)
2016-04-21 20:42:09,696 p=21337 u=root |  changed: [host1] => (item=neutron-dhcp-agent)
2016-04-21 20:42:10,198 p=21337 u=root |  changed: [host2] => (item=neutron-dhcp-agent)
2016-04-21 20:42:10,286 p=21337 u=root |  changed: [host1] => (item=neutron-metadata-agent)
2016-04-21 20:42:11,190 p=21337 u=root |  changed: [host2] => (item=neutron-metadata-agent)
2016-04-21 20:42:11,869 p=21337 u=root |  changed: [host1] => (item=openvswitch-switch)
2016-04-21 20:42:12,876 p=21337 u=root |  changed: [host2] => (item=openvswitch-switch)
2016-04-21 20:42:13,052 p=21337 u=root |  changed: [host1] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:42:14,258 p=21337 u=root |  changed: [host2] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:42:14,280 p=21337 u=root |  TASK: [ceilometer_controller | include_vars {{ ansible_os_family }}.yml] ****** 
2016-04-21 20:42:14,363 p=21337 u=root |  ok: [host1]
2016-04-21 20:42:14,364 p=21337 u=root |  ok: [host2]
2016-04-21 20:42:14,381 p=21337 u=root |  TASK: [ceilometer_controller | install ceilometer packages] ******************* 
2016-04-21 20:42:39,055 p=21337 u=root |  changed: [host1] => (item=ceilometer-api)
2016-04-21 20:42:40,874 p=21337 u=root |  changed: [host2] => (item=ceilometer-api)
2016-04-21 20:42:42,743 p=21337 u=root |  changed: [host1] => (item=ceilometer-collector)
2016-04-21 20:42:45,170 p=21337 u=root |  changed: [host2] => (item=ceilometer-collector)
2016-04-21 20:42:47,132 p=21337 u=root |  changed: [host1] => (item=ceilometer-agent-central)
2016-04-21 20:42:48,861 p=21337 u=root |  changed: [host2] => (item=ceilometer-agent-central)
2016-04-21 20:42:50,818 p=21337 u=root |  changed: [host1] => (item=ceilometer-agent-notification)
2016-04-21 20:42:52,146 p=21337 u=root |  changed: [host2] => (item=ceilometer-agent-notification)
2016-04-21 20:42:54,002 p=21337 u=root |  changed: [host1] => (item=ceilometer-alarm-evaluator)
2016-04-21 20:42:56,534 p=21337 u=root |  changed: [host2] => (item=ceilometer-alarm-evaluator)
2016-04-21 20:42:57,793 p=21337 u=root |  changed: [host1] => (item=ceilometer-alarm-notifier)
2016-04-21 20:42:58,173 p=21337 u=root |  ok: [host1] => (item=python-ceilometerclient)
2016-04-21 20:43:00,220 p=21337 u=root |  changed: [host2] => (item=ceilometer-alarm-notifier)
2016-04-21 20:43:00,600 p=21337 u=root |  ok: [host2] => (item=python-ceilometerclient)
2016-04-21 20:43:00,618 p=21337 u=root |  TASK: [ceilometer_controller | copy ceilometer configs] *********************** 
2016-04-21 20:43:01,271 p=21337 u=root |  changed: [host2] => (item={'dest': ['/etc/ceilometer/ceilometer.conf'], 'src': 'ceilometer.j2'})
2016-04-21 20:43:01,271 p=21337 u=root |  changed: [host1] => (item={'dest': ['/etc/ceilometer/ceilometer.conf'], 'src': 'ceilometer.j2'})
2016-04-21 20:43:01,798 p=21337 u=root |  changed: [host2] => (item={'dest': ['/etc/cinder/cinder.conf'], 'src': 'cinder.j2'})
2016-04-21 20:43:01,804 p=21337 u=root |  changed: [host1] => (item={'dest': ['/etc/cinder/cinder.conf'], 'src': 'cinder.j2'})
2016-04-21 20:43:02,324 p=21337 u=root |  changed: [host2] => (item={'dest': ['/etc/glance/glance-api.conf', '/etc/glance/glance-registry.conf'], 'src': 'glance.j2'})
2016-04-21 20:43:02,333 p=21337 u=root |  changed: [host1] => (item={'dest': ['/etc/glance/glance-api.conf', '/etc/glance/glance-registry.conf'], 'src': 'glance.j2'})
2016-04-21 20:43:02,347 p=21337 u=root |  TASK: [ceilometer_controller | update ceilometer configs] ********************* 
2016-04-21 20:43:02,770 p=21337 u=root |  changed: [host1] => (item=({'src': 'ceilometer.j2'}, '/etc/ceilometer/ceilometer.conf'))
2016-04-21 20:43:02,773 p=21337 u=root |  changed: [host2] => (item=({'src': 'ceilometer.j2'}, '/etc/ceilometer/ceilometer.conf'))
2016-04-21 20:43:03,245 p=21337 u=root |  changed: [host1] => (item=({'src': 'cinder.j2'}, '/etc/cinder/cinder.conf'))
2016-04-21 20:43:03,247 p=21337 u=root |  changed: [host2] => (item=({'src': 'cinder.j2'}, '/etc/cinder/cinder.conf'))
2016-04-21 20:43:03,618 p=21337 u=root |  changed: [host1] => (item=({'src': 'glance.j2'}, '/etc/glance/glance-api.conf'))
2016-04-21 20:43:03,624 p=21337 u=root |  changed: [host2] => (item=({'src': 'glance.j2'}, '/etc/glance/glance-api.conf'))
2016-04-21 20:43:04,094 p=21337 u=root |  changed: [host1] => (item=({'src': 'glance.j2'}, '/etc/glance/glance-registry.conf'))
2016-04-21 20:43:04,099 p=21337 u=root |  changed: [host2] => (item=({'src': 'glance.j2'}, '/etc/glance/glance-registry.conf'))
2016-04-21 20:43:04,114 p=21337 u=root |  TASK: [ceilometer_controller | change meter polling interval to 300s] ********* 
2016-04-21 20:43:04,429 p=21337 u=root |  changed: [host2]
2016-04-21 20:43:04,431 p=21337 u=root |  changed: [host1]
2016-04-21 20:43:04,446 p=21337 u=root |  TASK: [ceilometer_controller | write services to monitor list] **************** 
2016-04-21 20:43:04,760 p=21337 u=root |  changed: [host1] => (item=ceilometer-agent-central)
2016-04-21 20:43:04,772 p=21337 u=root |  changed: [host2] => (item=ceilometer-agent-central)
2016-04-21 20:43:05,034 p=21337 u=root |  changed: [host1] => (item=ceilometer-agent-notification)
2016-04-21 20:43:05,045 p=21337 u=root |  changed: [host2] => (item=ceilometer-agent-notification)
2016-04-21 20:43:05,309 p=21337 u=root |  changed: [host1] => (item=ceilometer-api)
2016-04-21 20:43:05,337 p=21337 u=root |  changed: [host2] => (item=ceilometer-api)
2016-04-21 20:43:05,584 p=21337 u=root |  changed: [host1] => (item=ceilometer-collector)
2016-04-21 20:43:05,610 p=21337 u=root |  changed: [host2] => (item=ceilometer-collector)
2016-04-21 20:43:05,859 p=21337 u=root |  changed: [host1] => (item=ceilometer-alarm-evaluator)
2016-04-21 20:43:05,883 p=21337 u=root |  changed: [host2] => (item=ceilometer-alarm-evaluator)
2016-04-21 20:43:06,140 p=21337 u=root |  changed: [host1] => (item=ceilometer-alarm-notifier)
2016-04-21 20:43:06,156 p=21337 u=root |  changed: [host2] => (item=ceilometer-alarm-notifier)
2016-04-21 20:43:06,169 p=21337 u=root |  NOTIFIED: [ceilometer_controller | restart ceilometer relation service] ******* 
2016-04-21 20:43:06,602 p=21337 u=root |  changed: [host1] => (item=ceilometer-agent-central)
2016-04-21 20:43:06,604 p=21337 u=root |  changed: [host2] => (item=ceilometer-agent-central)
2016-04-21 20:43:06,985 p=21337 u=root |  changed: [host2] => (item=ceilometer-agent-notification)
2016-04-21 20:43:06,987 p=21337 u=root |  changed: [host1] => (item=ceilometer-agent-notification)
2016-04-21 20:43:07,368 p=21337 u=root |  changed: [host2] => (item=ceilometer-api)
2016-04-21 20:43:07,379 p=21337 u=root |  changed: [host1] => (item=ceilometer-api)
2016-04-21 20:43:07,750 p=21337 u=root |  changed: [host2] => (item=ceilometer-collector)
2016-04-21 20:43:07,762 p=21337 u=root |  changed: [host1] => (item=ceilometer-collector)
2016-04-21 20:43:08,134 p=21337 u=root |  changed: [host2] => (item=ceilometer-alarm-evaluator)
2016-04-21 20:43:08,156 p=21337 u=root |  changed: [host1] => (item=ceilometer-alarm-evaluator)
2016-04-21 20:43:08,526 p=21337 u=root |  changed: [host2] => (item=ceilometer-alarm-notifier)
2016-04-21 20:43:08,539 p=21337 u=root |  changed: [host1] => (item=ceilometer-alarm-notifier)
2016-04-21 20:43:08,561 p=21337 u=root |  TASK: [dashboard | include_vars {{ ansible_os_family }}.yml] ****************** 
2016-04-21 20:43:08,646 p=21337 u=root |  ok: [host1]
2016-04-21 20:43:08,654 p=21337 u=root |  ok: [host2]
2016-04-21 20:43:08,686 p=21337 u=root |  TASK: [dashboard | install http packages] ************************************* 
2016-04-21 20:43:59,871 p=21337 u=root |  changed: [host1] => (item=apache2)
2016-04-21 20:44:03,107 p=21337 u=root |  changed: [host2] => (item=apache2)
2016-04-21 20:44:22,280 p=21337 u=root |  changed: [host1] => (item=libapache2-mod-wsgi)
2016-04-21 20:44:25,634 p=21337 u=root |  changed: [host2] => (item=libapache2-mod-wsgi)
2016-04-21 20:44:25,661 p=21337 u=root |  TASK: [dashboard | set http config] ******************************************* 
2016-04-21 20:44:26,004 p=21337 u=root |  changed: [host1]
2016-04-21 20:44:26,007 p=21337 u=root |  changed: [host2]
2016-04-21 20:44:26,022 p=21337 u=root |  TASK: [dashboard | restart http services] ************************************* 
2016-04-21 20:44:27,457 p=21337 u=root |  changed: [host1]
2016-04-21 20:44:27,459 p=21337 u=root |  changed: [host2]
2016-04-21 20:44:27,478 p=21337 u=root |  TASK: [dashboard | write services to monitor list] **************************** 
2016-04-21 20:44:27,794 p=21337 u=root |  changed: [host1]
2016-04-21 20:44:27,797 p=21337 u=root |  changed: [host2]
2016-04-21 20:44:27,811 p=21337 u=root |  TASK: [dashboard | install dashboard packages] ******************************** 
2016-04-21 20:45:04,769 p=21337 u=root |  changed: [host1] => (item=openstack-dashboard)
2016-04-21 20:45:05,195 p=21337 u=root |  changed: [host2] => (item=openstack-dashboard)
2016-04-21 20:45:05,211 p=21337 u=root |  TASK: [dashboard | remove ubuntu theme] *************************************** 
2016-04-21 20:45:21,157 p=21337 u=root |  changed: [host1]
2016-04-21 20:45:21,664 p=21337 u=root |  changed: [host2]
2016-04-21 20:45:21,682 p=21337 u=root |  TASK: [dashboard | update ubuntu horizon settings] **************************** 
2016-04-21 20:45:22,028 p=21337 u=root |  changed: [host2] => (item={'regexp': '^WEBROOT[ \\t]*=.*', 'line': 'WEBROOT = "/horizon"'})
2016-04-21 20:45:22,029 p=21337 u=root |  changed: [host1] => (item={'regexp': '^WEBROOT[ \\t]*=.*', 'line': 'WEBROOT = "/horizon"'})
2016-04-21 20:45:22,307 p=21337 u=root |  changed: [host2] => (item={'regexp': '^COMPRESS_OFFLINE[ \\t]*=.*', 'line': 'COMPRESS_OFFLINE=True'})
2016-04-21 20:45:22,308 p=21337 u=root |  changed: [host1] => (item={'regexp': '^COMPRESS_OFFLINE[ \\t]*=.*', 'line': 'COMPRESS_OFFLINE=True'})
2016-04-21 20:45:22,584 p=21337 u=root |  changed: [host2] => (item={'regexp': '^ALLOWED_HOSTS[ \\t]*=.*', 'line': 'ALLOWED_HOSTS = ["*"]'})
2016-04-21 20:45:22,584 p=21337 u=root |  changed: [host1] => (item={'regexp': '^ALLOWED_HOSTS[ \\t]*=.*', 'line': 'ALLOWED_HOSTS = ["*"]'})
2016-04-21 20:45:22,861 p=21337 u=root |  changed: [host2] => (item={'regexp': '^OPENSTACK_HOST[ \\t]*=.*', 'line': u'OPENSTACK_HOST = "192.168.201.12"'})
2016-04-21 20:45:22,868 p=21337 u=root |  changed: [host1] => (item={'regexp': '^OPENSTACK_HOST[ \\t]*=.*', 'line': u'OPENSTACK_HOST = "192.168.201.11"'})
2016-04-21 20:45:22,883 p=21337 u=root |  TASK: [dashboard | precompile horizon css] ************************************ 
2016-04-21 20:45:36,017 p=21337 u=root |  changed: [host1]
2016-04-21 20:45:36,322 p=21337 u=root |  changed: [host2]
2016-04-21 20:45:36,341 p=21337 u=root |  TASK: [dashboard | update redhat version horizon settings] ******************** 
2016-04-21 20:45:36,406 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^WEBROOT[ \\t]*=.*', 'line': 'WEBROOT = "/horizon"'})
2016-04-21 20:45:36,407 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^WEBROOT[ \\t]*=.*', 'line': 'WEBROOT = "/horizon"'})
2016-04-21 20:45:36,411 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^COMPRESS_OFFLINE[ \\t]*=.*', 'line': 'COMPRESS_OFFLINE=False'})
2016-04-21 20:45:36,412 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^COMPRESS_OFFLINE[ \\t]*=.*', 'line': 'COMPRESS_OFFLINE=False'})
2016-04-21 20:45:36,415 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^ALLOWED_HOSTS[ \\t]*=.*', 'line': 'ALLOWED_HOSTS = ["*"]'})
2016-04-21 20:45:36,415 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^ALLOWED_HOSTS[ \\t]*=.*', 'line': 'ALLOWED_HOSTS = ["*"]'})
2016-04-21 20:45:36,419 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^OPENSTACK_HOST[ \\t]*=.*', 'line': u'OPENSTACK_HOST = "192.168.201.12"'})
2016-04-21 20:45:36,419 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^OPENSTACK_HOST[ \\t]*=.*', 'line': u'OPENSTACK_HOST = "192.168.201.11"'})
2016-04-21 20:45:36,435 p=21337 u=root |  TASK: [dashboard | restart dashboard services] ******************************** 
2016-04-21 20:45:36,861 p=21337 u=root |  changed: [host1] => (item=memcached)
2016-04-21 20:45:36,864 p=21337 u=root |  changed: [host2] => (item=memcached)
2016-04-21 20:45:36,881 p=21337 u=root |  TASK: [heat | include_vars {{ ansible_os_family }}.yml] *********************** 
2016-04-21 20:45:36,924 p=21337 u=root |  ok: [host1]
2016-04-21 20:45:36,924 p=21337 u=root |  ok: [host2]
2016-04-21 20:45:36,941 p=21337 u=root |  TASK: [heat | install heat related packages] ********************************** 
2016-04-21 20:45:51,378 p=21337 u=root |  changed: [host1] => (item=heat-api)
2016-04-21 20:45:51,882 p=21337 u=root |  changed: [host2] => (item=heat-api)
2016-04-21 20:45:55,066 p=21337 u=root |  changed: [host1] => (item=heat-api-cfn)
2016-04-21 20:45:55,469 p=21337 u=root |  changed: [host2] => (item=heat-api-cfn)
2016-04-21 20:45:58,551 p=21337 u=root |  changed: [host1] => (item=heat-engine)
2016-04-21 20:45:58,932 p=21337 u=root |  ok: [host1] => (item=python-heatclient)
2016-04-21 20:45:59,151 p=21337 u=root |  changed: [host2] => (item=heat-engine)
2016-04-21 20:45:59,530 p=21337 u=root |  ok: [host2] => (item=python-heatclient)
2016-04-21 20:45:59,549 p=21337 u=root |  TASK: [heat | generate heat service list] ************************************* 
2016-04-21 20:45:59,901 p=21337 u=root |  changed: [host1] => (item=heat-api)
2016-04-21 20:45:59,903 p=21337 u=root |  changed: [host2] => (item=heat-api)
2016-04-21 20:46:00,179 p=21337 u=root |  changed: [host1] => (item=heat-api-cfn)
2016-04-21 20:46:00,179 p=21337 u=root |  changed: [host2] => (item=heat-api-cfn)
2016-04-21 20:46:00,451 p=21337 u=root |  changed: [host2] => (item=heat-engine)
2016-04-21 20:46:00,453 p=21337 u=root |  changed: [host1] => (item=heat-engine)
2016-04-21 20:46:00,471 p=21337 u=root |  TASK: [heat | update heat conf] *********************************************** 
2016-04-21 20:46:00,999 p=21337 u=root |  changed: [host1]
2016-04-21 20:46:01,000 p=21337 u=root |  changed: [host2]
2016-04-21 20:46:01,017 p=21337 u=root |  TASK: [heat | heat db sync] *************************************************** 
2016-04-21 20:46:02,832 p=21337 u=root |  failed: [host1] => {"changed": true, "cmd": "su -s /bin/sh -c \"heat-manage db_sync\" heat", "delta": "0:00:01.506634", "end": "2016-04-21 20:46:27.938418", "rc": 1, "start": "2016-04-21 20:46:26.431784", "warnings": []}
2016-04-21 20:46:02,833 p=21337 u=root |  stderr: 2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters [-] DB exception wrapped.
2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters Traceback (most recent call last):
2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 316, in connection
2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters     return self._revalidate_connection()
2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 396, in _revalidate_connection
2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters     raise exc.ResourceClosedError("This Connection is closed")
2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters ResourceClosedError: This Connection is closed
2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters 
ERROR: This Connection is closed
2016-04-21 20:46:02,833 p=21337 u=root |  ...ignoring
2016-04-21 20:46:02,833 root task_error: host=host1,data={'cmd': 'su -s /bin/sh -c "heat-manage db_sync" heat', 'end': '2016-04-21 20:46:27.938418', 'stdout': u'', 'changed': True, 'start': '2016-04-21 20:46:26.431784', 'delta': '0:00:01.506634', 'stderr': '2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters [-] DB exception wrapped.\n2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters Traceback (most recent call last):\n2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 316, in connection\n2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters     return self._revalidate_connection()\n2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 396, in _revalidate_connection\n2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters     raise exc.ResourceClosedError("This Connection is closed")\n2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters ResourceClosedError: This Connection is closed\n2016-04-21 20:46:27.883 44114 ERROR oslo_db.sqlalchemy.exc_filters \nERROR: This Connection is closed', 'rc': 1, 'invocation': {'module_name': u'shell', 'module_args': u'su -s /bin/sh -c "heat-manage db_sync" heat'}, 'warnings': []}
2016-04-21 20:46:02,833 root notify_host: host host1 with status failed is not supported
2016-04-21 20:47:03,237 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:03,261 p=21337 u=root |  NOTIFIED: [heat | restart heat service] *************************************** 
2016-04-21 20:47:03,740 p=21337 u=root |  changed: [host2] => (item=heat-api)
2016-04-21 20:47:03,741 p=21337 u=root |  changed: [host1] => (item=heat-api)
2016-04-21 20:47:04,128 p=21337 u=root |  changed: [host1] => (item=heat-api-cfn)
2016-04-21 20:47:04,131 p=21337 u=root |  changed: [host2] => (item=heat-api-cfn)
2016-04-21 20:47:04,613 p=21337 u=root |  changed: [host1] => (item=heat-engine)
2016-04-21 20:47:04,615 p=21337 u=root |  changed: [host2] => (item=heat-engine)
2016-04-21 20:47:04,631 p=21337 u=root |  NOTIFIED: [heat | remove heat-sqlite-db] ************************************** 
2016-04-21 20:47:04,953 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:04,955 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:04,969 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:47:04,970 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:47:05,713 p=21337 u=root |  ok: [host3]
2016-04-21 20:47:05,813 p=21337 u=root |  ok: [host1]
2016-04-21 20:47:05,824 p=21337 u=root |  ok: [host2]
2016-04-21 20:47:05,840 p=21337 u=root |  TASK: [storage | check if physical device exists] ***************************** 
2016-04-21 20:47:06,150 p=21337 u=root |  ok: [host3]
2016-04-21 20:47:06,155 p=21337 u=root |  ok: [host1]
2016-04-21 20:47:06,161 p=21337 u=root |  ok: [host2]
2016-04-21 20:47:06,173 p=21337 u=root |  TASK: [storage | get available /var partition size] *************************** 
2016-04-21 20:47:06,686 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:06,690 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:06,696 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:06,872 p=21337 u=root |  TASK: [storage | create image file if not exitst] ***************************** 
2016-04-21 20:47:07,403 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:07,408 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:07,410 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:07,427 p=21337 u=root |  TASK: [storage | do a losetup on storage volumes] ***************************** 
2016-04-21 20:47:07,940 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:07,941 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:08,044 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:08,056 p=21337 u=root |  TASK: [storage | debug loop device] ******************************************* 
2016-04-21 20:47:08,104 p=21337 u=root |  ok: [host3] => {
    "msg": "/dev/loop0"
}
2016-04-21 20:47:08,108 p=21337 u=root |  ok: [host1] => {
    "msg": "/dev/loop0"
}
2016-04-21 20:47:08,110 p=21337 u=root |  ok: [host2] => {
    "msg": "/dev/loop0"
}
2016-04-21 20:47:08,125 p=21337 u=root |  TASK: [storage | get device] ************************************************** 
2016-04-21 20:47:08,444 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:08,445 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:08,447 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:08,468 p=21337 u=root |  TASK: [storage | create physical and group volumes] *************************** 
2016-04-21 20:47:09,091 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:12,007 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:12,914 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:12,931 p=21337 u=root |  TASK: [storage | destroy GPT lable] ******************************************* 
2016-04-21 20:47:12,984 p=21337 u=root |  skipping: [host3]
2016-04-21 20:47:12,988 p=21337 u=root |  skipping: [host1]
2016-04-21 20:47:12,994 p=21337 u=root |  skipping: [host2]
2016-04-21 20:47:13,010 p=21337 u=root |  TASK: [storage | create physical and group volumes] *************************** 
2016-04-21 20:47:13,050 p=21337 u=root |  skipping: [host3]
2016-04-21 20:47:13,052 p=21337 u=root |  skipping: [host1]
2016-04-21 20:47:13,058 p=21337 u=root |  skipping: [host2]
2016-04-21 20:47:13,073 p=21337 u=root |  TASK: [storage | make setup_storage directory] ******************************** 
2016-04-21 20:47:13,383 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:13,386 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:13,388 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:13,402 p=21337 u=root |  TASK: [storage | copy setup storage scripts] ********************************** 
2016-04-21 20:47:14,030 p=21337 u=root |  changed: [host2] => (item=losetup.sh)
2016-04-21 20:47:14,065 p=21337 u=root |  changed: [host3] => (item=losetup.sh)
2016-04-21 20:47:14,070 p=21337 u=root |  changed: [host1] => (item=losetup.sh)
2016-04-21 20:47:14,082 p=21337 u=root |  TASK: [storage | set autostart file] ****************************************** 
2016-04-21 20:47:14,620 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:14,646 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:14,650 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:14,671 p=21337 u=root |  TASK: [storage | enable service] ********************************************** 
2016-04-21 20:47:15,021 p=21337 u=root |  changed: [host2]
2016-04-21 20:47:15,029 p=21337 u=root |  changed: [host1]
2016-04-21 20:47:15,032 p=21337 u=root |  changed: [host3]
2016-04-21 20:47:15,048 p=21337 u=root |  PLAY [compute] **************************************************************** 
2016-04-21 20:47:15,050 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:47:15,761 p=21337 u=root |  ok: [host3]
2016-04-21 20:47:15,764 p=21337 u=root |  TASK: [nova-compute | include_vars {{ ansible_os_family }}.yml] *************** 
2016-04-21 20:47:15,781 p=21337 u=root |  ok: [host3]
2016-04-21 20:47:15,782 p=21337 u=root |  TASK: [nova-compute | install nova-compute related packages] ****************** 
2016-04-21 20:48:34,362 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:50:30,951 p=21337 u=root |  changed: [host3] => (item=nova-compute-kvm)
2016-04-21 20:50:30,953 p=21337 u=root |  TASK: [nova-compute | update nova-compute conf] ******************************* 
2016-04-21 20:50:31,488 p=21337 u=root |  changed: [host3] => (item=nova.conf)
2016-04-21 20:50:31,489 p=21337 u=root |  TASK: [nova-compute | update nova-compute conf] ******************************* 
2016-04-21 20:50:31,987 p=21337 u=root |  changed: [host3] => (item=nova-compute.conf)
2016-04-21 20:50:31,987 p=21337 u=root |  TASK: [nova-compute | generate neutron control service list] ****************** 
2016-04-21 20:50:32,279 p=21337 u=root |  changed: [host3] => (item=nova-compute)
2016-04-21 20:50:32,279 p=21337 u=root |  TASK: [nova-compute | remove nova sqlite db] ********************************** 
2016-04-21 20:50:32,562 p=21337 u=root |  changed: [host3]
2016-04-21 20:50:32,563 p=21337 u=root |  NOTIFIED: [nova-compute | restart nova-compute services] ********************** 
2016-04-21 20:50:32,968 p=21337 u=root |  changed: [host3] => (item=nova-compute)
2016-04-21 20:50:32,973 p=21337 u=root |  TASK: [neutron-compute | include_vars {{ ansible_os_family }}.yml] ************ 
2016-04-21 20:50:32,995 p=21337 u=root |  ok: [host3]
2016-04-21 20:50:32,995 p=21337 u=root |  TASK: [neutron-compute | activate ipv4 forwarding] **************************** 
2016-04-21 20:50:33,277 p=21337 u=root |  changed: [host3]
2016-04-21 20:50:33,278 p=21337 u=root |  TASK: [neutron-compute | deactivate ipv4 rp filter] *************************** 
2016-04-21 20:50:33,559 p=21337 u=root |  changed: [host3]
2016-04-21 20:50:33,560 p=21337 u=root |  TASK: [neutron-compute | deactivate ipv4 default rp filter] ******************* 
2016-04-21 20:50:33,839 p=21337 u=root |  changed: [host3]
2016-04-21 20:50:33,839 p=21337 u=root |  TASK: [neutron-compute | install compute-related neutron packages] ************ 
2016-04-21 20:50:47,456 p=21337 u=root |  changed: [host3] => (item=neutron-common)
2016-04-21 20:50:49,544 p=21337 u=root |  changed: [host3] => (item=neutron-plugin-ml2)
2016-04-21 20:50:49,935 p=21337 u=root |  ok: [host3] => (item=openvswitch-datapath-dkms)
2016-04-21 20:50:50,213 p=21337 u=root |  ok: [host3] => (item=openvswitch-switch)
2016-04-21 20:50:53,795 p=21337 u=root |  changed: [host3] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:50:53,797 p=21337 u=root |  TASK: [neutron-compute | fix openstack neutron plugin config file] ************ 
2016-04-21 20:50:53,820 p=21337 u=root |  skipping: [host3]
2016-04-21 20:50:53,820 p=21337 u=root |  TASK: [neutron-compute | generate neutron compute service list] *************** 
2016-04-21 20:50:54,109 p=21337 u=root |  changed: [host3] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:50:54,109 p=21337 u=root |  TASK: [neutron-compute | config ml2 plugin] *********************************** 
2016-04-21 20:50:54,614 p=21337 u=root |  changed: [host3]
2016-04-21 20:50:54,615 p=21337 u=root |  TASK: [neutron-compute | ln plugin.ini] *************************************** 
2016-04-21 20:50:54,900 p=21337 u=root |  changed: [host3]
2016-04-21 20:50:54,900 p=21337 u=root |  TASK: [neutron-compute | config neutron] ************************************** 
2016-04-21 20:50:55,412 p=21337 u=root |  changed: [host3]
2016-04-21 20:50:55,413 p=21337 u=root |  NOTIFIED: [nova-compute | restart nova-compute services] ********************** 
2016-04-21 20:50:55,811 p=21337 u=root |  changed: [host3] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:50:55,812 p=21337 u=root |  NOTIFIED: [neutron-compute | restart neutron compute service] ***************** 
2016-04-21 20:50:56,118 p=21337 u=root |  changed: [host3] => (item=neutron-plugin-openvswitch-agent)
2016-04-21 20:50:56,119 p=21337 u=root |  TASK: [neutron-compute | ovs set manager] ************************************* 
2016-04-21 20:50:56,135 p=21337 u=root |  skipping: [host3]
2016-04-21 20:50:56,136 p=21337 u=root |  TASK: [neutron-compute | get ovs uuid] **************************************** 
2016-04-21 20:50:56,149 p=21337 u=root |  skipping: [host3]
2016-04-21 20:50:56,150 p=21337 u=root |  TASK: [neutron-compute | set bridge_mappings] ********************************* 
2016-04-21 20:50:56,162 p=21337 u=root |  skipping: [host3]
2016-04-21 20:50:56,163 p=21337 u=root |  TASK: [neutron-compute | set local ip] **************************************** 
2016-04-21 20:50:56,176 p=21337 u=root |  skipping: [host3]
2016-04-21 20:50:56,178 p=21337 u=root |  TASK: [cinder-volume | include_vars {{ ansible_os_family }}.yml] ************** 
2016-04-21 20:50:56,197 p=21337 u=root |  ok: [host3]
2016-04-21 20:50:56,198 p=21337 u=root |  TASK: [cinder-volume | install cinder-volume and lvm2 packages] *************** 
2016-04-21 20:51:37,045 p=21337 u=root |  changed: [host3] => (item=cinder-volume)
2016-04-21 20:51:37,425 p=21337 u=root |  ok: [host3] => (item=lvm2)
2016-04-21 20:51:37,426 p=21337 u=root |  TASK: [cinder-volume | generate cinder volume service list] ******************* 
2016-04-21 20:51:37,718 p=21337 u=root |  changed: [host3] => (item=cinder-volume)
2016-04-21 20:51:37,718 p=21337 u=root |  TASK: [cinder-volume | upload cinder-volume configuration] ******************** 
2016-04-21 20:51:38,216 p=21337 u=root |  changed: [host3]
2016-04-21 20:51:38,216 p=21337 u=root |  NOTIFIED: [cinder-volume | restart cinder-volume services] ******************** 
2016-04-21 20:51:38,613 p=21337 u=root |  changed: [host3] => (item=cinder-volume)
2016-04-21 20:51:38,616 p=21337 u=root |  TASK: [ceilometer_compute | include_vars {{ ansible_os_family }}.yml] ********* 
2016-04-21 20:51:38,638 p=21337 u=root |  ok: [host3]
2016-04-21 20:51:38,639 p=21337 u=root |  TASK: [ceilometer_compute | install ceilometer packages] ********************** 
2016-04-21 20:52:00,064 p=21337 u=root |  changed: [host3] => (item=ceilometer-agent-compute)
2016-04-21 20:52:00,066 p=21337 u=root |  TASK: [ceilometer_compute | copy ceilometer configs] ************************** 
2016-04-21 20:52:00,679 p=21337 u=root |  changed: [host3] => (item={'dest': ['/etc/ceilometer/ceilometer.conf'], 'src': 'ceilometer.j2'})
2016-04-21 20:52:01,205 p=21337 u=root |  changed: [host3] => (item={'dest': ['/etc/nova/nova.conf'], 'src': 'nova.j2'})
2016-04-21 20:52:01,205 p=21337 u=root |  TASK: [ceilometer_compute | update ceilometer configs] ************************ 
2016-04-21 20:52:01,591 p=21337 u=root |  changed: [host3] => (item=({'src': 'ceilometer.j2'}, '/etc/ceilometer/ceilometer.conf'))
2016-04-21 20:52:01,961 p=21337 u=root |  changed: [host3] => (item=({'src': 'nova.j2'}, '/etc/nova/nova.conf'))
2016-04-21 20:52:01,961 p=21337 u=root |  TASK: [ceilometer_compute | write services to monitor list] ******************* 
2016-04-21 20:52:02,249 p=21337 u=root |  changed: [host3] => (item=ceilometer-agent-compute)
2016-04-21 20:52:02,521 p=21337 u=root |  ok: [host3] => (item=nova-compute)
2016-04-21 20:52:02,521 p=21337 u=root |  NOTIFIED: [ceilometer_compute | restart ceilometer relation service] ********** 
2016-04-21 20:52:02,918 p=21337 u=root |  changed: [host3] => (item=ceilometer-agent-compute)
2016-04-21 20:52:08,906 p=21337 u=root |  changed: [host3] => (item=nova-compute)
2016-04-21 20:52:08,908 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:52:08,909 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:09,812 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:09,817 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:09,822 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:09,844 p=21337 u=root |  TASK: [secgroup | include_vars {{ ansible_os_family }}.yml] ******************* 
2016-04-21 20:52:09,912 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:09,915 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:09,915 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:09,934 p=21337 u=root |  TASK: [secgroup | debug msg={{ enable_secgroup }}] **************************** 
2016-04-21 20:52:09,977 p=21337 u=root |  ok: [host3] => {
    "msg": "True"
}
2016-04-21 20:52:09,982 p=21337 u=root |  ok: [host1] => {
    "msg": "True"
}
2016-04-21 20:52:09,985 p=21337 u=root |  ok: [host2] => {
    "msg": "True"
}
2016-04-21 20:52:10,004 p=21337 u=root |  TASK: [secgroup | make sure template dir exits] ******************************* 
2016-04-21 20:52:10,045 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:10,049 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:10,051 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:10,070 p=21337 u=root |  TASK: [secgroup | copy configs] *********************************************** 
2016-04-21 20:52:10,120 p=21337 u=root |  skipping: [host3] => (item={'dest': ['/etc/nova/nova.conf'], 'src': 'nova.j2'})
2016-04-21 20:52:10,121 p=21337 u=root |  skipping: [host1] => (item={'dest': ['/etc/nova/nova.conf'], 'src': 'nova.j2'})
2016-04-21 20:52:10,123 p=21337 u=root |  skipping: [host2] => (item={'dest': ['/etc/nova/nova.conf'], 'src': 'nova.j2'})
2016-04-21 20:52:10,125 p=21337 u=root |  skipping: [host3] => (item={'dest': ['/etc/neutron/plugins/ml2/ml2_conf.ini', '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini', '/etc/neutron/plugins/ml2/restproxy.ini'], 'src': 'neutron.j2'})
2016-04-21 20:52:10,125 p=21337 u=root |  skipping: [host1] => (item={'dest': ['/etc/neutron/plugins/ml2/ml2_conf.ini', '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini', '/etc/neutron/plugins/ml2/restproxy.ini'], 'src': 'neutron.j2'})
2016-04-21 20:52:10,127 p=21337 u=root |  skipping: [host2] => (item={'dest': ['/etc/neutron/plugins/ml2/ml2_conf.ini', '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini', '/etc/neutron/plugins/ml2/restproxy.ini'], 'src': 'neutron.j2'})
2016-04-21 20:52:10,144 p=21337 u=root |  TASK: [secgroup | update controller configs] ********************************** 
2016-04-21 20:52:10,190 p=21337 u=root |  skipping: [host3] => (item=({'src': 'nova.j2'}, '/etc/nova/nova.conf'))
2016-04-21 20:52:10,195 p=21337 u=root |  skipping: [host3] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/ml2_conf.ini'))
2016-04-21 20:52:10,198 p=21337 u=root |  skipping: [host2] => (item=({'src': 'nova.j2'}, '/etc/nova/nova.conf'))
2016-04-21 20:52:10,199 p=21337 u=root |  skipping: [host3] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini'))
2016-04-21 20:52:10,199 p=21337 u=root |  skipping: [host1] => (item=({'src': 'nova.j2'}, '/etc/nova/nova.conf'))
2016-04-21 20:52:10,202 p=21337 u=root |  skipping: [host3] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/restproxy.ini'))
2016-04-21 20:52:10,203 p=21337 u=root |  skipping: [host2] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/ml2_conf.ini'))
2016-04-21 20:52:10,203 p=21337 u=root |  skipping: [host1] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/ml2_conf.ini'))
2016-04-21 20:52:10,206 p=21337 u=root |  skipping: [host2] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini'))
2016-04-21 20:52:10,207 p=21337 u=root |  skipping: [host1] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini'))
2016-04-21 20:52:10,210 p=21337 u=root |  skipping: [host2] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/restproxy.ini'))
2016-04-21 20:52:10,210 p=21337 u=root |  skipping: [host1] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/restproxy.ini'))
2016-04-21 20:52:10,225 p=21337 u=root |  TASK: [secgroup | update compute configs] ************************************* 
2016-04-21 20:52:10,267 p=21337 u=root |  skipping: [host3] => (item=({'src': 'nova.j2'}, '/etc/nova/nova.conf'))
2016-04-21 20:52:10,271 p=21337 u=root |  skipping: [host3] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/ml2_conf.ini'))
2016-04-21 20:52:10,275 p=21337 u=root |  skipping: [host3] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini'))
2016-04-21 20:52:10,276 p=21337 u=root |  skipping: [host1] => (item=({'src': 'nova.j2'}, '/etc/nova/nova.conf'))
2016-04-21 20:52:10,278 p=21337 u=root |  skipping: [host3] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/restproxy.ini'))
2016-04-21 20:52:10,280 p=21337 u=root |  skipping: [host1] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/ml2_conf.ini'))
2016-04-21 20:52:10,281 p=21337 u=root |  skipping: [host2] => (item=({'src': 'nova.j2'}, '/etc/nova/nova.conf'))
2016-04-21 20:52:10,284 p=21337 u=root |  skipping: [host1] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini'))
2016-04-21 20:52:10,285 p=21337 u=root |  skipping: [host2] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/ml2_conf.ini'))
2016-04-21 20:52:10,287 p=21337 u=root |  skipping: [host1] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/restproxy.ini'))
2016-04-21 20:52:10,289 p=21337 u=root |  skipping: [host2] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini'))
2016-04-21 20:52:10,292 p=21337 u=root |  skipping: [host2] => (item=({'src': 'neutron.j2'}, '/etc/neutron/plugins/ml2/restproxy.ini'))
2016-04-21 20:52:10,305 p=21337 u=root |  PLAY [ceph_adm] *************************************************************** 
2016-04-21 20:52:10,306 p=21337 u=root |  skipping: no hosts matched
2016-04-21 20:52:10,307 p=21337 u=root |  PLAY [ceph] ******************************************************************* 
2016-04-21 20:52:10,307 p=21337 u=root |  skipping: no hosts matched
2016-04-21 20:52:10,307 p=21337 u=root |  PLAY [ceph_mon] *************************************************************** 
2016-04-21 20:52:10,308 p=21337 u=root |  skipping: no hosts matched
2016-04-21 20:52:10,309 p=21337 u=root |  PLAY [ceph_osd] *************************************************************** 
2016-04-21 20:52:10,309 p=21337 u=root |  skipping: no hosts matched
2016-04-21 20:52:10,310 p=21337 u=root |  PLAY [ceph] ******************************************************************* 
2016-04-21 20:52:10,310 p=21337 u=root |  skipping: no hosts matched
2016-04-21 20:52:10,310 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:52:10,310 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:11,162 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:11,169 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:11,172 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:11,199 p=21337 u=root |  TASK: [monitor | include_vars {{ ansible_os_family }}.yml] ******************** 
2016-04-21 20:52:11,251 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:11,255 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:11,256 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:11,276 p=21337 u=root |  TASK: [monitor | copy service check file] ************************************* 
2016-04-21 20:52:11,800 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:11,839 p=21337 u=root |  changed: [host2]
2016-04-21 20:52:11,840 p=21337 u=root |  changed: [host3]
2016-04-21 20:52:11,863 p=21337 u=root |  TASK: [monitor | copy cron file] ********************************************** 
2016-04-21 20:52:12,401 p=21337 u=root |  changed: [host2]
2016-04-21 20:52:12,423 p=21337 u=root |  changed: [host3]
2016-04-21 20:52:12,436 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:12,449 p=21337 u=root |  TASK: [monitor | restart cron] ************************************************ 
2016-04-21 20:52:12,786 p=21337 u=root |  changed: [host3]
2016-04-21 20:52:12,801 p=21337 u=root |  changed: [host2]
2016-04-21 20:52:12,884 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:12,901 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:52:12,902 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:13,774 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:13,778 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:13,780 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:13,808 p=21337 u=root |  TASK: [set bash to nova] ****************************************************** 
2016-04-21 20:52:14,243 p=21337 u=root |  changed: [host3]
2016-04-21 20:52:14,251 p=21337 u=root |  changed: [host2]
2016-04-21 20:52:14,440 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:14,454 p=21337 u=root |  TASK: [make sure ssh dir exist] *********************************************** 
2016-04-21 20:52:14,787 p=21337 u=root |  changed: [host3] => (item={'owner': 'nova', 'path': '/var/lib/nova/.ssh', 'group': 'nova'})
2016-04-21 20:52:14,789 p=21337 u=root |  changed: [host1] => (item={'owner': 'nova', 'path': '/var/lib/nova/.ssh', 'group': 'nova'})
2016-04-21 20:52:14,796 p=21337 u=root |  changed: [host2] => (item={'owner': 'nova', 'path': '/var/lib/nova/.ssh', 'group': 'nova'})
2016-04-21 20:52:14,809 p=21337 u=root |  TASK: [copy ssh keys for nova] ************************************************ 
2016-04-21 20:52:15,125 p=21337 u=root |  changed: [host3]
2016-04-21 20:52:15,136 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:15,146 p=21337 u=root |  changed: [host2]
2016-04-21 20:52:15,183 p=21337 u=root |  TASK: [write ssh config] ****************************************************** 
2016-04-21 20:52:15,772 p=21337 u=root |  changed: [host1] => (item={'dest': '/var/lib/nova/.ssh/config', 'owner': 'nova', 'group': 'nova'})
2016-04-21 20:52:15,785 p=21337 u=root |  changed: [host3] => (item={'dest': '/var/lib/nova/.ssh/config', 'owner': 'nova', 'group': 'nova'})
2016-04-21 20:52:15,845 p=21337 u=root |  changed: [host2] => (item={'dest': '/var/lib/nova/.ssh/config', 'owner': 'nova', 'group': 'nova'})
2016-04-21 20:52:15,861 p=21337 u=root |  TASK: [authorized_key ] ******************************************************* 
2016-04-21 20:52:16,213 p=21337 u=root |  changed: [host3] => (item=/tmp/ssh-keys-host1)
2016-04-21 20:52:16,217 p=21337 u=root |  changed: [host1] => (item=/tmp/ssh-keys-host1)
2016-04-21 20:52:16,218 p=21337 u=root |  changed: [host2] => (item=/tmp/ssh-keys-host1)
2016-04-21 20:52:16,496 p=21337 u=root |  changed: [host3] => (item=/tmp/ssh-keys-host2)
2016-04-21 20:52:16,507 p=21337 u=root |  changed: [host1] => (item=/tmp/ssh-keys-host2)
2016-04-21 20:52:16,509 p=21337 u=root |  changed: [host2] => (item=/tmp/ssh-keys-host2)
2016-04-21 20:52:16,787 p=21337 u=root |  changed: [host3] => (item=/tmp/ssh-keys-host3)
2016-04-21 20:52:16,790 p=21337 u=root |  changed: [host1] => (item=/tmp/ssh-keys-host3)
2016-04-21 20:52:16,798 p=21337 u=root |  changed: [host2] => (item=/tmp/ssh-keys-host3)
2016-04-21 20:52:16,814 p=21337 u=root |  TASK: [chown ssh file] ******************************************************** 
2016-04-21 20:52:17,128 p=21337 u=root |  changed: [host3]
2016-04-21 20:52:17,132 p=21337 u=root |  changed: [host2]
2016-04-21 20:52:17,134 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:17,150 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:52:17,150 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:18,973 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:18,978 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:18,990 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:19,015 p=21337 u=root |  TASK: [odl_cluster | include_vars {{ ansible_os_family }}.yml] **************** 
2016-04-21 20:52:19,072 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:19,076 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:19,079 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:19,095 p=21337 u=root |  TASK: [odl_cluster | install controller  packages] **************************** 
2016-04-21 20:52:19,145 p=21337 u=root |  skipping: [host3] => (item=crudini)
2016-04-21 20:52:19,149 p=21337 u=root |  skipping: [host1] => (item=crudini)
2016-04-21 20:52:19,153 p=21337 u=root |  skipping: [host2] => (item=crudini)
2016-04-21 20:52:19,166 p=21337 u=root |  TASK: [odl_cluster | get image http server] *********************************** 
2016-04-21 20:52:19,214 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,219 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,220 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,237 p=21337 u=root |  TASK: [odl_cluster | download oracle-jdk8 package file] *********************** 
2016-04-21 20:52:19,288 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,296 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,297 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,314 p=21337 u=root |  TASK: [odl_cluster | upload install_jdk8 scripts] ***************************** 
2016-04-21 20:52:19,368 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,370 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,371 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,394 p=21337 u=root |  TASK: [odl_cluster | install install_jdk8 package] **************************** 
2016-04-21 20:52:19,449 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,451 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,461 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,481 p=21337 u=root |  TASK: [odl_cluster | create odl group] **************************************** 
2016-04-21 20:52:19,527 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,535 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,540 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,553 p=21337 u=root |  TASK: [odl_cluster | create odl user] ***************************************** 
2016-04-21 20:52:19,596 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,598 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,608 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,624 p=21337 u=root |  TASK: [odl_cluster | download odl package] ************************************ 
2016-04-21 20:52:19,668 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,673 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,677 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,694 p=21337 u=root |  TASK: [odl_cluster | extract odl package] ************************************* 
2016-04-21 20:52:19,746 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,749 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,754 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,768 p=21337 u=root |  TASK: [odl_cluster | opendaylight system file] ******************************** 
2016-04-21 20:52:19,812 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,819 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,831 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,844 p=21337 u=root |  TASK: [odl_cluster | create karaf config] ************************************* 
2016-04-21 20:52:19,889 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,897 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,898 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,915 p=21337 u=root |  TASK: [odl_cluster | create tomcat config] ************************************ 
2016-04-21 20:52:19,966 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:19,967 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:19,968 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:19,993 p=21337 u=root |  TASK: [odl_cluster | install odl pip packages] ******************************** 
2016-04-21 20:52:20,054 p=21337 u=root |  skipping: [host3] => (item=networking_odl)
2016-04-21 20:52:20,065 p=21337 u=root |  skipping: [host2] => (item=networking_odl)
2016-04-21 20:52:20,071 p=21337 u=root |  skipping: [host1] => (item=networking_odl)
2016-04-21 20:52:20,100 p=21337 u=root |  TASK: [odl_cluster | remove karaf data directory] ***************************** 
2016-04-21 20:52:20,170 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,173 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,174 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,196 p=21337 u=root |  TASK: [odl_cluster | turn off neutron-server neutron-plugins-openvswitch-agent Daemon on control node] *** 
2016-04-21 20:52:20,250 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,251 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,253 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,268 p=21337 u=root |  TASK: [odl_cluster | turn off neutron-server on control node] ***************** 
2016-04-21 20:52:20,323 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,324 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,324 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,345 p=21337 u=root |  TASK: [odl_cluster | turn off keepalived on control node] ********************* 
2016-04-21 20:52:20,396 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,405 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,407 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,423 p=21337 u=root |  TASK: [odl_cluster | chown opendaylight directory and files] ****************** 
2016-04-21 20:52:20,481 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,483 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,483 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,502 p=21337 u=root |  TASK: [odl_cluster | start opendaylight] ************************************** 
2016-04-21 20:52:20,570 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,576 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,579 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,603 p=21337 u=root |  TASK: [odl_cluster | check if opendaylight running] *************************** 
2016-04-21 20:52:20,661 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,662 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,674 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,690 p=21337 u=root |  TASK: [odl_cluster | install compute  packages] ******************************* 
2016-04-21 20:52:20,742 p=21337 u=root |  skipping: [host3] => (item=crudini)
2016-04-21 20:52:20,743 p=21337 u=root |  skipping: [host1] => (item=crudini)
2016-04-21 20:52:20,756 p=21337 u=root |  skipping: [host2] => (item=crudini)
2016-04-21 20:52:20,772 p=21337 u=root |  TASK: [odl_cluster | remove neutron-openvswitch-agent service daemon] ********* 
2016-04-21 20:52:20,830 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,834 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,842 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,861 p=21337 u=root |  TASK: [odl_cluster | shut down and disable Neutron's openvswitch  agent services] *** 
2016-04-21 20:52:20,921 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:20,921 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:20,930 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:20,962 p=21337 u=root |  TASK: [odl_cluster | remove Neutron's openvswitch agent services] ************* 
2016-04-21 20:52:21,016 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,021 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,024 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,036 p=21337 u=root |  TASK: [odl_cluster | Check External network] ********************************** 
2016-04-21 20:52:21,085 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,086 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,088 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,104 p=21337 u=root |  TASK: [odl_cluster | Stop the Open vSwitch service and clear existing OVSDB] *** 
2016-04-21 20:52:21,154 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,155 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,162 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,176 p=21337 u=root |  TASK: [odl_cluster | set opendaylight as the manager] ************************* 
2016-04-21 20:52:21,228 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,237 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,248 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,259 p=21337 u=root |  TASK: [odl_cluster | check br-int] ******************************************** 
2016-04-21 20:52:21,305 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,307 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,310 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,337 p=21337 u=root |  TASK: [odl_cluster | set local ip in openvswitch] ***************************** 
2016-04-21 20:52:21,385 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,392 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,393 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,415 p=21337 u=root |  TASK: [odl_cluster | add ovs bridge] ****************************************** 
2016-04-21 20:52:21,470 p=21337 u=root |  skipping: [host3] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:21,478 p=21337 u=root |  skipping: [host1] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:21,491 p=21337 u=root |  skipping: [host2] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:21,502 p=21337 u=root |  TASK: [odl_cluster | add ovs uplink] ****************************************** 
2016-04-21 20:52:21,553 p=21337 u=root |  skipping: [host3] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:21,556 p=21337 u=root |  skipping: [host1] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:21,567 p=21337 u=root |  skipping: [host2] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:21,579 p=21337 u=root |  TASK: [odl_cluster | copy recovery script] ************************************ 
2016-04-21 20:52:21,621 p=21337 u=root |  skipping: [host3] => (item=recover_network.py)
2016-04-21 20:52:21,630 p=21337 u=root |  skipping: [host1] => (item=recover_network.py)
2016-04-21 20:52:21,637 p=21337 u=root |  skipping: [host2] => (item=recover_network.py)
2016-04-21 20:52:21,651 p=21337 u=root |  TASK: [odl_cluster | recover external script] ********************************* 
2016-04-21 20:52:21,699 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,706 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,708 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,725 p=21337 u=root |  TASK: [odl_cluster | restart keepalived] ************************************** 
2016-04-21 20:52:21,775 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,776 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,777 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,801 p=21337 u=root |  TASK: [odl_cluster | configure opendaylight -> ml2] *************************** 
2016-04-21 20:52:21,850 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,850 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,851 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,872 p=21337 u=root |  TASK: [odl_cluster | copy ml2 configuration script] *************************** 
2016-04-21 20:52:21,916 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,917 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,920 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:21,938 p=21337 u=root |  TASK: [odl_cluster | execute ml2 configuration script] ************************ 
2016-04-21 20:52:21,985 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:21,989 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:21,994 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,012 p=21337 u=root |  TASK: [odl_cluster | configure l3 configuration] ****************************** 
2016-04-21 20:52:22,065 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,068 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,069 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,089 p=21337 u=root |  TASK: [odl_cluster | drop and recreate neutron database] ********************** 
2016-04-21 20:52:22,138 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,144 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,146 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,164 p=21337 u=root |  TASK: [odl_cluster | restart neutron-server] ********************************** 
2016-04-21 20:52:22,208 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,212 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,213 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,228 p=21337 u=root |  TASK: [odl_cluster | add service daemon] ************************************** 
2016-04-21 20:52:22,279 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,281 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,284 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,300 p=21337 u=root |  TASK: [odl_cluster | restart neutron-l3-agent server] ************************* 
2016-04-21 20:52:22,345 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,357 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,357 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,375 p=21337 u=root |  TASK: [odl_cluster | restart neutron-dhcp-agent server] *********************** 
2016-04-21 20:52:22,419 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,419 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,428 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,441 p=21337 u=root |  TASK: [odl_cluster | restart neutron-metadata-agent server] ******************* 
2016-04-21 20:52:22,484 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,488 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,491 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,507 p=21337 u=root |  TASK: [odl_cluster | install compute  packages] ******************************* 
2016-04-21 20:52:22,569 p=21337 u=root |  skipping: [host3] => (item=crudini)
2016-04-21 20:52:22,570 p=21337 u=root |  skipping: [host1] => (item=crudini)
2016-04-21 20:52:22,572 p=21337 u=root |  skipping: [host2] => (item=crudini)
2016-04-21 20:52:22,587 p=21337 u=root |  TASK: [odl_cluster | remove neutron-openvswitch-agent service daemon] ********* 
2016-04-21 20:52:22,634 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,642 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,643 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,665 p=21337 u=root |  TASK: [odl_cluster | shut down and disable Neutron's openvswitch  agent services] *** 
2016-04-21 20:52:22,747 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,752 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,754 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,780 p=21337 u=root |  TASK: [odl_cluster | remove Neutron's openvswitch agent services] ************* 
2016-04-21 20:52:22,830 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,853 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,855 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,876 p=21337 u=root |  TASK: [odl_cluster | Check External network] ********************************** 
2016-04-21 20:52:22,927 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:22,928 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:22,928 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:22,946 p=21337 u=root |  TASK: [odl_cluster | Stop the Open vSwitch service and clear existing OVSDB] *** 
2016-04-21 20:52:22,994 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,002 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,005 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,017 p=21337 u=root |  TASK: [odl_cluster | set opendaylight as the manager] ************************* 
2016-04-21 20:52:23,063 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,064 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,074 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,088 p=21337 u=root |  TASK: [odl_cluster | check br-int] ******************************************** 
2016-04-21 20:52:23,133 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,140 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,141 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,155 p=21337 u=root |  TASK: [odl_cluster | set local ip in openvswitch] ***************************** 
2016-04-21 20:52:23,220 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,222 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,223 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,248 p=21337 u=root |  TASK: [odl_cluster | add ovs bridge] ****************************************** 
2016-04-21 20:52:23,323 p=21337 u=root |  skipping: [host3] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:23,326 p=21337 u=root |  skipping: [host1] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:23,336 p=21337 u=root |  skipping: [host2] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:23,350 p=21337 u=root |  TASK: [odl_cluster | add ovs uplink] ****************************************** 
2016-04-21 20:52:23,412 p=21337 u=root |  skipping: [host3] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:23,416 p=21337 u=root |  skipping: [host1] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:23,420 p=21337 u=root |  skipping: [host2] => (item={'interface': 'eth0', 'role': ['controller', 'compute'], 'type': 'ovs', 'name': 'br-prv', 'network': 'physnet'})
2016-04-21 20:52:23,440 p=21337 u=root |  TASK: [odl_cluster | copy recovery script] ************************************ 
2016-04-21 20:52:23,484 p=21337 u=root |  skipping: [host3] => (item=recover_network.py)
2016-04-21 20:52:23,492 p=21337 u=root |  skipping: [host1] => (item=recover_network.py)
2016-04-21 20:52:23,493 p=21337 u=root |  skipping: [host2] => (item=recover_network.py)
2016-04-21 20:52:23,508 p=21337 u=root |  TASK: [odl_cluster | recover external script] ********************************* 
2016-04-21 20:52:23,553 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,563 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,574 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,584 p=21337 u=root |  TASK: [odl_cluster | restart keepalived] ************************************** 
2016-04-21 20:52:23,632 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,633 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,639 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,657 p=21337 u=root |  TASK: [odl_cluster | configure opendaylight -> ml2] *************************** 
2016-04-21 20:52:23,705 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,707 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,709 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,734 p=21337 u=root |  TASK: [odl_cluster | copy ml2 configuration script] *************************** 
2016-04-21 20:52:23,781 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,792 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,793 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,807 p=21337 u=root |  TASK: [odl_cluster | execute ml2 configuration script] ************************ 
2016-04-21 20:52:23,851 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:23,853 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:23,857 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:23,873 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:52:23,873 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:24,726 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:24,728 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:24,733 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:24,761 p=21337 u=root |  TASK: [onos_cluster | include_vars {{ ansible_os_family }}.yml] *************** 
2016-04-21 20:52:24,811 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:24,818 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:24,823 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:24,837 p=21337 u=root |  TASK: [onos_cluster | remove neutron-plugin-openvswitch-agent auto start] ***** 
2016-04-21 20:52:24,877 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:24,878 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:24,882 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:24,901 p=21337 u=root |  TASK: [onos_cluster | shut down and disable Neutron's agent services] ********* 
2016-04-21 20:52:24,943 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:24,944 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:24,953 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:24,970 p=21337 u=root |  TASK: [onos_cluster | remove neutron-l3-agent auto start] ********************* 
2016-04-21 20:52:25,010 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,012 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,019 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,035 p=21337 u=root |  TASK: [onos_cluster | shut down and disable Neutron's l3 agent services] ****** 
2016-04-21 20:52:25,101 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,108 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,118 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,132 p=21337 u=root |  TASK: [onos_cluster | Stop the Open vSwitch service and clear existing OVSDB] *** 
2016-04-21 20:52:25,175 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,175 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,182 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,195 p=21337 u=root |  TASK: [onos_cluster | upload onos driver package] ***************************** 
2016-04-21 20:52:25,238 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,243 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,244 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,270 p=21337 u=root |  TASK: [onos_cluster | install onos driver] ************************************ 
2016-04-21 20:52:25,311 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,320 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,325 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,339 p=21337 u=root |  TASK: [onos_cluster | install onos required packages] ************************* 
2016-04-21 20:52:25,390 p=21337 u=root |  skipping: [host3] => (item=software-properties-common)
2016-04-21 20:52:25,395 p=21337 u=root |  skipping: [host3] => (item=crudini)
2016-04-21 20:52:25,399 p=21337 u=root |  skipping: [host1] => (item=software-properties-common)
2016-04-21 20:52:25,405 p=21337 u=root |  skipping: [host1] => (item=crudini)
2016-04-21 20:52:25,406 p=21337 u=root |  skipping: [host2] => (item=software-properties-common)
2016-04-21 20:52:25,411 p=21337 u=root |  skipping: [host2] => (item=crudini)
2016-04-21 20:52:25,424 p=21337 u=root |  TASK: [onos_cluster | get image http server] ********************************** 
2016-04-21 20:52:25,463 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,469 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,474 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,486 p=21337 u=root |  TASK: [onos_cluster | download oracle-jdk8 package file] ********************** 
2016-04-21 20:52:25,526 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,527 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,532 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,548 p=21337 u=root |  TASK: [onos_cluster | upload install_jdk8 scripts] **************************** 
2016-04-21 20:52:25,612 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,619 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,625 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,653 p=21337 u=root |  TASK: [onos_cluster | install install_jdk8 package] *************************** 
2016-04-21 20:52:25,706 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,707 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,713 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,736 p=21337 u=root |  TASK: [onos_cluster | create JAVA_HOME environment variable] ****************** 
2016-04-21 20:52:25,801 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,803 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,808 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,835 p=21337 u=root |  TASK: [onos_cluster | create onos group] ************************************** 
2016-04-21 20:52:25,883 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,883 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,889 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,906 p=21337 u=root |  TASK: [onos_cluster | create onos user] *************************************** 
2016-04-21 20:52:25,947 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:25,952 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:25,953 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:25,972 p=21337 u=root |  TASK: [onos_cluster | download onos package] ********************************** 
2016-04-21 20:52:26,015 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,017 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,021 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,042 p=21337 u=root |  TASK: [onos_cluster | create new jar repository] ****************************** 
2016-04-21 20:52:26,080 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,081 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,088 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,101 p=21337 u=root |  TASK: [onos_cluster | download jar repository] ******************************** 
2016-04-21 20:52:26,138 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,143 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,145 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,167 p=21337 u=root |  TASK: [onos_cluster | extract jar repository] ********************************* 
2016-04-21 20:52:26,208 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,218 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,219 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,234 p=21337 u=root |  TASK: [onos_cluster | extract onos package] *********************************** 
2016-04-21 20:52:26,272 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,275 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,279 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,295 p=21337 u=root |  TASK: [onos_cluster | configure onos service] ********************************* 
2016-04-21 20:52:26,338 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,338 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,344 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,355 p=21337 u=root |  TASK: [onos_cluster | configure onos boot feature] **************************** 
2016-04-21 20:52:26,394 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,399 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,405 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,417 p=21337 u=root |  TASK: [onos_cluster | wait for config time] *********************************** 
2016-04-21 20:52:26,456 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,460 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,461 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,477 p=21337 u=root |  TASK: [onos_cluster | start onos service] ************************************* 
2016-04-21 20:52:26,516 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,518 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,523 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,540 p=21337 u=root |  TASK: [onos_cluster | wait for restart time] ********************************** 
2016-04-21 20:52:26,590 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,594 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,601 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,624 p=21337 u=root |  TASK: [onos_cluster | start onos service] ************************************* 
2016-04-21 20:52:26,664 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,671 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,673 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,695 p=21337 u=root |  TASK: [onos_cluster | wait for onos start time] ******************************* 
2016-04-21 20:52:26,739 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,743 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,744 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,793 p=21337 u=root |  TASK: [onos_cluster | start onos service] ************************************* 
2016-04-21 20:52:26,843 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,844 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,846 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,868 p=21337 u=root |  TASK: [onos_cluster | wait for onos start time] ******************************* 
2016-04-21 20:52:26,912 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,915 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,919 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,934 p=21337 u=root |  TASK: [onos_cluster | add onos auto start] ************************************ 
2016-04-21 20:52:26,974 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:26,975 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:26,981 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:26,994 p=21337 u=root |  TASK: [onos_cluster | Configure Neutron1] ************************************* 
2016-04-21 20:52:27,038 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,039 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,040 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,057 p=21337 u=root |  TASK: [onos_cluster | Create ML2 Configuration File] ************************** 
2016-04-21 20:52:27,096 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,103 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,104 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,123 p=21337 u=root |  TASK: [onos_cluster | Configure Neutron2] ************************************* 
2016-04-21 20:52:27,176 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,177 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,180 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,200 p=21337 u=root |  TASK: [onos_cluster | Configure Neutron3] ************************************* 
2016-04-21 20:52:27,252 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,255 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,265 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,292 p=21337 u=root |  TASK: [onos_cluster | Restart neutron-server] ********************************* 
2016-04-21 20:52:27,337 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,340 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,344 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,361 p=21337 u=root |  TASK: [onos_cluster | set veth port] ****************************************** 
2016-04-21 20:52:27,410 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,412 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,423 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,436 p=21337 u=root |  TASK: [onos_cluster | set veth to ovs] **************************************** 
2016-04-21 20:52:27,482 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,486 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,489 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,511 p=21337 u=root |  TASK: [onos_cluster | add ovsdatabase feature] ******************************** 
2016-04-21 20:52:27,557 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,562 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,565 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,579 p=21337 u=root |  TASK: [onos_cluster | add openflow-base feature] ****************************** 
2016-04-21 20:52:27,623 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,625 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,626 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,644 p=21337 u=root |  TASK: [onos_cluster | add openflow feature] *********************************** 
2016-04-21 20:52:27,686 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,688 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,695 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,713 p=21337 u=root |  TASK: [onos_cluster | add vtn feature] **************************************** 
2016-04-21 20:52:27,754 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,758 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,759 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,776 p=21337 u=root |  TASK: [onos_cluster | add lldp feature] *************************************** 
2016-04-21 20:52:27,823 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,829 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,836 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,861 p=21337 u=root |  TASK: [onos_cluster | set public eth card start] ****************************** 
2016-04-21 20:52:27,902 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,908 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,915 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:27,936 p=21337 u=root |  TASK: [onos_cluster | change cluster create file] ***************************** 
2016-04-21 20:52:27,988 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:27,992 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:27,992 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,018 p=21337 u=root |  TASK: [onos_cluster | prepare for onos cluster environment] ******************* 
2016-04-21 20:52:28,064 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,066 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,069 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,083 p=21337 u=root |  TASK: [onos_cluster | start up onos cluster] ********************************** 
2016-04-21 20:52:28,126 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,128 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,135 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,147 p=21337 u=root |  TASK: [onos_cluster | wait for onos cluster time] ***************************** 
2016-04-21 20:52:28,190 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,197 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,202 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,215 p=21337 u=root |  TASK: [onos_cluster | start onos service] ************************************* 
2016-04-21 20:52:28,255 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,261 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,262 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,281 p=21337 u=root |  TASK: [onos_cluster | wait for onos start time] ******************************* 
2016-04-21 20:52:28,321 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,333 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,334 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,354 p=21337 u=root |  TASK: [onos_cluster | Set ONOS as the manager] ******************************** 
2016-04-21 20:52:28,405 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,413 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,417 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,433 p=21337 u=root |  TASK: [onos_cluster | wait for set-manager time] ****************************** 
2016-04-21 20:52:28,485 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,486 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,497 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,524 p=21337 u=root |  TASK: [onos_cluster | Set ONOS as the controller] ***************************** 
2016-04-21 20:52:28,577 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,578 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,579 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,600 p=21337 u=root |  TASK: [onos_cluster | create public network] ********************************** 
2016-04-21 20:52:28,646 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,649 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,660 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,674 p=21337 u=root |  TASK: [onos_cluster | set gateway mac address] ******************************** 
2016-04-21 20:52:28,716 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,721 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,723 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,740 p=21337 u=root |  TASK: [onos_cluster | delete default gateway] ********************************* 
2016-04-21 20:52:28,782 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:28,792 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:28,793 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:28,807 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:52:28,808 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:29,538 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:29,543 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:29,555 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:29,581 p=21337 u=root |  TASK: [open-contrail | include_vars {{ ansible_os_family }}.yml] ************** 
2016-04-21 20:52:29,637 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:29,638 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:29,640 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:29,659 p=21337 u=root |  TASK: [open-contrail | backup rabbitmq-server] ******************************** 
2016-04-21 20:52:29,707 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:29,710 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:29,721 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:29,749 p=21337 u=root |  TASK: [open-contrail | Disable Service Daemon] ******************************** 
2016-04-21 20:52:29,801 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:29,802 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:29,803 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:29,818 p=21337 u=root |  TASK: [open-contrail | get image http server] ********************************* 
2016-04-21 20:52:29,871 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:29,873 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:29,887 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:29,901 p=21337 u=root |  TASK: [open-contrail | download OpenContrail package file] ******************** 
2016-04-21 20:52:29,951 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:29,954 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:29,959 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:29,976 p=21337 u=root |  TASK: [open-contrail | install contrail install package] ********************** 
2016-04-21 20:52:30,027 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,030 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,033 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,055 p=21337 u=root |  TASK: [open-contrail | delete temporary contrail install package] ************* 
2016-04-21 20:52:30,104 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,118 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,132 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,165 p=21337 u=root |  TASK: [open-contrail | make directory for contrail binary files] ************** 
2016-04-21 20:52:30,228 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,239 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,240 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,257 p=21337 u=root |  TASK: [open-contrail | make directory for contrail repository] **************** 
2016-04-21 20:52:30,307 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,311 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,312 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,353 p=21337 u=root |  TASK: [open-contrail | unarchive contrail packages] *************************** 
2016-04-21 20:52:30,405 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,407 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,411 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,434 p=21337 u=root |  TASK: [open-contrail | find required packages in advance] ********************* 
2016-04-21 20:52:30,486 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,498 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,510 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,524 p=21337 u=root |  TASK: [open-contrail | install required packages] ***************************** 
2016-04-21 20:52:30,582 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,587 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,588 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,604 p=21337 u=root |  TASK: [open-contrail | modify source list] ************************************ 
2016-04-21 20:52:30,655 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,657 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,668 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,683 p=21337 u=root |  TASK: [open-contrail | modify apt configuration] ****************************** 
2016-04-21 20:52:30,746 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,748 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,748 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,768 p=21337 u=root |  TASK: [open-contrail | copy apt preferences file] ***************************** 
2016-04-21 20:52:30,819 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,826 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,834 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,846 p=21337 u=root |  TASK: [open-contrail | create contrail packages list] ************************* 
2016-04-21 20:52:30,895 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,906 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,907 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,926 p=21337 u=root |  TASK: [open-contrail | install contrail setup package] ************************ 
2016-04-21 20:52:30,974 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:30,976 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:30,977 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:30,994 p=21337 u=root |  TASK: [open-contrail | temporary disable supervisor database] ***************** 
2016-04-21 20:52:31,041 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,048 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,053 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,079 p=21337 u=root |  TASK: [open-contrail | install contrail openstack database package] *********** 
2016-04-21 20:52:31,132 p=21337 u=root |  skipping: [host3] => (item=contrail-openstack-database)
2016-04-21 20:52:31,141 p=21337 u=root |  skipping: [host1] => (item=contrail-openstack-database)
2016-04-21 20:52:31,145 p=21337 u=root |  skipping: [host2] => (item=contrail-openstack-database)
2016-04-21 20:52:31,159 p=21337 u=root |  TASK: [open-contrail | temporary disable supervisor config] ******************* 
2016-04-21 20:52:31,206 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,219 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,219 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,237 p=21337 u=root |  TASK: [open-contrail | temporary disable neutron server] ********************** 
2016-04-21 20:52:31,287 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,287 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,288 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,302 p=21337 u=root |  TASK: [open-contrail | backup keepalived conf] ******************************** 
2016-04-21 20:52:31,351 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,351 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,356 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,373 p=21337 u=root |  TASK: [open-contrail | uninstall keepalived] ********************************** 
2016-04-21 20:52:31,422 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,433 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,437 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,457 p=21337 u=root |  TASK: [open-contrail | install iproute] *************************************** 
2016-04-21 20:52:31,512 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,523 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,530 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,545 p=21337 u=root |  TASK: [open-contrail | install iproute] *************************************** 
2016-04-21 20:52:31,603 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,606 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,607 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,625 p=21337 u=root |  TASK: [open-contrail | restore keepalived conf] ******************************* 
2016-04-21 20:52:31,673 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,674 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,686 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,699 p=21337 u=root |  TASK: [open-contrail | install contrail openstack config package] ************* 
2016-04-21 20:52:31,754 p=21337 u=root |  skipping: [host3] => (item=contrail-openstack-config)
2016-04-21 20:52:31,754 p=21337 u=root |  skipping: [host2] => (item=contrail-openstack-config)
2016-04-21 20:52:31,755 p=21337 u=root |  skipping: [host1] => (item=contrail-openstack-config)
2016-04-21 20:52:31,786 p=21337 u=root |  TASK: [open-contrail | temporary disable supervisor control] ****************** 
2016-04-21 20:52:31,844 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,845 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,846 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,865 p=21337 u=root |  TASK: [open-contrail | temporary disable supervisor dns] ********************** 
2016-04-21 20:52:31,911 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:31,915 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:31,930 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:31,945 p=21337 u=root |  TASK: [open-contrail | install contrail openstack control package] ************ 
2016-04-21 20:52:31,997 p=21337 u=root |  skipping: [host3] => (item=contrail-openstack-control)
2016-04-21 20:52:31,998 p=21337 u=root |  skipping: [host1] => (item=contrail-openstack-control)
2016-04-21 20:52:32,014 p=21337 u=root |  skipping: [host2] => (item=contrail-openstack-control)
2016-04-21 20:52:32,027 p=21337 u=root |  TASK: [open-contrail | temporary disable supervisor analytics] **************** 
2016-04-21 20:52:32,080 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:32,082 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:32,086 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:32,105 p=21337 u=root |  TASK: [open-contrail | install contrail openstack analytics package] ********** 
2016-04-21 20:52:32,159 p=21337 u=root |  skipping: [host3] => (item=contrail-openstack-analytics)
2016-04-21 20:52:32,160 p=21337 u=root |  skipping: [host1] => (item=contrail-openstack-analytics)
2016-04-21 20:52:32,162 p=21337 u=root |  skipping: [host2] => (item=contrail-openstack-analytics)
2016-04-21 20:52:32,181 p=21337 u=root |  TASK: [open-contrail | temporary disable supervisor webui] ******************** 
2016-04-21 20:52:32,238 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:32,239 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:32,243 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:32,264 p=21337 u=root |  TASK: [open-contrail | install contrail openstack webui package] ************** 
2016-04-21 20:52:32,322 p=21337 u=root |  skipping: [host1] => (item=contrail-openstack-webui)
2016-04-21 20:52:32,331 p=21337 u=root |  skipping: [host3] => (item=contrail-openstack-webui)
2016-04-21 20:52:32,333 p=21337 u=root |  skipping: [host2] => (item=contrail-openstack-webui)
2016-04-21 20:52:32,348 p=21337 u=root |  TASK: [open-contrail | temporary disable supervisor vrouter] ****************** 
2016-04-21 20:52:32,399 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:32,404 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:32,405 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:32,423 p=21337 u=root |  TASK: [open-contrail | install contrail vrouter 3.13.0-40 package] ************ 
2016-04-21 20:52:32,480 p=21337 u=root |  skipping: [host3] => (item=contrail-vrouter-3.13.0-40-generic)
2016-04-21 20:52:32,487 p=21337 u=root |  skipping: [host2] => (item=contrail-vrouter-3.13.0-40-generic)
2016-04-21 20:52:32,488 p=21337 u=root |  skipping: [host1] => (item=contrail-vrouter-3.13.0-40-generic)
2016-04-21 20:52:32,506 p=21337 u=root |  TASK: [open-contrail | install contrail vrouter dkms package] ***************** 
2016-04-21 20:52:32,562 p=21337 u=root |  skipping: [host3] => (item=contrail-vrouter-dkms)
2016-04-21 20:52:32,567 p=21337 u=root |  skipping: [host1] => (item=contrail-vrouter-dkms)
2016-04-21 20:52:32,568 p=21337 u=root |  skipping: [host2] => (item=contrail-vrouter-dkms)
2016-04-21 20:52:32,584 p=21337 u=root |  TASK: [open-contrail | install contrail vrouter common & nova vif package] **** 
2016-04-21 20:52:32,640 p=21337 u=root |  skipping: [host3] => (item=contrail-vrouter-common)
2016-04-21 20:52:32,640 p=21337 u=root |  skipping: [host1] => (item=contrail-vrouter-common)
2016-04-21 20:52:32,641 p=21337 u=root |  skipping: [host2] => (item=contrail-vrouter-common)
2016-04-21 20:52:32,647 p=21337 u=root |  skipping: [host3] => (item=contrail-nova-vif)
2016-04-21 20:52:32,648 p=21337 u=root |  skipping: [host1] => (item=contrail-nova-vif)
2016-04-21 20:52:32,648 p=21337 u=root |  skipping: [host2] => (item=contrail-nova-vif)
2016-04-21 20:52:32,668 p=21337 u=root |  TASK: [open-contrail | get last ip address] *********************************** 
2016-04-21 20:52:32,719 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:32,720 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:32,723 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:32,737 p=21337 u=root |  TASK: [open-contrail | set interface address] ********************************* 
2016-04-21 20:52:32,788 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:32,792 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:32,793 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:32,812 p=21337 u=root |  TASK: [open-contrail | up interface] ****************************************** 
2016-04-21 20:52:32,856 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:32,865 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:32,866 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:32,883 p=21337 u=root |  TASK: [open-contrail | delete line] ******************************************* 
2016-04-21 20:52:32,932 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:32,933 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:32,945 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:32,958 p=21337 u=root |  TASK: [open-contrail | check EOF] ********************************************* 
2016-04-21 20:52:33,007 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,015 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,028 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,038 p=21337 u=root |  TASK: [open-contrail | add lines] ********************************************* 
2016-04-21 20:52:33,086 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^root\\s*hard\\s*nofile\\s*.*', 'line': 'root hard nofile 65535'})
2016-04-21 20:52:33,088 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^root\\s*hard\\s*nofile\\s*.*', 'line': 'root hard nofile 65535'})
2016-04-21 20:52:33,088 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^root\\s*hard\\s*nofile\\s*.*', 'line': 'root hard nofile 65535'})
2016-04-21 20:52:33,091 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^root\\s*soft\\s*nofile\\s*.*', 'line': 'root soft nofile 65535'})
2016-04-21 20:52:33,092 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^root\\s*soft\\s*nofile\\s*.*', 'line': 'root soft nofile 65535'})
2016-04-21 20:52:33,092 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^root\\s*soft\\s*nofile\\s*.*', 'line': 'root soft nofile 65535'})
2016-04-21 20:52:33,094 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\*\\s*hard\\s*nofile\\s*.*', 'line': '* hard nofile 65535'})
2016-04-21 20:52:33,096 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\*\\s*hard\\s*nofile\\s*.*', 'line': '* hard nofile 65535'})
2016-04-21 20:52:33,096 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\*\\s*hard\\s*nofile\\s*.*', 'line': '* hard nofile 65535'})
2016-04-21 20:52:33,098 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\*\\s*soft\\s*nofile\\s*.*', 'line': '* soft nofile 65535'})
2016-04-21 20:52:33,100 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\*\\s*soft\\s*nofile\\s*.*', 'line': '* soft nofile 65535'})
2016-04-21 20:52:33,100 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\*\\s*soft\\s*nofile\\s*.*', 'line': '* soft nofile 65535'})
2016-04-21 20:52:33,102 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\*\\s*hard\\s*nproc\\s*.*', 'line': '* hard nproc 65535'})
2016-04-21 20:52:33,104 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\*\\s*hard\\s*nproc\\s*.*', 'line': '* hard nproc 65535'})
2016-04-21 20:52:33,104 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\*\\s*hard\\s*nproc\\s*.*', 'line': '* hard nproc 65535'})
2016-04-21 20:52:33,106 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\*\\s*soft\\s*nproc\\s*.*', 'line': '* soft nproc 65535'})
2016-04-21 20:52:33,108 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\*\\s*soft\\s*nproc\\s*.*', 'line': '* soft nproc 65535'})
2016-04-21 20:52:33,108 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\*\\s*soft\\s*nproc\\s*.*', 'line': '* soft nproc 65535'})
2016-04-21 20:52:33,129 p=21337 u=root |  TASK: [open-contrail | change value of sysctl fs.file-max] ******************** 
2016-04-21 20:52:33,175 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,180 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,187 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,201 p=21337 u=root |  TASK: [open-contrail | find supervisord conf files] *************************** 
2016-04-21 20:52:33,251 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,255 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,260 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,281 p=21337 u=root |  TASK: [open-contrail | modify supervisord conf] ******************************* 
2016-04-21 20:52:33,328 p=21337 u=root |  skipping: [host3] => (item=supervisordconfs.stdout_lines)
2016-04-21 20:52:33,333 p=21337 u=root |  skipping: [host1] => (item=supervisordconfs.stdout_lines)
2016-04-21 20:52:33,336 p=21337 u=root |  skipping: [host2] => (item=supervisordconfs.stdout_lines)
2016-04-21 20:52:33,352 p=21337 u=root |  TASK: [open-contrail | enable supervisor database] **************************** 
2016-04-21 20:52:33,403 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,404 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,409 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,423 p=21337 u=root |  TASK: [open-contrail | disable ufw] ******************************************* 
2016-04-21 20:52:33,471 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,473 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,478 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,491 p=21337 u=root |  TASK: [open-contrail | change value of kernel.core_pattern] ******************* 
2016-04-21 20:52:33,544 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,549 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,558 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,587 p=21337 u=root |  TASK: [open-contrail | change value of net.ipv4.ip_forward] ******************* 
2016-04-21 20:52:33,645 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,646 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,664 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,682 p=21337 u=root |  TASK: [open-contrail | make crashes directory] ******************************** 
2016-04-21 20:52:33,734 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,736 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,738 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,756 p=21337 u=root |  TASK: [open-contrail | update hosts] ****************************************** 
2016-04-21 20:52:33,802 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,808 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,817 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,829 p=21337 u=root |  TASK: [open-contrail | make directory for contrail analytics] ***************** 
2016-04-21 20:52:33,877 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:33,879 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:33,885 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:33,898 p=21337 u=root |  TASK: [open-contrail | modify cassandra conf] ********************************* 
2016-04-21 20:52:33,957 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^(#(\\s*)?)?listen_address:', 'line': u'listen_address: 192.168.201.13'})
2016-04-21 20:52:33,960 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^(#(\\s*)?)?listen_address:', 'line': u'listen_address: 192.168.201.11'})
2016-04-21 20:52:33,961 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^(#(\\s*)?)?cluster_name:', 'line': 'cluster_name: "Contrail"'})
2016-04-21 20:52:33,964 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^(#(\\s*)?)?listen_address:', 'line': u'listen_address: 192.168.201.12'})
2016-04-21 20:52:33,964 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^(#(\\s*)?)?cluster_name:', 'line': 'cluster_name: "Contrail"'})
2016-04-21 20:52:33,965 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^(#(\\s*)?)?rpc_address:', 'line': u'rpc_address: 192.168.201.13'})
2016-04-21 20:52:33,968 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^(#(\\s*)?)?cluster_name:', 'line': 'cluster_name: "Contrail"'})
2016-04-21 20:52:33,968 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^(#(\\s*)?)?rpc_address:', 'line': u'rpc_address: 192.168.201.11'})
2016-04-21 20:52:33,969 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^(#(\\s*)?)?num_tokens:', 'line': 'num_tokens: 256'})
2016-04-21 20:52:33,974 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^(#(\\s*)?)?num_tokens:', 'line': 'num_tokens: 256'})
2016-04-21 20:52:33,975 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^(#(\\s*)?)?rpc_address:', 'line': u'rpc_address: 192.168.201.12'})
2016-04-21 20:52:33,978 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^(#(\\s*)?)?initial_token:', 'line': '# initial_token:'})
2016-04-21 20:52:33,980 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^(#(\\s*)?)?num_tokens:', 'line': 'num_tokens: 256'})
2016-04-21 20:52:33,982 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^(#(\\s*)?)?initial_token:', 'line': '# initial_token:'})
2016-04-21 20:52:33,985 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^(#(\\s*)?)?initial_token:', 'line': '# initial_token:'})
2016-04-21 20:52:34,004 p=21337 u=root |  TASK: [open-contrail | set first database host seed] ************************** 
2016-04-21 20:52:34,051 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,057 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,060 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,074 p=21337 u=root |  TASK: [open-contrail | set second database host seed] ************************* 
2016-04-21 20:52:34,122 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,134 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,135 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,151 p=21337 u=root |  TASK: [open-contrail | modify seeds list in cassandra conf] ******************* 
2016-04-21 20:52:34,198 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,202 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,203 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,221 p=21337 u=root |  TASK: [open-contrail | modify cassandra env] ********************************** 
2016-04-21 20:52:34,271 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCDetails"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCDetails"'})
2016-04-21 20:52:34,272 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCDetails"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCDetails"'})
2016-04-21 20:52:34,273 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCDetails"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCDetails"'})
2016-04-21 20:52:34,275 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -Xss\\d+k"', 'replace': 'JVM_OPTS="$JVM_OPTS -Xss512k"'})
2016-04-21 20:52:34,276 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -Xss\\d+k"', 'replace': 'JVM_OPTS="$JVM_OPTS -Xss512k"'})
2016-04-21 20:52:34,278 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -Xss\\d+k"', 'replace': 'JVM_OPTS="$JVM_OPTS -Xss512k"'})
2016-04-21 20:52:34,280 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCDateStamps"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCDateStamps"'})
2016-04-21 20:52:34,281 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCDateStamps"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCDateStamps"'})
2016-04-21 20:52:34,283 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCDateStamps"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCDateStamps"'})
2016-04-21 20:52:34,284 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintHeapAtGC"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintHeapAtGC"'})
2016-04-21 20:52:34,285 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintHeapAtGC"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintHeapAtGC"'})
2016-04-21 20:52:34,286 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintHeapAtGC"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintHeapAtGC"'})
2016-04-21 20:52:34,288 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintTenuringDistribution"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintTenuringDistribution"'})
2016-04-21 20:52:34,289 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintTenuringDistribution"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintTenuringDistribution"'})
2016-04-21 20:52:34,290 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintTenuringDistribution"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintTenuringDistribution"'})
2016-04-21 20:52:34,292 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCApplicationStoppedTime"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCApplicationStoppedTime"'})
2016-04-21 20:52:34,293 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCApplicationStoppedTime"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCApplicationStoppedTime"'})
2016-04-21 20:52:34,294 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintGCApplicationStoppedTime"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintGCApplicationStoppedTime"'})
2016-04-21 20:52:34,296 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintPromotionFailure"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintPromotionFailure"'})
2016-04-21 20:52:34,296 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintPromotionFailure"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintPromotionFailure"'})
2016-04-21 20:52:34,298 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:\\+PrintPromotionFailure"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:+PrintPromotionFailure"'})
2016-04-21 20:52:34,299 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:PrintFLSStatistics=1"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:PrintFLSStatistics=1"'})
2016-04-21 20:52:34,300 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:PrintFLSStatistics=1"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:PrintFLSStatistics=1"'})
2016-04-21 20:52:34,301 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -XX:PrintFLSStatistics=1"', 'replace': 'JVM_OPTS="$JVM_OPTS -XX:PrintFLSStatistics=1"'})
2016-04-21 20:52:34,303 p=21337 u=root |  skipping: [host3] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -Xloggc:/var/log/cassandra/gc-`date \\+%s`\\.log"', 'replace': 'JVM_OPTS="$JVM_OPTS -Xloggc:/var/log/cassandra/gc-`date +%s`.log"'})
2016-04-21 20:52:34,303 p=21337 u=root |  skipping: [host1] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -Xloggc:/var/log/cassandra/gc-`date \\+%s`\\.log"', 'replace': 'JVM_OPTS="$JVM_OPTS -Xloggc:/var/log/cassandra/gc-`date +%s`.log"'})
2016-04-21 20:52:34,305 p=21337 u=root |  skipping: [host2] => (item={'regexp': '(#(\\s*)?)?JVM_OPTS="\\$JVM_OPTS -Xloggc:/var/log/cassandra/gc-`date \\+%s`\\.log"', 'replace': 'JVM_OPTS="$JVM_OPTS -Xloggc:/var/log/cassandra/gc-`date +%s`.log"'})
2016-04-21 20:52:34,324 p=21337 u=root |  TASK: [open-contrail | modify zookeeper conf] ********************************* 
2016-04-21 20:52:34,373 p=21337 u=root |  skipping: [host3] => (item=maxSessionTimeout=120000)
2016-04-21 20:52:34,374 p=21337 u=root |  skipping: [host1] => (item=maxSessionTimeout=120000)
2016-04-21 20:52:34,377 p=21337 u=root |  skipping: [host3] => (item=autopurge.purgeInterval=3)
2016-04-21 20:52:34,378 p=21337 u=root |  skipping: [host1] => (item=autopurge.purgeInterval=3)
2016-04-21 20:52:34,391 p=21337 u=root |  skipping: [host2] => (item=maxSessionTimeout=120000)
2016-04-21 20:52:34,395 p=21337 u=root |  skipping: [host2] => (item=autopurge.purgeInterval=3)
2016-04-21 20:52:34,405 p=21337 u=root |  TASK: [open-contrail | modify zookeeper log4j properties] ********************* 
2016-04-21 20:52:34,452 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,459 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,466 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,480 p=21337 u=root |  TASK: [open-contrail | add server addresses to zookeeper config] ************** 
2016-04-21 20:52:34,529 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,531 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,534 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,550 p=21337 u=root |  TASK: [open-contrail | set zookeeper unique id] ******************************* 
2016-04-21 20:52:34,598 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,601 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,609 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,623 p=21337 u=root |  TASK: [open-contrail | remove kafka ini file] ********************************* 
2016-04-21 20:52:34,670 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,695 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,699 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,712 p=21337 u=root |  TASK: [open-contrail | set first zookeeper host address] ********************** 
2016-04-21 20:52:34,759 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,761 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,766 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,779 p=21337 u=root |  TASK: [open-contrail | set second or more zookeeper host addresses] *********** 
2016-04-21 20:52:34,824 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,827 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,829 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,851 p=21337 u=root |  TASK: [open-contrail | modify zookeeper host addresses in kafka properties] *** 
2016-04-21 20:52:34,902 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,905 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:34,921 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:34,944 p=21337 u=root |  TASK: [open-contrail | modify kafka properties] ******************************* 
2016-04-21 20:52:34,996 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:34,997 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,002 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,015 p=21337 u=root |  TASK: [open-contrail | fix up contrail database nodemgr config] *************** 
2016-04-21 20:52:35,087 p=21337 u=root |  skipping: [host3] => (item={'section': 'DEFAULT', 'option': 'hostip', 'value': u'192.168.201.13'})
2016-04-21 20:52:35,089 p=21337 u=root |  skipping: [host1] => (item={'section': 'DEFAULT', 'option': 'hostip', 'value': u'192.168.201.11'})
2016-04-21 20:52:35,091 p=21337 u=root |  skipping: [host3] => (item={'section': 'DISCOVERY', 'option': 'server', 'value': u'192.168.201.99'})
2016-04-21 20:52:35,092 p=21337 u=root |  skipping: [host2] => (item={'section': 'DEFAULT', 'option': 'hostip', 'value': u'192.168.201.12'})
2016-04-21 20:52:35,094 p=21337 u=root |  skipping: [host1] => (item={'section': 'DISCOVERY', 'option': 'server', 'value': u'192.168.201.99'})
2016-04-21 20:52:35,096 p=21337 u=root |  skipping: [host2] => (item={'section': 'DISCOVERY', 'option': 'server', 'value': u'192.168.201.99'})
2016-04-21 20:52:35,113 p=21337 u=root |  TASK: [open-contrail | restart zookeeper] ************************************* 
2016-04-21 20:52:35,199 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,200 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,213 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,235 p=21337 u=root |  TASK: [open-contrail | restart supervisor database] *************************** 
2016-04-21 20:52:35,297 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,302 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,304 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,328 p=21337 u=root |  TASK: [open-contrail | enable supervisor config] ****************************** 
2016-04-21 20:52:35,387 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,389 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,391 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,406 p=21337 u=root |  TASK: [open-contrail | enable neutron server] ********************************* 
2016-04-21 20:52:35,455 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,457 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,469 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,481 p=21337 u=root |  TASK: [open-contrail | disable ufw] ******************************************* 
2016-04-21 20:52:35,530 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,540 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,541 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,556 p=21337 u=root |  TASK: [open-contrail | change value of kernel.core_pattern] ******************* 
2016-04-21 20:52:35,609 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,614 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,618 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,633 p=21337 u=root |  TASK: [open-contrail | change value of net.ipv4.ip_forward] ******************* 
2016-04-21 20:52:35,682 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,694 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,697 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,714 p=21337 u=root |  TASK: [open-contrail | make crashes directory] ******************************** 
2016-04-21 20:52:35,770 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,774 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,777 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,796 p=21337 u=root |  TASK: [open-contrail | fix up contrail keystone auth config] ****************** 
2016-04-21 20:52:35,848 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,850 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,851 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,865 p=21337 u=root |  TASK: [open-contrail | fix up ifmap server log4j properties] ****************** 
2016-04-21 20:52:35,913 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,917 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:35,918 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:35,935 p=21337 u=root |  TASK: [open-contrail | fix up ifmap server authorization properties] ********** 
2016-04-21 20:52:35,988 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:35,994 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,007 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,037 p=21337 u=root |  TASK: [open-contrail | fix up ifmap server basicauthusers properties] ********* 
2016-04-21 20:52:36,097 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,101 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,105 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,126 p=21337 u=root |  TASK: [open-contrail | fix up ifmap server publisher properties] ************** 
2016-04-21 20:52:36,177 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,181 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,194 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,210 p=21337 u=root |  TASK: [open-contrail | fix up contrail api config] **************************** 
2016-04-21 20:52:36,263 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,264 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,276 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,288 p=21337 u=root |  TASK: [open-contrail | fix up contrail api supervisord config] **************** 
2016-04-21 20:52:36,339 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,340 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,357 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,368 p=21337 u=root |  TASK: [open-contrail | modify contrail api init script] *********************** 
2016-04-21 20:52:36,417 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,418 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,427 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,443 p=21337 u=root |  TASK: [open-contrail | fix up contrail schema config] ************************* 
2016-04-21 20:52:36,492 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,501 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,501 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,521 p=21337 u=root |  TASK: [open-contrail | fix up contrail device manager config] ***************** 
2016-04-21 20:52:36,575 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,575 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,587 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,603 p=21337 u=root |  TASK: [open-contrail | fix up contrail svc monitor config] ******************** 
2016-04-21 20:52:36,654 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,661 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,662 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,677 p=21337 u=root |  TASK: [open-contrail | fix up contrail discovery supervisord config] ********** 
2016-04-21 20:52:36,726 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,733 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,733 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,764 p=21337 u=root |  TASK: [open-contrail | fix up contrail discovery config] ********************** 
2016-04-21 20:52:36,812 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,818 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,825 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,843 p=21337 u=root |  TASK: [open-contrail | modify contrail discovery init script] ***************** 
2016-04-21 20:52:36,896 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,898 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,899 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,916 p=21337 u=root |  TASK: [open-contrail | fix up contrail vnc api library config] **************** 
2016-04-21 20:52:36,965 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:36,967 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:36,968 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:36,994 p=21337 u=root |  TASK: [open-contrail | fix up contrail config nodemgr config] ***************** 
2016-04-21 20:52:37,040 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,046 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,059 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,077 p=21337 u=root |  TASK: [open-contrail | fix up contrail sudoers] ******************************* 
2016-04-21 20:52:37,125 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,128 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,131 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,157 p=21337 u=root |  TASK: [open-contrail | create directory for neutron plugins] ****************** 
2016-04-21 20:52:37,208 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,219 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,222 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,235 p=21337 u=root |  TASK: [open-contrail | fix up contrail plugin for nuetron] ******************** 
2016-04-21 20:52:37,282 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,290 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,290 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,308 p=21337 u=root |  TASK: [open-contrail | modify neutron server configuration] ******************* 
2016-04-21 20:52:37,360 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,361 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,367 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,385 p=21337 u=root |  TASK: [open-contrail | set values to neutron config] ************************** 
2016-04-21 20:52:37,440 p=21337 u=root |  skipping: [host3] => (item={'section': 'DEFAULT', 'option': 'core_plugin', 'value': 'neutron_plugin_contrail.plugins.opencontrail.contrail_plugin.NeutronPluginContrailCoreV2'})
2016-04-21 20:52:37,444 p=21337 u=root |  skipping: [host1] => (item={'section': 'DEFAULT', 'option': 'core_plugin', 'value': 'neutron_plugin_contrail.plugins.opencontrail.contrail_plugin.NeutronPluginContrailCoreV2'})
2016-04-21 20:52:37,445 p=21337 u=root |  skipping: [host3] => (item={'section': 'DEFAULT', 'option': 'api_extensions_path', 'value': '/usr/lib/python2.7/dist-packages/neutron_plugin_contrail/extensions'})
2016-04-21 20:52:37,448 p=21337 u=root |  skipping: [host2] => (item={'section': 'DEFAULT', 'option': 'core_plugin', 'value': 'neutron_plugin_contrail.plugins.opencontrail.contrail_plugin.NeutronPluginContrailCoreV2'})
2016-04-21 20:52:37,448 p=21337 u=root |  skipping: [host3] => (item={'section': 'DEFAULT', 'option': 'service_plugins', 'value': ' '})
2016-04-21 20:52:37,449 p=21337 u=root |  skipping: [host1] => (item={'section': 'DEFAULT', 'option': 'api_extensions_path', 'value': '/usr/lib/python2.7/dist-packages/neutron_plugin_contrail/extensions'})
2016-04-21 20:52:37,452 p=21337 u=root |  skipping: [host3] => (item={'section': 'DEFAULT', 'option': 'notify_nova_on_port_data_changes', 'value': 'False'})
2016-04-21 20:52:37,452 p=21337 u=root |  skipping: [host1] => (item={'section': 'DEFAULT', 'option': 'service_plugins', 'value': ' '})
2016-04-21 20:52:37,453 p=21337 u=root |  skipping: [host2] => (item={'section': 'DEFAULT', 'option': 'api_extensions_path', 'value': '/usr/lib/python2.7/dist-packages/neutron_plugin_contrail/extensions'})
2016-04-21 20:52:37,456 p=21337 u=root |  skipping: [host3] => (item={'section': 'service_providers', 'option': 'service_provider', 'value': 'LOADBALANCER:Opencontrail:neutron_plugin_contrail.plugins.opencontrail.loadbalancer.driver.OpencontrailLoadbalancerDriver:default'})
2016-04-21 20:52:37,456 p=21337 u=root |  skipping: [host1] => (item={'section': 'DEFAULT', 'option': 'notify_nova_on_port_data_changes', 'value': 'False'})
2016-04-21 20:52:37,457 p=21337 u=root |  skipping: [host2] => (item={'section': 'DEFAULT', 'option': 'service_plugins', 'value': ' '})
2016-04-21 20:52:37,459 p=21337 u=root |  skipping: [host3] => (item={'section': 'quotas', 'option': 'quota_driver', 'value': 'neutron_plugin_contrail.plugins.opencontrail.quota.driver.QuotaDriver'})
2016-04-21 20:52:37,460 p=21337 u=root |  skipping: [host1] => (item={'section': 'service_providers', 'option': 'service_provider', 'value': 'LOADBALANCER:Opencontrail:neutron_plugin_contrail.plugins.opencontrail.loadbalancer.driver.OpencontrailLoadbalancerDriver:default'})
2016-04-21 20:52:37,460 p=21337 u=root |  skipping: [host2] => (item={'section': 'DEFAULT', 'option': 'notify_nova_on_port_data_changes', 'value': 'False'})
2016-04-21 20:52:37,464 p=21337 u=root |  skipping: [host1] => (item={'section': 'quotas', 'option': 'quota_driver', 'value': 'neutron_plugin_contrail.plugins.opencontrail.quota.driver.QuotaDriver'})
2016-04-21 20:52:37,464 p=21337 u=root |  skipping: [host2] => (item={'section': 'service_providers', 'option': 'service_provider', 'value': 'LOADBALANCER:Opencontrail:neutron_plugin_contrail.plugins.opencontrail.loadbalancer.driver.OpencontrailLoadbalancerDriver:default'})
2016-04-21 20:52:37,468 p=21337 u=root |  skipping: [host2] => (item={'section': 'quotas', 'option': 'quota_driver', 'value': 'neutron_plugin_contrail.plugins.opencontrail.quota.driver.QuotaDriver'})
2016-04-21 20:52:37,493 p=21337 u=root |  TASK: [open-contrail | restart supervisor config] ***************************** 
2016-04-21 20:52:37,541 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,545 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,551 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,567 p=21337 u=root |  TASK: [open-contrail | copy neutron plugs on controller] ********************** 
2016-04-21 20:52:37,620 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,627 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,639 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,651 p=21337 u=root |  TASK: [open-contrail | unzip neutron plugs] *********************************** 
2016-04-21 20:52:37,701 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,703 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,715 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,729 p=21337 u=root |  TASK: [open-contrail | remove original neutron plugs] ************************* 
2016-04-21 20:52:37,782 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,783 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,799 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,812 p=21337 u=root |  TASK: [open-contrail | use new neutron plugs] ********************************* 
2016-04-21 20:52:37,864 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,865 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,866 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,885 p=21337 u=root |  TASK: [open-contrail | restart neutron-server] ******************************** 
2016-04-21 20:52:37,932 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:37,938 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:37,946 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:37,959 p=21337 u=root |  TASK: [open-contrail | enable supervisor control] ***************************** 
2016-04-21 20:52:38,010 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,012 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,025 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,037 p=21337 u=root |  TASK: [open-contrail | enable supervisor dns] ********************************* 
2016-04-21 20:52:38,089 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,098 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,099 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,117 p=21337 u=root |  TASK: [open-contrail | modify ifmap server basicauthusers properties for control] *** 
2016-04-21 20:52:38,166 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,177 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,178 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,198 p=21337 u=root |  TASK: [open-contrail | modify ifmap server basicauthusers properties for dns] *** 
2016-04-21 20:52:38,251 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,252 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,252 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,269 p=21337 u=root |  TASK: [open-contrail | disable ufw] ******************************************* 
2016-04-21 20:52:38,321 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,328 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,329 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,347 p=21337 u=root |  TASK: [open-contrail | change value of kernel.core_pattern] ******************* 
2016-04-21 20:52:38,398 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,401 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,407 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,422 p=21337 u=root |  TASK: [open-contrail | change value of net.ipv4.ip_forward] ******************* 
2016-04-21 20:52:38,476 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,478 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,493 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,504 p=21337 u=root |  TASK: [open-contrail | make crashes directory] ******************************** 
2016-04-21 20:52:38,556 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,557 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,558 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,574 p=21337 u=root |  TASK: [open-contrail | fix up contrail control config] ************************ 
2016-04-21 20:52:38,622 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,624 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,634 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,648 p=21337 u=root |  TASK: [open-contrail | fix up contrail dns config] **************************** 
2016-04-21 20:52:38,692 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,700 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,701 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,806 - __main__ - ERROR - can not get cluster 1's state, try again
ERROR:__main__:can not get cluster 1's state, try again
2016-04-21 20:52:38,721 p=21337 u=root |  TASK: [open-contrail | fix up contrail control nodemgr config] **************** 
2016-04-21 20:52:38,765 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,771 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,778 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,789 p=21337 u=root |  TASK: [open-contrail | modify dns configuration] ****************************** 
2016-04-21 20:52:38,836 p=21337 u=root |  skipping: [host3] => (item=contrail-rndc.conf)
2016-04-21 20:52:38,839 p=21337 u=root |  skipping: [host1] => (item=contrail-rndc.conf)
2016-04-21 20:52:38,840 p=21337 u=root |  skipping: [host3] => (item=contrail-named.conf)
2016-04-21 20:52:38,841 p=21337 u=root |  skipping: [host2] => (item=contrail-rndc.conf)
2016-04-21 20:52:38,843 p=21337 u=root |  skipping: [host1] => (item=contrail-named.conf)
2016-04-21 20:52:38,845 p=21337 u=root |  skipping: [host2] => (item=contrail-named.conf)
2016-04-21 20:52:38,859 p=21337 u=root |  TASK: [open-contrail | restart supervisor control] **************************** 
2016-04-21 20:52:38,905 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,915 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,916 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,931 p=21337 u=root |  TASK: [open-contrail | enable supervisor analytics] *************************** 
2016-04-21 20:52:38,975 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:38,978 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:38,979 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:38,993 p=21337 u=root |  TASK: [open-contrail | stop redis server] ************************************* 
2016-04-21 20:52:39,037 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,040 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,047 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,061 p=21337 u=root |  TASK: [open-contrail | modify redis server configuration] ********************* 
2016-04-21 20:52:39,111 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*bind', 'replace': '#bind'})
2016-04-21 20:52:39,113 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*bind', 'replace': '#bind'})
2016-04-21 20:52:39,116 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*save', 'replace': '#save'})
2016-04-21 20:52:39,118 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*save', 'replace': '#save'})
2016-04-21 20:52:39,119 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*dbfilename', 'replace': '#dbfilename'})
2016-04-21 20:52:39,121 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*dbfilename', 'replace': '#dbfilename'})
2016-04-21 20:52:39,123 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*lua-time-limit\\s*\\d*', 'replace': 'lua-time-limit 15000'})
2016-04-21 20:52:39,125 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*bind', 'replace': '#bind'})
2016-04-21 20:52:39,125 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*lua-time-limit\\s*\\d*', 'replace': 'lua-time-limit 15000'})
2016-04-21 20:52:39,129 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*save', 'replace': '#save'})
2016-04-21 20:52:39,133 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*dbfilename', 'replace': '#dbfilename'})
2016-04-21 20:52:39,137 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*lua-time-limit\\s*\\d*', 'replace': 'lua-time-limit 15000'})
2016-04-21 20:52:39,151 p=21337 u=root |  TASK: [open-contrail | delete redis dump] ************************************* 
2016-04-21 20:52:39,201 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,202 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,206 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,221 p=21337 u=root |  TASK: [open-contrail | start redis server] ************************************ 
2016-04-21 20:52:39,272 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,280 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,282 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,298 p=21337 u=root |  TASK: [open-contrail | disable ufw] ******************************************* 
2016-04-21 20:52:39,344 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,345 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,352 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,368 p=21337 u=root |  TASK: [open-contrail | change value of kernel.core_pattern] ******************* 
2016-04-21 20:52:39,414 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,415 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,419 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,434 p=21337 u=root |  TASK: [open-contrail | change value of net.ipv4.ip_forward] ******************* 
2016-04-21 20:52:39,482 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,486 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,494 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,511 p=21337 u=root |  TASK: [open-contrail | make crashes directory] ******************************** 
2016-04-21 20:52:39,557 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,560 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,573 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,587 p=21337 u=root |  TASK: [open-contrail | fix up contrail collector config] ********************** 
2016-04-21 20:52:39,640 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,642 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,643 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,662 p=21337 u=root |  TASK: [open-contrail | fix up contrail query engine config] ******************* 
2016-04-21 20:52:39,721 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,722 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,723 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,741 p=21337 u=root |  TASK: [open-contrail | fix up contrail analytics api config] ****************** 
2016-04-21 20:52:39,798 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,802 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,811 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,826 p=21337 u=root |  TASK: [open-contrail | modify contrail analytics nodemgr config] ************** 
2016-04-21 20:52:39,878 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,881 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,882 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,907 p=21337 u=root |  TASK: [open-contrail | fix up contrail keystone auth config] ****************** 
2016-04-21 20:52:39,962 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:39,976 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:39,980 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:39,993 p=21337 u=root |  TASK: [open-contrail | delete contrail alarm gen supervisord config file] ***** 
2016-04-21 20:52:40,039 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,042 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,048 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,060 p=21337 u=root |  TASK: [open-contrail | modify contrail snmp collector config file] ************ 
2016-04-21 20:52:40,123 p=21337 u=root |  skipping: [host3] => (item={'section': 'DEFAULTS', 'option': 'zookeeper', 'value': u'192.168.201.13:2181'})
2016-04-21 20:52:40,128 p=21337 u=root |  skipping: [host1] => (item={'section': 'DEFAULTS', 'option': 'zookeeper', 'value': u'192.168.201.11:2181'})
2016-04-21 20:52:40,129 p=21337 u=root |  skipping: [host3] => (item={'section': 'DISCOVERY', 'option': 'disc_server_ip', 'value': u'192.168.201.99'})
2016-04-21 20:52:40,133 p=21337 u=root |  skipping: [host2] => (item={'section': 'DEFAULTS', 'option': 'zookeeper', 'value': u'192.168.201.12:2181'})
2016-04-21 20:52:40,133 p=21337 u=root |  skipping: [host1] => (item={'section': 'DISCOVERY', 'option': 'disc_server_ip', 'value': u'192.168.201.99'})
2016-04-21 20:52:40,133 p=21337 u=root |  skipping: [host3] => (item={'section': 'DISCOVERY', 'option': 'disc_server_port', 'value': '5998'})
2016-04-21 20:52:40,137 p=21337 u=root |  skipping: [host1] => (item={'section': 'DISCOVERY', 'option': 'disc_server_port', 'value': '5998'})
2016-04-21 20:52:40,138 p=21337 u=root |  skipping: [host2] => (item={'section': 'DISCOVERY', 'option': 'disc_server_ip', 'value': u'192.168.201.99'})
2016-04-21 20:52:40,142 p=21337 u=root |  skipping: [host2] => (item={'section': 'DISCOVERY', 'option': 'disc_server_port', 'value': '5998'})
2016-04-21 20:52:40,159 p=21337 u=root |  TASK: [open-contrail | modify contrail snmp collector ini file] *************** 
2016-04-21 20:52:40,216 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,222 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,229 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,241 p=21337 u=root |  TASK: [open-contrail | modify contrail topology config file] ****************** 
2016-04-21 20:52:40,285 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,291 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,293 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,311 p=21337 u=root |  TASK: [open-contrail | modify contrail topology ini file] ********************* 
2016-04-21 20:52:40,360 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,361 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,367 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,387 p=21337 u=root |  TASK: [open-contrail | restart supervisor analytics] ************************** 
2016-04-21 20:52:40,446 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,453 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,456 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,482 p=21337 u=root |  TASK: [open-contrail | recover rabbitmq-server service script] **************** 
2016-04-21 20:52:40,535 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,536 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,539 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,560 p=21337 u=root |  TASK: [open-contrail | restart rabbitmq-server] ******************************* 
2016-04-21 20:52:40,612 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,613 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,617 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,634 p=21337 u=root |  TASK: [open-contrail | wait rabbitmq-server start] **************************** 
2016-04-21 20:52:40,685 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,691 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,692 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,709 p=21337 u=root |  TASK: [open-contrail | restart contrail-discovery] **************************** 
2016-04-21 20:52:40,756 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,760 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,775 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,802 p=21337 u=root |  TASK: [open-contrail | wait contrail-discovery] ******************************* 
2016-04-21 20:52:40,852 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,862 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,863 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,882 p=21337 u=root |  TASK: [open-contrail | restart contrail-api] ********************************** 
2016-04-21 20:52:40,931 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:40,937 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:40,938 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:40,956 p=21337 u=root |  TASK: [open-contrail | check contrail-api] ************************************ 
2016-04-21 20:52:41,009 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,010 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,011 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,045 p=21337 u=root |  TASK: [open-contrail | wait contrail-api] ************************************* 
2016-04-21 20:52:41,095 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,102 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,109 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,122 p=21337 u=root |  TASK: [open-contrail | provision config node] ********************************* 
2016-04-21 20:52:41,220 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,222 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,227 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,247 p=21337 u=root |  TASK: [open-contrail | provision database node] ******************************* 
2016-04-21 20:52:41,294 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,306 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,307 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,325 p=21337 u=root |  TASK: [open-contrail | provision collector node] ****************************** 
2016-04-21 20:52:41,376 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,377 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,378 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,397 p=21337 u=root |  TASK: [open-contrail | provision control node] ******************************** 
2016-04-21 20:52:41,448 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,453 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,455 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,469 p=21337 u=root |  TASK: [open-contrail | provision metadata services] *************************** 
2016-04-21 20:52:41,491 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,492 p=21337 u=root |  TASK: [open-contrail | provision encap] *************************************** 
2016-04-21 20:52:41,511 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,512 p=21337 u=root |  TASK: [open-contrail | enable supervisor webui] ******************************* 
2016-04-21 20:52:41,556 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,565 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,570 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,584 p=21337 u=root |  TASK: [open-contrail | stop redis server] ************************************* 
2016-04-21 20:52:41,633 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,645 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,648 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,661 p=21337 u=root |  TASK: [open-contrail | modify redis server configuration] ********************* 
2016-04-21 20:52:41,710 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*bind', 'replace': '#bind'})
2016-04-21 20:52:41,714 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*save', 'replace': '#save'})
2016-04-21 20:52:41,716 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*bind', 'replace': '#bind'})
2016-04-21 20:52:41,718 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*dbfilename', 'replace': '#dbfilename'})
2016-04-21 20:52:41,720 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*save', 'replace': '#save'})
2016-04-21 20:52:41,722 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*bind', 'replace': '#bind'})
2016-04-21 20:52:41,722 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*lua-time-limit\\s*\\d*', 'replace': 'lua-time-limit 15000'})
2016-04-21 20:52:41,725 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*dbfilename', 'replace': '#dbfilename'})
2016-04-21 20:52:41,727 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*save', 'replace': '#save'})
2016-04-21 20:52:41,729 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*lua-time-limit\\s*\\d*', 'replace': 'lua-time-limit 15000'})
2016-04-21 20:52:41,730 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*dbfilename', 'replace': '#dbfilename'})
2016-04-21 20:52:41,734 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*lua-time-limit\\s*\\d*', 'replace': 'lua-time-limit 15000'})
2016-04-21 20:52:41,747 p=21337 u=root |  TASK: [open-contrail | delete redis dump] ************************************* 
2016-04-21 20:52:41,799 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,801 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,805 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,821 p=21337 u=root |  TASK: [open-contrail | start redis server] ************************************ 
2016-04-21 20:52:41,871 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,872 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,877 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,896 p=21337 u=root |  TASK: [open-contrail | disable ufw] ******************************************* 
2016-04-21 20:52:41,950 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:41,955 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:41,957 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:41,972 p=21337 u=root |  TASK: [open-contrail | change value of kernel.core_pattern] ******************* 
2016-04-21 20:52:42,023 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,025 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,026 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,043 p=21337 u=root |  TASK: [open-contrail | change value of net.ipv4.ip_forward] ******************* 
2016-04-21 20:52:42,097 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,098 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,110 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,123 p=21337 u=root |  TASK: [open-contrail | make crashes directory] ******************************** 
2016-04-21 20:52:42,195 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,196 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,215 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,229 p=21337 u=root |  TASK: [open-contrail | set first cassandra host address] ********************** 
2016-04-21 20:52:42,278 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,281 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,287 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,304 p=21337 u=root |  TASK: [open-contrail | set second or more cassandra host addresses] *********** 
2016-04-21 20:52:42,356 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,357 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,361 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,381 p=21337 u=root |  TASK: [open-contrail | modify webui global js] ******************************** 
2016-04-21 20:52:42,472 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.networkManager.ip', 'line': u"config.networkManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,477 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.imageManager.ip', 'line': u"config.imageManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,478 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.networkManager.ip', 'line': u"config.networkManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,479 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.networkManager.ip', 'line': u"config.networkManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,481 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.computeManager.ip', 'line': u"config.computeManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,482 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.imageManager.ip', 'line': u"config.imageManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,483 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.imageManager.ip', 'line': u"config.imageManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,484 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.identityManager.ip', 'line': u"config.identityManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,486 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.computeManager.ip', 'line': u"config.computeManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,486 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.computeManager.ip', 'line': u"config.computeManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,488 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.storageManager.ip', 'line': u"config.storageManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,489 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.identityManager.ip', 'line': u"config.identityManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,490 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.identityManager.ip', 'line': u"config.identityManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,493 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.cnfg.server_ip', 'line': u"config.cnfg.server_ip = '192.168.201.99';"})
2016-04-21 20:52:42,493 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.storageManager.ip', 'line': u"config.storageManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,494 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.storageManager.ip', 'line': u"config.storageManager.ip = '192.168.201.99';"})
2016-04-21 20:52:42,497 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.analytics.server_ip', 'line': u"config.analytics.server_ip = '192.168.201.99';"})
2016-04-21 20:52:42,497 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.cnfg.server_ip', 'line': u"config.cnfg.server_ip = '192.168.201.99';"})
2016-04-21 20:52:42,498 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.cnfg.server_ip', 'line': u"config.cnfg.server_ip = '192.168.201.99';"})
2016-04-21 20:52:42,500 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*config.cassandra.server_ips', 'line': u'config.cassandra.server_ips = [{# cassandra_addrs #}];'})
2016-04-21 20:52:42,501 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.analytics.server_ip', 'line': u"config.analytics.server_ip = '192.168.201.99';"})
2016-04-21 20:52:42,501 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.analytics.server_ip', 'line': u"config.analytics.server_ip = '192.168.201.99';"})
2016-04-21 20:52:42,505 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*config.cassandra.server_ips', 'line': u'config.cassandra.server_ips = [{# cassandra_addrs #}];'})
2016-04-21 20:52:42,505 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*config.cassandra.server_ips', 'line': u'config.cassandra.server_ips = [{# cassandra_addrs #}];'})
2016-04-21 20:52:42,524 p=21337 u=root |  TASK: [open-contrail | modify webui userauth js] ****************************** 
2016-04-21 20:52:42,579 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*auth.admin_user', 'line': u"auth.admin_user = 'admin';"})
2016-04-21 20:52:42,584 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*auth.admin_password', 'line': u"auth.admin_password = 'console';"})
2016-04-21 20:52:42,587 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*auth.admin_user', 'line': u"auth.admin_user = 'admin';"})
2016-04-21 20:52:42,588 p=21337 u=root |  skipping: [host3] => (item={'regexp': '^\\s*auth.admin_tenant_name', 'line': "auth.admin_tenant_name = 'admin';"})
2016-04-21 20:52:42,591 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*auth.admin_user', 'line': u"auth.admin_user = 'admin';"})
2016-04-21 20:52:42,592 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*auth.admin_password', 'line': u"auth.admin_password = 'console';"})
2016-04-21 20:52:42,596 p=21337 u=root |  skipping: [host1] => (item={'regexp': '^\\s*auth.admin_tenant_name', 'line': "auth.admin_tenant_name = 'admin';"})
2016-04-21 20:52:42,596 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*auth.admin_password', 'line': u"auth.admin_password = 'console';"})
2016-04-21 20:52:42,599 p=21337 u=root |  skipping: [host2] => (item={'regexp': '^\\s*auth.admin_tenant_name', 'line': "auth.admin_tenant_name = 'admin';"})
2016-04-21 20:52:42,618 p=21337 u=root |  TASK: [open-contrail | create symbolic link from nodejs to node] ************** 
2016-04-21 20:52:42,670 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,675 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,677 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,695 p=21337 u=root |  TASK: [open-contrail | restart supervisor webui] ****************************** 
2016-04-21 20:52:42,743 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,744 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,752 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,768 p=21337 u=root |  TASK: [open-contrail | enable supervisor vrouter] ***************************** 
2016-04-21 20:52:42,820 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,822 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,840 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,851 p=21337 u=root |  TASK: [open-contrail | disable ufw] ******************************************* 
2016-04-21 20:52:42,905 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,905 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,906 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:42,930 p=21337 u=root |  TASK: [open-contrail | change value of kernel.core_pattern] ******************* 
2016-04-21 20:52:42,986 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:42,986 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:42,989 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,018 p=21337 u=root |  TASK: [open-contrail | change value of net.ipv4.ip_forward] ******************* 
2016-04-21 20:52:43,070 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,071 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,071 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,095 p=21337 u=root |  TASK: [open-contrail | make crashes directory] ******************************** 
2016-04-21 20:52:43,144 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,151 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,158 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,172 p=21337 u=root |  TASK: [open-contrail | check cgroup device acl in qemu conf] ****************** 
2016-04-21 20:52:43,227 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,241 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,251 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,264 p=21337 u=root |  TASK: [open-contrail | create cgroup device acl for qemu conf] **************** 
2016-04-21 20:52:43,314 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,320 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,326 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,340 p=21337 u=root |  TASK: [open-contrail | combination of the qemu configuration] ***************** 
2016-04-21 20:52:43,406 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,415 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,429 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,446 p=21337 u=root |  TASK: [open-contrail | delete temporary configuration file] ******************* 
2016-04-21 20:52:43,507 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,514 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,515 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,529 p=21337 u=root |  TASK: [open-contrail | fix up vrouter nodemgr param] ************************** 
2016-04-21 20:52:43,585 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,586 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,589 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,620 p=21337 u=root |  TASK: [open-contrail | set contrail device name for ansible] ****************** 
2016-04-21 20:52:43,679 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,688 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,688 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,707 p=21337 u=root |  TASK: [open-contrail | fix up default pmac] *********************************** 
2016-04-21 20:52:43,799 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,804 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,806 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,823 p=21337 u=root |  TASK: [open-contrail | copy agent param config from template] ***************** 
2016-04-21 20:52:43,885 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,886 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,895 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:43,918 p=21337 u=root |  TASK: [open-contrail | modify agent param config] ***************************** 
2016-04-21 20:52:43,980 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:43,981 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:43,982 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:44,006 p=21337 u=root |  TASK: [open-contrail | get last ip address] *********************************** 
2016-04-21 20:52:44,065 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:44,071 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:44,079 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:44,095 p=21337 u=root |  TASK: [open-contrail | fix up contrail vrouter agent config] ****************** 
2016-04-21 20:52:44,150 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:44,151 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:44,158 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:44,176 p=21337 u=root |  TASK: [open-contrail | delete lines for contrail interface] ******************* 
2016-04-21 20:52:44,242 p=21337 u=root |  skipping: [host3] => (item=sed -e '/auto eth2/,$d' /etc/network/interfaces > /tmp/contrail-interfaces-top)
2016-04-21 20:52:44,243 p=21337 u=root |  skipping: [host1] => (item=sed -e '/auto eth2/,$d' /etc/network/interfaces > /tmp/contrail-interfaces-top)
2016-04-21 20:52:44,248 p=21337 u=root |  skipping: [host2] => (item=sed -e '/auto eth2/,$d' /etc/network/interfaces > /tmp/contrail-interfaces-top)
2016-04-21 20:52:44,249 p=21337 u=root |  skipping: [host3] => (item=sed -n -e '/auto eth2/,$p' /etc/network/interfaces > /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,249 p=21337 u=root |  skipping: [host1] => (item=sed -n -e '/auto eth2/,$p' /etc/network/interfaces > /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,254 p=21337 u=root |  skipping: [host2] => (item=sed -n -e '/auto eth2/,$p' /etc/network/interfaces > /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,254 p=21337 u=root |  skipping: [host1] => (item=sed -i -e '/auto eth2/d' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,255 p=21337 u=root |  skipping: [host3] => (item=sed -i -e '/auto eth2/d' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,259 p=21337 u=root |  skipping: [host2] => (item=sed -i -e '/auto eth2/d' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,259 p=21337 u=root |  skipping: [host1] => (item=sed -i -n -e '/auto .*/,$p' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,260 p=21337 u=root |  skipping: [host3] => (item=sed -i -n -e '/auto .*/,$p' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,264 p=21337 u=root |  skipping: [host2] => (item=sed -i -n -e '/auto .*/,$p' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,264 p=21337 u=root |  skipping: [host1] => (item=cat /tmp/contrail-interfaces-top /tmp/contrail-interfaces-bottom > /etc/network/interfaces)
2016-04-21 20:52:44,265 p=21337 u=root |  skipping: [host3] => (item=cat /tmp/contrail-interfaces-top /tmp/contrail-interfaces-bottom > /etc/network/interfaces)
2016-04-21 20:52:44,269 p=21337 u=root |  skipping: [host2] => (item=cat /tmp/contrail-interfaces-top /tmp/contrail-interfaces-bottom > /etc/network/interfaces)
2016-04-21 20:52:44,284 p=21337 u=root |  TASK: [open-contrail | delete lines for vrouter interface] ******************** 
2016-04-21 20:52:44,340 p=21337 u=root |  skipping: [host3] => (item=sed -e '/auto vhost0/,$d' /etc/network/interfaces > /tmp/contrail-interfaces-top)
2016-04-21 20:52:44,341 p=21337 u=root |  skipping: [host1] => (item=sed -e '/auto vhost0/,$d' /etc/network/interfaces > /tmp/contrail-interfaces-top)
2016-04-21 20:52:44,345 p=21337 u=root |  skipping: [host2] => (item=sed -e '/auto vhost0/,$d' /etc/network/interfaces > /tmp/contrail-interfaces-top)
2016-04-21 20:52:44,346 p=21337 u=root |  skipping: [host3] => (item=sed -n -e '/auto vhost0/,$p' /etc/network/interfaces > /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,347 p=21337 u=root |  skipping: [host1] => (item=sed -n -e '/auto vhost0/,$p' /etc/network/interfaces > /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,351 p=21337 u=root |  skipping: [host2] => (item=sed -n -e '/auto vhost0/,$p' /etc/network/interfaces > /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,351 p=21337 u=root |  skipping: [host3] => (item=sed -i -e '/auto vhost0/d' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,352 p=21337 u=root |  skipping: [host1] => (item=sed -i -e '/auto vhost0/d' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,356 p=21337 u=root |  skipping: [host2] => (item=sed -i -e '/auto vhost0/d' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,356 p=21337 u=root |  skipping: [host3] => (item=sed -i -n -e '/auto .*/,$p' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,357 p=21337 u=root |  skipping: [host1] => (item=sed -i -n -e '/auto .*/,$p' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,361 p=21337 u=root |  skipping: [host2] => (item=sed -i -n -e '/auto .*/,$p' /tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,361 p=21337 u=root |  skipping: [host3] => (item=cat /tmp/contrail-interfaces-top /tmp/contrail-interfaces-bottom > /etc/network/interfaces)
2016-04-21 20:52:44,362 p=21337 u=root |  skipping: [host1] => (item=cat /tmp/contrail-interfaces-top /tmp/contrail-interfaces-bottom > /etc/network/interfaces)
2016-04-21 20:52:44,366 p=21337 u=root |  skipping: [host2] => (item=cat /tmp/contrail-interfaces-top /tmp/contrail-interfaces-bottom > /etc/network/interfaces)
2016-04-21 20:52:44,382 p=21337 u=root |  TASK: [open-contrail | get last ip address] *********************************** 
2016-04-21 20:52:44,435 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:44,445 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:44,449 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:44,461 p=21337 u=root |  TASK: [open-contrail | configure interface] *********************************** 
2016-04-21 20:52:44,531 p=21337 u=root |  skipping: [host3] => (item=auto eth2)
2016-04-21 20:52:44,531 p=21337 u=root |  skipping: [host1] => (item=auto eth2)
2016-04-21 20:52:44,536 p=21337 u=root |  skipping: [host3] => (item=iface eth2 inet manual)
2016-04-21 20:52:44,537 p=21337 u=root |  skipping: [host1] => (item=iface eth2 inet manual)
2016-04-21 20:52:44,542 p=21337 u=root |  skipping: [host3] => (item=   pre-up ifconfig eth2 up)
2016-04-21 20:52:44,542 p=21337 u=root |  skipping: [host1] => (item=   pre-up ifconfig eth2 up)
2016-04-21 20:52:44,543 p=21337 u=root |  skipping: [host2] => (item=auto eth2)
2016-04-21 20:52:44,547 p=21337 u=root |  skipping: [host3] => (item=   post-down ifconfig eth2 down)
2016-04-21 20:52:44,547 p=21337 u=root |  skipping: [host1] => (item=   post-down ifconfig eth2 down)
2016-04-21 20:52:44,548 p=21337 u=root |  skipping: [host2] => (item=iface eth2 inet manual)
2016-04-21 20:52:44,552 p=21337 u=root |  skipping: [host3] => (item=auto vhost0)
2016-04-21 20:52:44,552 p=21337 u=root |  skipping: [host1] => (item=auto vhost0)
2016-04-21 20:52:44,554 p=21337 u=root |  skipping: [host2] => (item=   pre-up ifconfig eth2 up)
2016-04-21 20:52:44,557 p=21337 u=root |  skipping: [host3] => (item=iface vhost0 inet static)
2016-04-21 20:52:44,557 p=21337 u=root |  skipping: [host1] => (item=iface vhost0 inet static)
2016-04-21 20:52:44,559 p=21337 u=root |  skipping: [host2] => (item=   post-down ifconfig eth2 down)
2016-04-21 20:52:44,562 p=21337 u=root |  skipping: [host3] => (item=   pre-up /opt/contrail/bin/if-vhost0)
2016-04-21 20:52:44,562 p=21337 u=root |  skipping: [host1] => (item=   pre-up /opt/contrail/bin/if-vhost0)
2016-04-21 20:52:44,563 p=21337 u=root |  skipping: [host2] => (item=auto vhost0)
2016-04-21 20:52:44,566 p=21337 u=root |  skipping: [host3] => (item=   network_name application)
2016-04-21 20:52:44,567 p=21337 u=root |  skipping: [host1] => (item=   network_name application)
2016-04-21 20:52:44,568 p=21337 u=root |  skipping: [host2] => (item=iface vhost0 inet static)
2016-04-21 20:52:44,571 p=21337 u=root |  skipping: [host3] => (item=   address {# contrail_vhost_address #}{# lastip.stdout_lines[0] #})
2016-04-21 20:52:44,573 p=21337 u=root |  skipping: [host2] => (item=   pre-up /opt/contrail/bin/if-vhost0)
2016-04-21 20:52:44,574 p=21337 u=root |  skipping: [host1] => (item=   address {# contrail_vhost_address #}{# lastip.stdout_lines[0] #})
2016-04-21 20:52:44,578 p=21337 u=root |  skipping: [host2] => (item=   network_name application)
2016-04-21 20:52:44,578 p=21337 u=root |  skipping: [host3] => (item=   netmask 255.255.255.0)
2016-04-21 20:52:44,578 p=21337 u=root |  skipping: [host1] => (item=   netmask 255.255.255.0)
2016-04-21 20:52:44,583 p=21337 u=root |  skipping: [host2] => (item=   address {# contrail_vhost_address #}{# lastip.stdout_lines[0] #})
2016-04-21 20:52:44,590 p=21337 u=root |  skipping: [host2] => (item=   netmask 255.255.255.0)
2016-04-21 20:52:44,601 p=21337 u=root |  TASK: [open-contrail | copy vrouter script to compute] ************************ 
2016-04-21 20:52:44,646 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:44,655 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:44,659 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:44,672 p=21337 u=root |  TASK: [open-contrail | load vrouter driver] *********************************** 
2016-04-21 20:52:44,732 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:44,740 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:44,748 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:44,763 p=21337 u=root |  TASK: [open-contrail | run vhost0 script] ************************************* 
2016-04-21 20:52:44,809 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:44,814 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:44,823 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:44,843 p=21337 u=root |  TASK: [open-contrail | delete temporary files] ******************************** 
2016-04-21 20:52:44,901 p=21337 u=root |  skipping: [host1] => (item=/tmp/contrail-interfaces-top)
2016-04-21 20:52:44,902 p=21337 u=root |  skipping: [host3] => (item=/tmp/contrail-interfaces-top)
2016-04-21 20:52:44,912 p=21337 u=root |  skipping: [host1] => (item=/tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,914 p=21337 u=root |  skipping: [host3] => (item=/tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,915 p=21337 u=root |  skipping: [host2] => (item=/tmp/contrail-interfaces-top)
2016-04-21 20:52:44,921 p=21337 u=root |  skipping: [host2] => (item=/tmp/contrail-interfaces-bottom)
2016-04-21 20:52:44,947 p=21337 u=root |  TASK: [open-contrail | fix up contrail vrouter nodemgr config] **************** 
2016-04-21 20:52:45,012 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,013 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,026 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,054 p=21337 u=root |  TASK: [open-contrail | restart supervisor service] **************************** 
2016-04-21 20:52:45,113 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,124 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,132 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,154 p=21337 u=root |  TASK: [open-contrail | restart vrouter nodemgr] ******************************* 
2016-04-21 20:52:45,223 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,236 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,239 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,286 p=21337 u=root |  TASK: [open-contrail | restart vrouter agent] ********************************* 
2016-04-21 20:52:45,357 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,361 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,372 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,394 p=21337 u=root |  TASK: [open-contrail | restart libvirt bin] *********************************** 
2016-04-21 20:52:45,483 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,489 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,498 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,514 p=21337 u=root |  TASK: [open-contrail | set values to nova config] ***************************** 
2016-04-21 20:52:45,571 p=21337 u=root |  skipping: [host3] => (item={'section': 'DEFAULT', 'option': 'network_api_class', 'value': 'nova_contrail_vif.contrailvif.ContrailNetworkAPI'})
2016-04-21 20:52:45,573 p=21337 u=root |  skipping: [host2] => (item={'section': 'DEFAULT', 'option': 'network_api_class', 'value': 'nova_contrail_vif.contrailvif.ContrailNetworkAPI'})
2016-04-21 20:52:45,573 p=21337 u=root |  skipping: [host1] => (item={'section': 'DEFAULT', 'option': 'network_api_class', 'value': 'nova_contrail_vif.contrailvif.ContrailNetworkAPI'})
2016-04-21 20:52:45,592 p=21337 u=root |  TASK: [open-contrail | copy nova plugs on compute] **************************** 
2016-04-21 20:52:45,647 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,649 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,651 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,667 p=21337 u=root |  TASK: [open-contrail | unzip nova plugs] ************************************** 
2016-04-21 20:52:45,719 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,726 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,727 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,747 p=21337 u=root |  TASK: [open-contrail | remove original nova plugs] **************************** 
2016-04-21 20:52:45,796 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,800 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,803 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,817 p=21337 u=root |  TASK: [open-contrail | use new nova plugs] ************************************ 
2016-04-21 20:52:45,867 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,868 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,882 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,904 p=21337 u=root |  TASK: [open-contrail | restart nova compute] ********************************** 
2016-04-21 20:52:45,956 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:45,959 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:45,960 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:45,978 p=21337 u=root |  TASK: [open-contrail | add vrouter to contrail] ******************************* 
2016-04-21 20:52:46,029 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:46,033 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:46,034 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:46,053 p=21337 u=root |  TASK: [open-contrail | Enable Service Daemon] ********************************* 
2016-04-21 20:52:46,100 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:46,113 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:46,119 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:46,132 p=21337 u=root |  PLAY [controller] ************************************************************* 
2016-04-21 20:52:46,132 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:46,814 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:46,826 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:46,843 p=21337 u=root |  TASK: [ext-network | create external net] ************************************* 
2016-04-21 20:52:48,488 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:48,490 p=21337 u=root |  TASK: [ext-network | create external subnet] ********************************** 
2016-04-21 20:52:51,016 p=21337 u=root |  changed: [host1]
2016-04-21 20:52:51,017 p=21337 u=root |  PLAY [all] ******************************************************************** 
2016-04-21 20:52:51,018 p=21337 u=root |  GATHERING FACTS *************************************************************** 
2016-04-21 20:52:51,731 p=21337 u=root |  ok: [host1]
2016-04-21 20:52:51,733 p=21337 u=root |  ok: [host2]
2016-04-21 20:52:51,743 p=21337 u=root |  ok: [host3]
2016-04-21 20:52:51,763 p=21337 u=root |  TASK: [odl_cluster_post | restart opendaylight] ******************************* 
2016-04-21 20:52:51,808 p=21337 u=root |  skipping: [host3]
2016-04-21 20:52:51,820 p=21337 u=root |  skipping: [host1]
2016-04-21 20:52:51,821 p=21337 u=root |  skipping: [host2]
2016-04-21 20:52:51,839 p=21337 u=root |  PLAY RECAP ******************************************************************** 
        "updated_at": "2016-04-21 20:52:53",
        "id": 3,
---
        "state": "SUCCESSFUL",
  when: inventory_hostname == groups['onos'][0]
        "ready": true,
        "percentage": 1.0,
        "message": ""
    }
}

2016-04-21 20:52:53,150 p=21337 u=root |  host1                      : ok=277  changed=179  unreachable=0    failed=0   
2016-04-21 20:52:53,150 p=21337 u=root |  host2                      : ok=275  changed=176  unreachable=0    failed=0   
2016-04-21 20:52:53,150 p=21337 u=root |  host3                      : ok=140  changed=74   unreachable=0    failed=0   
INFO:__main__:get cluster 1 state status 200: {u'status': {u'completed_hosts': 3, u'total_hosts': 3, u'installing_hosts': 0, u'failed_hosts': 0}, u'severity': u'INFO', u'created_at': u'2016-04-21 19:54:17', u'message': u'total 3, installing 0, completed: 3, error 0', u'updated_at': u'2016-04-21 20:53:15', u'state': u'SUCCESSFUL', u'ready': False, u'percentage': 1.0, u'id': 1}, successful
INFO:__main__:no dashboarde url set
+ RET=0
+ sleep 25
+ [[ -n 0 ]]
+ /bin/true
+ echo 'host1=controller,ha;host2=controller,ha;host3=compute'
host1=controller,ha;host2=controller,ha;host3=compute
+ echo baremetal
baremetal
+ echo os-onos-nofeature-ha.yml
os-onos-nofeature-ha.yml
++ echo 'host1=controller,ha;host2=controller,ha;host3=compute'
++ grep opencontrail
+ [[ -n '' ]]
+ figlet -ctf slant Installation 'Complete!'
                                                         ____           __        ____      __  _                ______                      __     __       __
                                                        /  _/___  _____/ /_____ _/ / /___ _/ /_(_)___  ____     / ____/___  ____ ___  ____  / /__  / /____  / /
                                                        / // __ \/ ___/ __/ __ `/ / / __ `/ __/ / __ \/ __ \   / /   / __ \/ __ `__ \/ __ \/ / _ \/ __/ _ \/ / 
                                                      _/ // / / (__  ) /_/ /_/ / / / /_/ / /_/ / /_/ / / / /  / /___/ /_/ / / / / / / /_/ / /  __/ /_/  __/_/  
                                                     /___/_/ /_/____/\__/\__,_/_/_/\__,_/\__/_/\____/_/ /_/   \____/\____/_/ /_/ /_/ .___/_/\___/\__/\___(_)   
                                                                                                                                  /_/                          
onos@jumpserver:~/compass4nfv_git/compass4nfv_bm$ ls
build     config  deploy_compass.sh  deploy.sh  INFO     __main__.log  os-nosdn-nofeature-ha.yml  README.md         util
build.sh  deploy  deploy_host.sh     docs       LICENSE  network.yml   os-onos-nofeature-ha.yml   redeploy_host.sh  work
onos@jumpserver:~/compass4nfv_git/compass4nfv_bm$ ssh root@192.168.200.2
root@192.168.200.2's password: 
Last login: Thu Apr 21 20:26:44 2016 from 192.168.200.1
[root@compass ~]# ls
anaconda-ks.cfg  ks-post.log  ks-pre.log
[root@compass ~]# ls
anaconda-ks.cfg  ks-post.log  ks-pre.log
[root@compass ~]# cd /var/ansible/run/openstack_liberty-opnfv2/
[root@compass openstack_liberty-opnfv2]# ls
ansible.cfg  ansible.log  group_vars  HA-ansible-multinodes.yml  inventories  roles  run.log  templates
[root@compass openstack_liberty-opnfv2]# vi inventories/inventory.yml 
[root@compass openstack_liberty-opnfv2]# vi HA-ansible-multinodes.yml 
[root@compass openstack_liberty-opnfv2]# vi onos.yml
[root@compass openstack_liberty-opnfv2]# vi roles/onos_cluster/tasks/openvswitch.yml 
[root@compass openstack_liberty-opnfv2]# cd /var/ansible/run/openstack_liberty-opnfv2/
[root@compass openstack_liberty-opnfv2]# ls
ansible.cfg  ansible.log  group_vars  HA-ansible-multinodes.yml  inventories  onos.yml  roles  run.log  templates
[root@compass openstack_liberty-opnfv2]# /bin/ansible-playbook -i inventories/inventory.yml onos.yml

PLAY [all] ******************************************************************** 

GATHERING FACTS *************************************************************** 
ok: [host1]
ok: [host2]
ok: [host3]

TASK: [onos_cluster | include_vars {{ ansible_os_family }}.yml] *************** 
ok: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | remove neutron-plugin-openvswitch-agent auto start] ***** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | shut down and disable Neutron's agent services] ********* 
changed: [host1]
changed: [host2]
changed: [host3]

TASK: [onos_cluster | remove neutron-l3-agent auto start] ********************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | shut down and disable Neutron's l3 agent services] ****** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Stop the Open vSwitch service and clear existing OVSDB] *** 
failed: [host3] => {"changed": true, "cmd": "ovs-vsctl del-br br-int ; ovs-vsctl del-br br-tun ; ovs-vsctl del-manager ; ip link delete onos_port1 type veth peer name onos_port2;", "delta": "0:00:00.167734", "end": "2016-04-21 21:00:14.190132", "rc": 1, "start": "2016-04-21 21:00:14.022398", "warnings": []}
stderr: Cannot find device "onos_port1"
...ignoring
failed: [host2] => {"changed": true, "cmd": "ovs-vsctl del-br br-int ; ovs-vsctl del-br br-tun ; ovs-vsctl del-manager ; ip link delete onos_port1 type veth peer name onos_port2;", "delta": "0:00:00.186971", "end": "2016-04-21 21:00:14.213512", "rc": 1, "start": "2016-04-21 21:00:14.026541", "warnings": []}
stderr: Cannot find device "onos_port1"
...ignoring
failed: [host1] => {"changed": true, "cmd": "ovs-vsctl del-br br-int ; ovs-vsctl del-br br-tun ; ovs-vsctl del-manager ; ip link delete onos_port1 type veth peer name onos_port2;", "delta": "0:00:00.181385", "end": "2016-04-21 21:00:14.217074", "rc": 1, "start": "2016-04-21 21:00:14.035689", "warnings": []}
stderr: Cannot find device "onos_port1"
...ignoring

TASK: [onos_cluster | upload onos driver package] ***************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | install onos driver] ************************************ 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | install onos required packages] ************************* 
skipping: [host3] => (item=software-properties-common)
skipping: [host3] => (item=crudini)
changed: [host1] => (item=software-properties-common)
changed: [host2] => (item=software-properties-common)
changed: [host1] => (item=crudini)
changed: [host2] => (item=crudini)

TASK: [onos_cluster | get image http server] ********************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | download oracle-jdk8 package file] ********************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | upload install_jdk8 scripts] **************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | install install_jdk8 package] *************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | create JAVA_HOME environment variable] ****************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | create onos group] ************************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | create onos user] *************************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | download onos package] ********************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | create new jar repository] ****************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | download jar repository] ******************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | extract jar repository] ********************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | extract onos package] *********************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | configure onos service] ********************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | configure onos boot feature] **************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | wait for config time] *********************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | wait for restart time] ********************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | wait for onos start time] ******************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | wait for onos start time] ******************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | add onos auto start] ************************************ 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Configure Neutron1] ************************************* 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | Create ML2 Configuration File] ************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Configure Neutron2] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Configure Neutron3] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Restart neutron-server] ********************************* 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | set veth port] ****************************************** 
changed: [host2]
changed: [host1]
changed: [host3]

TASK: [onos_cluster | set veth to ovs] **************************************** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | add ovsdatabase feature] ******************************** 
skipping: [host3]
skipping: [host1]
skipping: [host2]

TASK: [onos_cluster | add openflow-base feature] ****************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | add openflow feature] *********************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | add vtn feature] **************************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | add lldp feature] *************************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | set public eth card start] ****************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | change cluster create file] ***************************** 
skipping: [host3]
skipping: [host2]
changed: [host1]

TASK: [onos_cluster | prepare for onos cluster environment] ******************* 
skipping: [host3]
skipping: [host2]
changed: [host1]

TASK: [onos_cluster | start up onos cluster] ********************************** 
skipping: [host3]
skipping: [host2]
changed: [host1]

TASK: [onos_cluster | wait for onos cluster time] ***************************** 
changed: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | wait for onos start time] ******************************* 
changed: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | Set ONOS as the manager] ******************************** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | wait for set-manager time] ****************************** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Set ONOS as the controller] ***************************** 
failed: [host3] => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "ovs-vsctl set-controller br-int tcp:192.168.201.11:6653 tcp:192.168.201.12:6653;"], "delta": "0:00:00.011720", "end": "2016-04-21 21:08:42.256259", "rc": 1, "start": "2016-04-21 21:08:42.244539", "warnings": []}
stderr: ovs-vsctl: no bridge named br-int
failed: [host2] => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "ovs-vsctl set-controller br-int tcp:192.168.201.11:6653 tcp:192.168.201.12:6653;"], "delta": "0:00:00.012644", "end": "2016-04-21 21:08:42.265989", "rc": 1, "start": "2016-04-21 21:08:42.253345", "warnings": []}
stderr: ovs-vsctl: no bridge named br-int
failed: [host1] => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "ovs-vsctl set-controller br-int tcp:192.168.201.11:6653 tcp:192.168.201.12:6653;"], "delta": "0:00:00.012813", "end": "2016-04-21 21:08:42.278840", "rc": 1, "start": "2016-04-21 21:08:42.266027", "warnings": []}
stderr: ovs-vsctl: no bridge named br-int

FATAL: all hosts have already failed -- aborting

PLAY RECAP ******************************************************************** 
           to retry, use: --limit @/root/onos.retry

host1                      : ok=52   changed=50   unreachable=0    failed=1   
host2                      : ok=49   changed=47   unreachable=0    failed=1   
host3                      : ok=12   changed=9    unreachable=0    failed=1   

Exception TypeError: TypeError("'NoneType' object is not callable",) in <bound method Client.__del__ of <compass.apiclient.restful.Client object at 0x25f3910>> ignored
[root@compass openstack_liberty-opnfv2]# /bin/ansible-playbook -i inventories/inventory.yml onos.yml

PLAY [all] ******************************************************************** 

GATHERING FACTS *************************************************************** 
ok: [host1]
ok: [host3]
ok: [host2]

TASK: [onos_cluster | include_vars {{ ansible_os_family }}.yml] *************** 
ok: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | remove neutron-plugin-openvswitch-agent auto start] ***** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | shut down and disable Neutron's agent services] ********* 
ok: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | remove neutron-l3-agent auto start] ********************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | shut down and disable Neutron's l3 agent services] ****** 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | Stop the Open vSwitch service and clear existing OVSDB] *** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | upload onos driver package] ***************************** 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | install onos driver] ************************************ 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | install onos required packages] ************************* 
skipping: [host3] => (item=software-properties-common)
skipping: [host3] => (item=crudini)
ok: [host1] => (item=software-properties-common)
ok: [host2] => (item=software-properties-common)
ok: [host1] => (item=crudini)
ok: [host2] => (item=crudini)

TASK: [onos_cluster | get image http server] ********************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | download oracle-jdk8 package file] ********************** 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | upload install_jdk8 scripts] **************************** 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | install install_jdk8 package] *************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | create JAVA_HOME environment variable] ****************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | create onos group] ************************************** 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | create onos user] *************************************** 
skipping: [host3]
ok: [host2]
ok: [host1]

TASK: [onos_cluster | download onos package] ********************************** 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | create new jar repository] ****************************** 
skipping: [host3]
failed: [host1] => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "mkdir ~/.m2"], "delta": "0:00:00.009319", "end": "2016-04-21 21:12:27.447740", "rc": 1, "start": "2016-04-21 21:12:27.438421", "warnings": []}
stderr: mkdir: cannot create directory ‘/root/.m2’: File exists
...ignoring
failed: [host2] => {"changed": true, "cmd": ["su", "-s", "/bin/sh", "-c", "mkdir ~/.m2"], "delta": "0:00:00.009570", "end": "2016-04-21 21:12:27.447983", "rc": 1, "start": "2016-04-21 21:12:27.438413", "warnings": []}
stderr: mkdir: cannot create directory ‘/root/.m2’: File exists
...ignoring

TASK: [onos_cluster | download jar repository] ******************************** 
skipping: [host3]
ok: [host2]
ok: [host1]

TASK: [onos_cluster | extract jar repository] ********************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | extract onos package] *********************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | configure onos service] ********************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | configure onos boot feature] **************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | wait for config time] *********************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | wait for restart time] ********************************** 
skipping: [host3]
        changed: [host2]
changed: [host1]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | wait for onos start time] ******************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | wait for onos start time] ******************************* 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | add onos auto start] ************************************ 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Configure Neutron1] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Create ML2 Configuration File] ************************** 
skipping: [host3]
ok: [host1]
ok: [host2]

TASK: [onos_cluster | Configure Neutron2] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Configure Neutron3] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | Restart neutron-server] ********************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | set veth port] ****************************************** 
changed: [host1]
changed: [host2]
changed: [host3]

TASK: [onos_cluster | set veth to ovs] **************************************** 
failed: [host3] => {"changed": true, "cmd": "export externamMac=`ifconfig eth1 | grep \"HWaddr\" | awk '{print $5}'`; ifconfig onos_port2 hw ether $externamMac; ovs-vsctl add-port br-prv onos_port1;", "delta": "0:00:00.009024", "end": "2016-04-21 21:16:42.013373", "rc": 1, "start": "2016-04-21 21:16:42.004349", "warnings": []}
stderr: ovs-vsctl: cannot create a port named onos_port1 because a port named onos_port1 already exists on bridge br-prv
...ignoring
failed: [host1] => {"changed": true, "cmd": "export externamMac=`ifconfig eth1 | grep \"HWaddr\" | awk '{print $5}'`; ifconfig onos_port2 hw ether $externamMac; ovs-vsctl add-port br-prv onos_port1;", "delta": "0:00:00.009157", "end": "2016-04-21 21:16:42.030928", "rc": 1, "start": "2016-04-21 21:16:42.021771", "warnings": []}
stderr: ovs-vsctl: cannot create a port named onos_port1 because a port named onos_port1 already exists on bridge br-prv
...ignoring
failed: [host2] => {"changed": true, "cmd": "export externamMac=`ifconfig eth1 | grep \"HWaddr\" | awk '{print $5}'`; ifconfig onos_port2 hw ether $externamMac; ovs-vsctl add-port br-prv onos_port1;", "delta": "0:00:00.009448", "end": "2016-04-21 21:16:42.045434", "rc": 1, "start": "2016-04-21 21:16:42.035986", "warnings": []}
stderr: ovs-vsctl: cannot create a port named onos_port1 because a port named onos_port1 already exists on bridge br-prv
...ignoring

TASK: [onos_cluster | add ovsdatabase feature] ******************************** 
skipping: [host3]
skipping: [host1]
skipping: [host2]

TASK: [onos_cluster | add openflow-base feature] ****************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | add openflow feature] *********************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | add vtn feature] **************************************** 
skipping: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | add lldp feature] *************************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | set public eth card start] ****************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | change cluster create file] ***************************** 
skipping: [host3]
skipping: [host2]
ok: [host1]

TASK: [onos_cluster | prepare for onos cluster environment] ******************* 
skipping: [host3]
skipping: [host2]
changed: [host1]

TASK: [onos_cluster | start up onos cluster] ********************************** 
skipping: [host3]
skipping: [host2]
changed: [host1]

TASK: [onos_cluster | wait for onos cluster time] ***************************** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | start onos service] ************************************* 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | wait for onos start time] ******************************* 
changed: [host1]
changed: [host3]
changed: [host2]

TASK: [onos_cluster | Set ONOS as the manager] ******************************** 
changed: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | wait for set-manager time] ****************************** 
changed: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | Set ONOS as the controller] ***************************** 
changed: [host3]
changed: [host2]
changed: [host1]

TASK: [onos_cluster | set gateway mac address] ******************************** 
skipping: [host3]
changed: [host1]
changed: [host2]

TASK: [onos_cluster | delete default gateway] ********************************* 
skipping: [host1]
skipping: [host2]
changed: [host3]

PLAY RECAP ******************************************************************** 
host1                      : ok=54   changed=39   unreachable=0    failed=0   
host2                      : ok=51   changed=37   unreachable=0    failed=0   
host3                      : ok=14   changed=10   unreachable=0    failed=0   

Exception TypeError: TypeError("'NoneType' object is not callable",) in <bound method Client.__del__ of <compass.apiclient.restful.Client object at 0x1bb9910>> ignored